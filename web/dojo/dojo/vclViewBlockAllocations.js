/*
	Copyright (c) 2004-2012, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1),_4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}),function(_6,_7){_3[_7]=_3[_7]||_6;});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);if(_3[0]<100){_4.setFullYear(_3[0]||1970);}var _8=0,_9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _c=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _d=[],_e=_b.zulu?"getUTC":"get",_f="";if(_b.selector!="time"){var _10=_a[_e+"FullYear"]();_f=["0000".substr((_10+"").length)+_10,_c(_a[_e+"Month"]()+1),_c(_a[_e+"Date"]())].join("-");}_d.push(_f);if(_b.selector!="date"){var _11=[_c(_a[_e+"Hours"]()),_c(_a[_e+"Minutes"]()),_c(_a[_e+"Seconds"]())].join(":");var _12=_a[_e+"Milliseconds"]();if(_b.milliseconds){_11+="."+(_12<100?"0":"")+_c(_12);}if(_b.zulu){_11+="Z";}else{if(_b.selector!="time"){var _13=_a.getTimezoneOffset();var _14=Math.abs(_13);_11+=(_13>0?"-":"+")+_c(Math.floor(_14/60))+":"+_c(_14%60);}}_d.push(_11);}return _d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _15(_16){if(d.isString(_16)){return "string";}if(typeof _16=="number"){return "number";}if(typeof _16=="boolean"){return "boolean";}if(d.isFunction(_16)){return "function";}if(d.isArray(_16)){return "array";}if(_16 instanceof Date){return "date";}if(_16 instanceof d._Url){return "url";}return "object";};function _17(_18,_19){switch(_19){case "string":return _18;case "number":return _18.length?Number(_18):NaN;case "boolean":return typeof _18=="boolean"?_18:!(_18.toLowerCase()=="false");case "function":if(d.isFunction(_18)){_18=_18.toString();_18=d.trim(_18.substring(_18.indexOf("{")+1,_18.length-1));}try{if(_18===""||_18.search(/[^\w\.]+/i)!=-1){return new Function(_18);}else{return d.getObject(_18,false)||new Function(_18);}}catch(e){return new Function();}case "array":return _18?_18.split(/\s*,\s*/):[];case "date":switch(_18){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_18);}case "url":return d.baseUrl+_18;default:return d.fromJson(_18);}};var _1a={},_1b={};d.connect(d,"extend",function(){_1b={};});function _1c(cls,_1d){for(var _1e in cls){if(_1e.charAt(0)=="_"){continue;}if(_1e in _1a){continue;}_1d[_1e]=_15(cls[_1e]);}return _1d;};function _1f(_20,_21){var c=_1b[_20];if(!c){var cls=d.getObject(_20),_22=null;if(!cls){return null;}if(!_21){_22=_1c(cls.prototype,{});}c={cls:cls,params:_22};}else{if(!_21&&!c.params){c.params=_1c(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_23,_24){var _25="";var _26="";var _27=(_23.getAttribute(_24+"args")||_23.getAttribute("args"));if(_27){d.forEach(_27.split(/\s*,\s*/),function(_28,idx){_25+="var "+_28+" = arguments["+idx+"]; ";});}var _29=_23.getAttribute("with");if(_29&&_29.length){d.forEach(_29.split(/\s*,\s*/),function(_2a){_25+="with("+_2a+"){";_26+="}";});}return new Function(_25+_23.innerHTML+_26);};this.instantiate=function(_2b,_2c,_2d){var _2e=[],_2c=_2c||{};_2d=_2d||{};var _2f=(_2d.scope||d._scopeName)+"Type",_30="data-"+(_2d.scope||d._scopeName)+"-";d.forEach(_2b,function(obj){if(!obj){return;}var _31,_32,_33,_34,_35,_36;if(obj.node){_31=obj.node;_32=obj.type;_36=obj.fastpath;_33=obj.clsInfo||(_32&&_1f(_32,_36));_34=_33&&_33.cls;_35=obj.scripts;}else{_31=obj;_32=_2f in _2c?_2c[_2f]:_31.getAttribute(_2f);_33=_32&&_1f(_32);_34=_33&&_33.cls;_35=(_34&&(_34._noScript||_34.prototype._noScript)?[]:d.query("> script[type^='dojo/']",_31));}if(!_33){throw new Error("Could not load class '"+_32);}var _37={};if(_2d.defaults){d._mixin(_37,_2d.defaults);}if(obj.inherited){d._mixin(_37,obj.inherited);}if(_36){var _38=_31.getAttribute(_30+"props");if(_38&&_38.length){try{_38=d.fromJson.call(_2d.propsThis,"{"+_38+"}");d._mixin(_37,_38);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_38+"'");}}var _39=_31.getAttribute(_30+"attach-point");if(_39){_37.dojoAttachPoint=_39;}var _3a=_31.getAttribute(_30+"attach-event");if(_3a){_37.dojoAttachEvent=_3a;}dojo.mixin(_37,_2c);}else{var _3b=_31.attributes;for(var _3c in _33.params){var _3d=_3c in _2c?{value:_2c[_3c],specified:true}:_3b.getNamedItem(_3c);if(!_3d||(!_3d.specified&&(!dojo.isIE||_3c.toLowerCase()!="value"))){continue;}var _3e=_3d.value;switch(_3c){case "class":_3e="className" in _2c?_2c.className:_31.className;break;case "style":_3e="style" in _2c?_2c.style:(_31.style&&_31.style.cssText);}var _3f=_33.params[_3c];if(typeof _3e=="string"){_37[_3c]=_17(_3e,_3f);}else{_37[_3c]=_3e;}}}var _40=[],_41=[];d.forEach(_35,function(_42){_31.removeChild(_42);var _43=(_42.getAttribute(_30+"event")||_42.getAttribute("event")),_32=_42.getAttribute("type"),nf=d.parser._functionFromScript(_42,_30);if(_43){if(_32=="dojo/connect"){_40.push({event:_43,func:nf});}else{_37[_43]=nf;}}else{_41.push(nf);}});var _44=_34.markupFactory||_34.prototype&&_34.prototype.markupFactory;var _45=_44?_44(_37,_31,_34):new _34(_37,_31);_2e.push(_45);var _46=(_31.getAttribute(_30+"id")||_31.getAttribute("jsId"));if(_46){d.setObject(_46,_45);}d.forEach(_40,function(_47){d.connect(_45,_47.event,null,_47.func);});d.forEach(_41,function(_48){_48.call(_45);});});if(!_2c._started){d.forEach(_2e,function(_49){if(!_2d.noStart&&_49&&dojo.isFunction(_49.startup)&&!_49._started&&(!_49.getParent||!_49.getParent())){_49.startup();}});}return _2e;};this.parse=function(_4a,_4b){var _4c;if(!_4b&&_4a&&_4a.rootNode){_4b=_4a;_4c=_4b.rootNode;}else{_4c=_4a;}_4c=_4c?dojo.byId(_4c):dojo.body();_4b=_4b||{};var _4d=(_4b.scope||d._scopeName)+"Type",_4e="data-"+(_4b.scope||d._scopeName)+"-";function _4f(_50,_51){var _52=dojo.clone(_50.inherited);dojo.forEach(["dir","lang"],function(_53){var val=_50.node.getAttribute(_53);if(val){_52[_53]=val;}});var _54=_50.clsInfo&&!_50.clsInfo.cls.prototype._noScript?_50.scripts:null;var _55=(!_50.clsInfo||!_50.clsInfo.cls.prototype.stopParser)||(_4b&&_4b.template);for(var _56=_50.node.firstChild;_56;_56=_56.nextSibling){if(_56.nodeType==1){var _57,_58=_55&&_56.getAttribute(_4e+"type");if(_58){_57=_58;}else{_57=_55&&_56.getAttribute(_4d);}var _59=_58==_57;if(_57){var _5a={"type":_57,fastpath:_59,clsInfo:_1f(_57,_59),node:_56,scripts:[],inherited:_52};_51.push(_5a);_4f(_5a,_51);}else{if(_54&&_56.nodeName.toLowerCase()=="script"){_57=_56.getAttribute("type");if(_57&&/^dojo\/\w/i.test(_57)){_54.push(_56);}}else{if(_55){_4f({node:_56,inherited:_52},_51);}}}}}};var _5b={};if(_4b&&_4b.inherited){for(var key in _4b.inherited){if(_4b.inherited[key]){_5b[key]=_4b.inherited[key];}}}var _5c=[];_4f({node:_4c,inherited:_5b},_5c);var _5d=_4b&&_4b.template?{template:true}:null;return this.instantiate(_5c,_5d,_4b);};}();(function(){var _5e=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_5e);}else{dojo._loaders.unshift(_5e);}})();}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _5f=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _60=dojo._docScroll();return {w:_5f.clientWidth,h:_5f.clientHeight,l:_60.x,t:_60.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(_61,pos){_61=dojo.byId(_61);var _62,doc=_61.ownerDocument||dojo.doc;if(!("rtl_adjust_position_for_verticalScrollBar" in dojo.window)){_62=dojo.body();var _63=dojo.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},_62,"last"),div=dojo.create("div",{style:{overflow:"hidden",direction:"ltr"}},_63,"last");dojo.window.rtl_adjust_position_for_verticalScrollBar=dojo.position(div).x!=0;_63.removeChild(div);_62.removeChild(_63);}if(!("position_fixed_support" in dojo.window)){_62=dojo.body();var _64=dojo.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},_62,"last"),_65=dojo.create("span",{style:{position:"fixed",left:"0",top:"0"}},_64,"last");dojo.window.position_fixed_support=dojo.position(_65).x!=dojo.position(_64).x;_64.removeChild(_65);_62.removeChild(_64);}try{_62=doc.body||doc.getElementsByTagName("body")[0];var _66=doc.documentElement||_62.parentNode,_67=dojo.isIE,_68=dojo.isWebKit;if(_61==_62||_61==_66){return;}if(!(dojo.isMozilla||_67||_68||dojo.isOpera)&&("scrollIntoView" in _61)){_61.scrollIntoView(false);return;}var _69=doc.compatMode=="BackCompat",_6a=Math.min(_62.clientWidth||_66.clientWidth,_66.clientWidth||_62.clientWidth),_6b=Math.min(_62.clientHeight||_66.clientHeight,_66.clientHeight||_62.clientHeight),_6c=(_68||_69)?_62:_66,_6d=pos||dojo.position(_61),el=_61.parentNode,_6e=function(el){return (_67<=6||(_67==7&&_69))?false:(dojo.window.position_fixed_support&&(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_6e(_61)){return;}while(el){if(el==_62){el=_6c;}var _6f=dojo.position(el),_70=_6e(el),rtl=dojo.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_6c){_6f.w=_6a;_6f.h=_6b;if(_6c==_66&&_67&&rtl){_6f.x+=_6c.offsetWidth-_6f.w;}if(_6f.x<0||!_67||_67>=9){_6f.x=0;}if(_6f.y<0||!_67||_67>=9){_6f.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_6f.w-=pb.w;_6f.h-=pb.h;_6f.x+=pb.l;_6f.y+=pb.t;var _71=el.clientWidth,_72=_6f.w-_71;if(_71>0&&_72>0){if(rtl&&dojo.window.rtl_adjust_position_for_verticalScrollBar){_6f.x+=_72;}_6f.w=_71;}_71=el.clientHeight;_72=_6f.h-_71;if(_71>0&&_72>0){_6f.h=_71;}}if(_70){if(_6f.y<0){_6f.h+=_6f.y;_6f.y=0;}if(_6f.x<0){_6f.w+=_6f.x;_6f.x=0;}if(_6f.y+_6f.h>_6b){_6f.h=_6b-_6f.y;}if(_6f.x+_6f.w>_6a){_6f.w=_6a-_6f.x;}}var l=_6d.x-_6f.x,t=_6d.y-_6f.y,r=l+_6d.w-_6f.w,bot=t+_6d.h-_6f.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_6c||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((_67==8&&!_69)||_67>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_6d.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_6c||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_6d.y-=s;}el=(el!=_6c)&&!_70&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_61.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_73){if(this._hash[_73.id]){throw new Error("Tried to register widget with id=="+_73.id+" but that id is already registered");}this._hash[_73.id]=_73;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_74,_75){_75=_75||dojo.global;var i=0,id;for(id in this._hash){_74.call(_75,this._hash[id],i++,this._hash);}return this;},filter:function(_76,_77){_77=_77||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_76.call(_77,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_78;for(id in this._hash){_78=this._hash[id];if(_78.declaredClass==cls){res.add(_78);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_79,_7a){return dojo.map(this.toArray(),_79,_7a);},every:function(_7b,_7c){_7c=_7c||dojo.global;var x=0,i;for(i in this._hash){if(!_7b.call(_7c,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_7d,_7e){_7e=_7e||dojo.global;var x=0,i;for(i in this._hash){if(_7d.call(_7e,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _7f=dijit.registry._hash,_80=dojo.attr,_81=dojo.hasAttr,_82=dojo.style;dijit.byId=function(id){return typeof id=="string"?_7f[id]:id;};var _83={};dijit.getUniqueId=function(_84){var id;do{id=_84+"_"+(_84 in _83?++_83[_84]:_83[_84]=0);}while(_7f[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_85){var _86=[];function _87(_88){for(var _89=_88.firstChild;_89;_89=_89.nextSibling){if(_89.nodeType==1){var _8a=_89.getAttribute("widgetId");if(_8a){var _8b=_7f[_8a];if(_8b){_86.push(_8b);}}else{_87(_89);}}}};_87(_85);return _86;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_8c){if(!_8c._destroyed){if(_8c.destroyRecursive){_8c.destroyRecursive();}else{if(_8c.destroy){_8c.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_8d){return _7f[_8d.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_8e){while(_8e){var id=_8e.getAttribute&&_8e.getAttribute("widgetId");if(id){return _7f[id];}_8e=_8e.parentNode;}return null;};var _8f=(dijit._isElementShown=function(_90){var s=_82(_90);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_80(_90,"type")!="hidden");});dijit.hasDefaultTabStop=function(_91){switch(_91.nodeName.toLowerCase()){case "a":return _81(_91,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _92;try{var _93=_91.contentDocument;if("designMode" in _93&&_93.designMode=="on"){return true;}_92=_93.body;}catch(e1){try{_92=_91.contentWindow.document.body;}catch(e2){return false;}}return _92.contentEditable=="true"||(_92.firstChild&&_92.firstChild.contentEditable=="true");default:return _91.contentEditable=="true";}};var _94=(dijit.isTabNavigable=function(_95){if(_80(_95,"disabled")){return false;}else{if(_81(_95,"tabIndex")){return _80(_95,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_95);}}});dijit._getTabNavigable=function(_96){var _97,_98,_99,_9a,_9b,_9c,_9d={};function _9e(_9f){return _9f&&_9f.tagName.toLowerCase()=="input"&&_9f.type&&_9f.type.toLowerCase()=="radio"&&_9f.name&&_9f.name.toLowerCase();};var _a0=function(_a1){dojo.query("> *",_a1).forEach(function(_a2){if((dojo.isIE<=9&&_a2.scopeName!=="HTML")||!_8f(_a2)){return;}if(_94(_a2)){var _a3=_80(_a2,"tabIndex");if(!_81(_a2,"tabIndex")||_a3==0){if(!_97){_97=_a2;}_98=_a2;}else{if(_a3>0){if(!_99||_a3<_9a){_9a=_a3;_99=_a2;}if(!_9b||_a3>=_9c){_9c=_a3;_9b=_a2;}}}var rn=_9e(_a2);if(dojo.attr(_a2,"checked")&&rn){_9d[rn]=_a2;}}if(_a2.nodeName.toUpperCase()!="SELECT"){_a0(_a2);}});};if(_8f(_96)){_a0(_96);}function rs(_a4){return _9d[_9e(_a4)]||_a4;};return {first:rs(_97),last:rs(_98),lowest:rs(_99),highest:rs(_9b)};};dijit.getFirstInTabbingOrder=function(_a5){var _a6=dijit._getTabNavigable(dojo.byId(_a5));return _a6.lowest?_a6.lowest:_a6.first;};dijit.getLastInTabbingOrder=function(_a7){var _a8=dijit._getTabNavigable(dojo.byId(_a7));return _a8.last?_a8.last:_a8.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_a9){if(_a9){dojo.mixin(this,_a9);}},get:function(_aa){return this[_aa];},set:function(_ab,_ac){if(typeof _ab==="object"){for(var x in _ab){this.set(x,_ab[x]);}return this;}var _ad=this[_ab];this[_ab]=_ac;if(this._watchCallbacks){this._watchCallbacks(_ab,_ad,_ac);}return this;},watch:function(_ae,_af){var _b0=this._watchCallbacks;if(!_b0){var _b1=this;_b0=this._watchCallbacks=function(_b2,_b3,_b4,_b5){var _b6=function(_b7){if(_b7){_b7=_b7.slice();for(var i=0,l=_b7.length;i<l;i++){try{_b7[i].call(_b1,_b2,_b3,_b4);}catch(e){console.error(e);}}}};_b6(_b0["_"+_b2]);if(!_b5){_b6(_b0["*"]);}};}if(!_af&&typeof _ae==="function"){_af=_ae;_ae="*";}else{_ae="_"+_ae;}var _b8=_b0[_ae];if(typeof _b8!=="object"){_b8=_b0[_ae]=[];}_b8.push(_af);return {unwatch:function(){_b8.splice(dojo.indexOf(_b8,_af),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_b9,_ba){this.create(_b9,_ba);},create:function(_bb,_bc){this.srcNodeRef=dojo.byId(_bc);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_bb){this.params=_bb;dojo._mixin(this,_bb);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _bd=this.srcNodeRef;if(_bd&&_bd.parentNode&&this.domNode!==_bd){_bd.parentNode.replaceChild(this.domNode,_bd);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _be=function(_bf,_c0){if((_c0.params&&_bf in _c0.params)||_c0[_bf]){_c0.set(_bf,_c0[_bf]);}};for(var _c1 in this.attributeMap){_be(_c1,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_be(a,this);}},this);},_getSetterAttributes:function(){var _c2=this.constructor;if(!_c2._setterAttrs){var r=(_c2._setterAttrs=[]),_c3,_c4=_c2.prototype;for(var _c5 in _c4){if(dojo.isFunction(_c4[_c5])&&(_c3=_c5.match(/^_set([a-zA-Z]*)Attr$/))&&_c3[1]){r.push(_c3[1].charAt(0).toLowerCase()+_c3[1].substr(1));}}}return _c2._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _c6=this.baseClass.split(" ");if(!this.isLeftToRight()){_c6=_c6.concat(dojo.map(_c6,function(_c7){return _c7+"Rtl";}));}dojo.addClass(this.domNode,_c6);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_c8){this._beingDestroyed=true;this.destroyDescendants(_c8);this.destroy(_c8);},destroy:function(_c9){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_ca){dfe(_ca,d.disconnect);});dfe(this._subscribes,function(_cb){dun(_cb);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_c9);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_cc){if(this.bgIframe){this.bgIframe.destroy(_cc);delete this.bgIframe;}if(this.domNode){if(_cc){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_cc){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_cd){dojo.forEach(this.getChildren(),function(_ce){if(_ce.destroyRecursive){_ce.destroyRecursive(_cd);}});},uninitialize:function(){return false;},_setClassAttr:function(_cf){var _d0=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_d0,_cf,this["class"]);this._set("class",_cf);},_setStyleAttr:function(_d1){var _d2=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_d1)){dojo.style(_d2,_d1);}else{if(_d2.style.cssText){_d2.style.cssText+="; "+_d1;}else{_d2.style.cssText=_d1;}}this._set("style",_d1);},_attrToDom:function(_d3,_d4){var _d5=this.attributeMap[_d3];dojo.forEach(dojo.isArray(_d5)?_d5:[_d5],function(_d6){var _d7=this[_d6.node||_d6||"domNode"];var _d8=_d6.type||"attribute";switch(_d8){case "attribute":if(dojo.isFunction(_d4)){_d4=dojo.hitch(this,_d4);}var _d9=_d6.attribute?_d6.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_d3)?_d3.toLowerCase():_d3);dojo.attr(_d7,_d9,_d4);break;case "innerText":_d7.innerHTML="";_d7.appendChild(dojo.doc.createTextNode(_d4));break;case "innerHTML":_d7.innerHTML=_d4;break;case "class":dojo.replaceClass(_d7,_d4,this[_d3]);break;}},this);},get:function(_da){var _db=this._getAttrNames(_da);return this[_db.g]?this[_db.g]():this[_da];},set:function(_dc,_dd){if(typeof _dc==="object"){for(var x in _dc){this.set(x,_dc[x]);}return this;}var _de=this._getAttrNames(_dc);if(this[_de.s]){var _df=this[_de.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(_dc in this.attributeMap){this._attrToDom(_dc,_dd);}this._set(_dc,_dd);}return _df||this;},_attrPairNames:{},_getAttrNames:function(_e0){var apn=this._attrPairNames;if(apn[_e0]){return apn[_e0];}var uc=_e0.charAt(0).toUpperCase()+_e0.substr(1);return (apn[_e0]={n:_e0+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(_e1,_e2){var _e3=this[_e1];this[_e1]=_e2;if(this._watchCallbacks&&this._created&&_e2!==_e3){this._watchCallbacks(_e1,_e3,_e2);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_e4,_e5){var _e6=[dojo._connect(obj,_e4,this,_e5)];this._connects.push(_e6);return _e6;},disconnect:function(_e7){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_e7){dojo.forEach(_e7,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_e8,_e9){var _ea=dojo.subscribe(_e8,this,_e9);this._subscribes.push(_ea);return _ea;},unsubscribe:function(_eb){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_eb){dojo.unsubscribe(_eb);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_ec,_ed){if(_ec.declaredClass&&_ec.addChild){_ec.addChild(this,_ed);}else{dojo.place(this.domNode,_ec,_ed);}return this;},defer:function(fcn,_ee){var _ef=setTimeout(dojo.hitch(this,function(){_ef=null;if(!this._destroyed){dojo.hitch(this,fcn)();}}),_ee||0);return {remove:function(){if(_ef){clearTimeout(_ef);_ef=null;}return null;}};}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_f0){var _f1=dojo.doc,_f2=_f0.mark;if(_f2){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_f2.pRange){var r=_f2;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_f2);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_f1.selection&&_f2){var rg;if(_f2.pRange){rg=_f2.range;}else{if(dojo.isArray(_f2)){rg=_f1.body.createControlRange();dojo.forEach(_f2,function(n){rg.addElement(n);});}else{rg=_f1.body.createTextRange();rg.moveToBookmark(_f2);}}rg.select();}}}},getFocus:function(_f3,_f4){var _f5=!dijit._curFocus||(_f3&&dojo.isDescendant(dijit._curFocus,_f3.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_f5,bookmark:(_f5==dijit._curFocus)&&dojo.withGlobal(_f4||dojo.global,dijit.getBookmark),openedForWindow:_f4};},focus:function(_f6){if(!_f6){return;}var _f7="node" in _f6?_f6.node:_f6,_f8=_f6.bookmark,_f9=_f6.openedForWindow,_fa=_f8?_f8.isCollapsed:false;if(_f7){var _fb=(_f7.tagName.toLowerCase()=="iframe")?_f7.contentWindow:_f7;if(_fb&&_fb.focus){try{_fb.focus();}catch(e){}}dijit._onFocusNode(_f7);}if(_f8&&dojo.withGlobal(_f9||dojo.global,dijit.isCollapsed)&&!_fa){if(_f9){_f9.focus();}try{dojo.withGlobal(_f9||dojo.global,dijit.moveToBookmark,null,[_f8]);}catch(e2){}}},_activeStack:[],registerIframe:function(_fc){return dijit.registerWin(_fc.contentWindow,_fc);},unregisterIframe:function(_fd){dijit.unregisterWin(_fd);},registerWin:function(_fe,_ff){var _100=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_ff||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_fe.document.documentElement:_fe.document;if(doc){if(dojo.isIE){_fe.document.body.attachEvent("onmousedown",_100);var _101=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_ff||evt.srcElement);}else{dijit._onTouchNode(_ff||evt.srcElement);}};doc.attachEvent("onactivate",_101);var _102=function(evt){dijit._onBlurNode(_ff||evt.srcElement);};doc.attachEvent("ondeactivate",_102);return function(){_fe.document.detachEvent("onmousedown",_100);doc.detachEvent("onactivate",_101);doc.detachEvent("ondeactivate",_102);doc=null;};}else{doc.body.addEventListener("mousedown",_100,true);var _103=function(evt){dijit._onFocusNode(_ff||evt.target);};doc.addEventListener("focus",_103,true);var _104=function(evt){dijit._onBlurNode(_ff||evt.target);};doc.addEventListener("blur",_104,true);return function(){doc.body.removeEventListener("mousedown",_100,true);doc.removeEventListener("focus",_103,true);doc.removeEventListener("blur",_104,true);doc=null;};}}},unregisterWin:function(_105){_105&&_105();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _106=[];try{while(node){var _107=dojo.attr(node,"dijitPopupParent");if(_107){node=dijit.byId(_107).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_108=id&&dijit.byId(id);if(_108&&!(by=="mouse"&&_108.get("disabled"))){_106.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_106,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_109,by){var _10a=dijit._activeStack;dijit._activeStack=_109;for(var _10b=0;_10b<Math.min(_10a.length,_109.length);_10b++){if(_10a[_10b]!=_109[_10b]){break;}}var _10c;for(var i=_10a.length-1;i>=_10b;i--){_10c=dijit.byId(_10a[i]);if(_10c){_10c._focused=false;_10c.set("focused",false);_10c._hasBeenBlurred=true;if(_10c._onBlur){_10c._onBlur(by);}dojo.publish("widgetBlur",[_10c,by]);}}for(i=_10b;i<_109.length;i++){_10c=dijit.byId(_109[i]);if(_10c){_10c._focused=true;_10c.set("focused",true);if(_10c._onFocus){_10c._onFocus(by);}dojo.publish("widgetFocus",[_10c,by]);}}}});dojo.addOnLoad(function(){var _10d=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_10d);_10d=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_10e){this.pairs=[];this.returnWrappers=_10e||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_10f,wrap,_110,_111){this.pairs[((_111)?"unshift":"push")]([name,_10f,wrap,_110]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_112,_113){var _114=dojo.map(_112,function(_115){var c={corner:_115,pos:{x:pos.x,y:pos.y}};if(_113){c.pos.x+=_115.charAt(1)=="L"?_113.x:-_113.x;c.pos.y+=_115.charAt(0)=="T"?_113.y:-_113.y;}return c;});return dijit._place(node,_114);};dijit._place=function(node,_116,_117,_118){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_116,function(_119){var _11a=_119.corner;var pos=_119.pos;var _11b=0;var _11c={w:_11a.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_11a.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};if(_117){var res=_117(node,_119.aroundCorner,_11a,_11c,_118);_11b=typeof res=="undefined"?0:res;}var _11d=node.style;var _11e=_11d.display;var _11f=_11d.visibility;_11d.visibility="hidden";_11d.display="";var mb=dojo.marginBox(node);_11d.display=_11e;_11d.visibility=_11f;var _120=Math.max(view.l,_11a.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_121=Math.max(view.t,_11a.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_11a.charAt(1)=="L"?(_120+mb.w):pos.x),endY=Math.min(view.t+view.h,_11a.charAt(0)=="T"?(_121+mb.h):pos.y),_122=endX-_120,_123=endY-_121;_11b+=(mb.w-_122)+(mb.h-_123);if(best==null||_11b<best.overflow){best={corner:_11a,aroundCorner:_119.aroundCorner,x:_120,y:_121,w:_122,h:_123,overflow:_11b,spaceAvailable:_11c};}return !_11b;});if(best.overflow&&_117){_117(node,best.aroundCorner,best.corner,best.spaceAvailable,_118);}var l=dojo._isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";s[l?"right":"left"]="auto";return best;};dijit.placeOnScreenAroundNode=function(node,_124,_125,_126){_124=dojo.byId(_124);var _127=dojo.position(_124,true);return dijit._placeOnScreenAroundRect(node,_127.x,_127.y,_127.w,_127.h,_125,_126);};dijit.placeOnScreenAroundRectangle=function(node,_128,_129,_12a){return dijit._placeOnScreenAroundRect(node,_128.x,_128.y,_128.width,_128.height,_129,_12a);};dijit._placeOnScreenAroundRect=function(node,x,y,_12b,_12c,_12d,_12e){var _12f=[];for(var _130 in _12d){_12f.push({aroundCorner:_130,corner:_12d[_130],pos:{x:x+(_130.charAt(1)=="L"?0:_12b),y:y+(_130.charAt(0)=="T"?0:_12c)}});}return dijit._place(node,_12f,_12e,{w:_12b,h:_12c});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_131,_132,_133){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_134,_135){var _136={};dojo.forEach(_134,function(pos){switch(pos){case "after":_136[_135?"BR":"BL"]=_135?"BL":"BR";break;case "before":_136[_135?"BL":"BR"]=_135?"BR":"BL";break;case "below-alt":_135=!_135;case "below":_136[_135?"BL":"BR"]=_135?"TL":"TR";_136[_135?"BR":"BL"]=_135?"TR":"TL";break;case "above-alt":_135=!_135;case "above":default:_136[_135?"TL":"TR"]=_135?"BL":"BR";_136[_135?"TR":"TL"]=_135?"BR":"BL";break;}});return _136;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_137){var node=_137.domNode||_137,_138=_137.declaredClass?_137._popupWrapper:node.parentNode&&dojo.hasClass(node.parentNode,"dijitPopup")?node.parentNode:null;if(!_138){_138=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_138.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_137.declaredClass){_137._popupWrapper=_138;dojo.connect(_137,"destroy",function(){dojo.destroy(_138);delete _137._popupWrapper;});}}return _138;},moveOffScreen:function(_139){var _13a=this._createWrapper(_139);dojo.style(_13a,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_13b){var _13c=this._createWrapper(_13b);dojo.style(_13c,"display","none");},getTopPopup:function(){var _13d=this._stack;for(var pi=_13d.length-1;pi>0&&_13d[pi].parent===_13d[pi-1].widget;pi--){}return _13d[pi];},open:function(args){var _13e=this._stack,_13f=args.popup,_140=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_141=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_13e.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_13e[_13e.length-1].widget.domNode))){dijit.popup.close(_13e[_13e.length-1].widget);}var _142=this._createWrapper(_13f);dojo.attr(_142,{id:id,style:{zIndex:this._beginZIndex+_13e.length},"class":"dijitPopup "+(_13f.baseClass||_13f["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_13f.bgIframe){_13f.bgIframe=new dijit.BackgroundIframe(_142);}}var best=_141?dijit.placeOnScreenAroundElement(_142,_141,_140,_13f.orient?dojo.hitch(_13f,"orient"):null):dijit.placeOnScreen(_142,args,_140=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_142.style.display="";_142.style.visibility="visible";_13f.domNode.style.visibility="visible";var _143=[];_143.push(dojo.connect(_142,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _144=this.getTopPopup();if(_144&&_144.onCancel){_144.onCancel();}}}}));if(_13f.onCancel){_143.push(dojo.connect(_13f,"onCancel",args.onCancel));}_143.push(dojo.connect(_13f,_13f.onExecute?"onExecute":"onChange",this,function(){var _145=this.getTopPopup();if(_145&&_145.onExecute){_145.onExecute();}}));_13e.push({widget:_13f,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_143});if(_13f.onOpen){_13f.onOpen(best);}return best;},close:function(_146){var _147=this._stack;while((_146&&dojo.some(_147,function(elem){return elem.widget==_146;}))||(!_146&&_147.length)){var top=_147.pop(),_148=top.widget,_149=top.onClose;if(_148.onClose){_148.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_148&&_148.domNode){this.hide(_148);}if(_149){_149();}}}};dijit._frames=new function(){var _14a=[];this.pop=function(){var _14b;if(_14a.length){_14b=_14a.pop();_14b.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_14b=dojo.doc.createElement(html);}else{_14b=dojo.create("iframe");_14b.src="javascript:\"\"";_14b.className="dijitBackgroundIframe";dojo.style(_14b,"opacity",0.1);}_14b.tabIndex=-1;dijit.setWaiRole(_14b,"presentation");}return _14b;};this.push=function(_14c){_14c.style.display="none";_14a.push(_14c);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _14d=(this.iframe=dijit._frames.pop());node.appendChild(_14d);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_14d,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_14e=d.isOpera,maj=Math.floor,ff=d.isFF,_14f=d.boxModel.replace(/-/,""),_150={dj_quirks:d.isQuirks,dj_opera:_14e,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla};if(ie){_150["dj_ie"]=true;_150["dj_ie"+maj(ie)]=true;_150["dj_iequirks"]=d.isQuirks;}if(ff){_150["dj_ff"+maj(ff)]=true;}_150["dj_"+_14f]=true;var _151="";for(var clz in _150){if(_150[clz]){_151+=clz+" ";}}html.className=d.trim(html.className+" "+_151);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _152="dj_rtl dijitRtl "+_151.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_152);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_153,node,_154,obj,_155,_156,_157){if(obj!=this._obj){this.stop();this._initialDelay=_156||500;this._subsequentDelay=_155||0.9;this._minDelay=_157||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_153,_154);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_158,_159,_15a,_15b,_15c,_15d){if(_158.keyCode){_158.charOrCode=_158.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_158.charCode){_158.charOrCode=String.fromCharCode(_158.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_158.charOrCode&&(_158.ctrlKey===undefined||_158.ctrlKey==evt.ctrlKey)&&(_158.altKey===undefined||_158.altKey==evt.altKey)&&(_158.metaKey===undefined||_158.metaKey==(evt.metaKey||false))&&(_158.shiftKey===undefined||_158.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_159,node,_15a,_158,_15b,_15c,_15d);}else{if(dijit.typematic._obj==_158){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_158){dijit.typematic.stop();}})];},addMouseListener:function(node,_15e,_15f,_160,_161,_162){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_15e,node,_15f,node,_160,_161,_162);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE<9){dijit.typematic.trigger(evt,_15e,node,_15f,node,_160,_161,_162);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_163,_164,_165,_166,_167,_168,_169,_16a){return this.addKeyListener(_164,_165,_166,_167,_168,_169,_16a).concat(this.addMouseListener(_163,_166,_167,_168,_169,_16a));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _16b=cs.backgroundImage;var _16c=(cs.borderTopColor==cs.borderRightColor)||(_16b!=null&&(_16b=="none"||_16b=="url(invalid-url:)"));dojo[_16c?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _16d=this.getWaiRole(elem);return role?(_16d.indexOf(role)>-1):(_16d.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _16e=dojo.attr(elem,"role");if(!_16e){return;}if(role){var t=dojo.trim((" "+_16e+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_16f){return elem.hasAttribute?elem.hasAttribute("aria-"+_16f):!!elem.getAttribute("aria-"+_16f);},getWaiState:function(elem,_170){return elem.getAttribute("aria-"+_170)||"";},setWaiState:function(elem,_171,_172){elem.setAttribute("aria-"+_171,_172);},removeWaiState:function(elem,_173){elem.removeAttribute("aria-"+_173);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_174,_175){if(_174&&dojo.isFunction(_174._onConnect)){_174._onConnect(_175);}});dijit._connectOnUseEventHandler=function(_176){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _177=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_177);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_177);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_178,_179){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_17a){if(_17a in this._deferredConnects){var _17b=this[this._deferredConnects[_17a]||"domNode"];this.connect(_17b,_17a.toLowerCase(),_17a);delete this._deferredConnects[_17a];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_17c){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_17c);},attr:function(name,_17d){if(dojo.config.isDebug){var _17e=arguments.callee._ach||(arguments.callee._ach={}),_17f=(arguments.callee.caller||"unknown caller").toString();if(!_17e[_17f]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_17f,"","2.0");_17e[_17f]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_180,_181){var d=dojo,dc=d._connect,_182=this.inherited(arguments,[obj,_180=="ondijitclick"?"onclick":_180,_181]);if(_180=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_181);_182.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _182;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_183,map,_184,_185){_185=_185||dojo.global;_184=_184?dojo.hitch(_185,_184):function(v){return v;};return _183.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_186,key,_187){var _188=dojo.getObject(key,false,map);if(_187){_188=dojo.getObject(_187,false,_185).call(_185,_188,key);}return _184(_188,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_189,url,_18a){if(typeof _189=="string"){var _18b=dojo.moduleUrl(_189,url);}else{_18b=_189;_18a=url;}var key=_18b.toString();var val=_18a;if(_18a!=undefined&&!dojo.isString(_18a)){val=("value" in _18a?_18a.value:undefined);}var _18c=_18a&&_18a.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_18c?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_18c?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _18d=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_18d){val=_18d[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _18e=this.declaredClass,_18f=this;return dojo.string.substitute(tmpl,this,function(_190,key){if(key.charAt(0)=="!"){_190=dojo.getObject(key.substr(1),false,_18f);}if(typeof _190=="undefined"){throw new Error(_18e+" template:"+key);}if(_190==null){return "";}return key.charAt(0)=="!"?_190:_190.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _191=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_191)){node=dojo._toDom(this._stringRepl(_191));if(node.nodeType!=1){throw new Error("Invalid template: "+_191);}}else{node=_191.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_192){var dest=this.containerNode;if(_192&&dest){while(_192.hasChildNodes()){dest.appendChild(_192.firstChild);}}},_attachTemplateNodes:function(_193,_194){_194=_194||function(n,p){return n.getAttribute(p);};var _195=dojo.isArray(_193)?_193:(_193.all||_193.getElementsByTagName("*"));var x=dojo.isArray(_193)?0:-1;for(;x<_195.length;x++){var _196=(x==-1)?_193:_195[x];if(this.widgetsInTemplate&&(_194(_196,"dojoType")||_194(_196,"data-dojo-type"))){continue;}var _197=_194(_196,"dojoAttachPoint")||_194(_196,"data-dojo-attach-point");if(_197){var _198,_199=_197.split(/\s*,\s*/);while((_198=_199.shift())){if(dojo.isArray(this[_198])){this[_198].push(_196);}else{this[_198]=_196;}this._attachPoints.push(_198);}}var _19a=_194(_196,"dojoAttachEvent")||_194(_196,"data-dojo-attach-event");if(_19a){var _19b,_19c=_19a.split(/\s*,\s*/);var trim=dojo.trim;while((_19b=_19c.shift())){if(_19b){var _19d=null;if(_19b.indexOf(":")!=-1){var _19e=_19b.split(":");_19b=trim(_19e[0]);_19d=trim(_19e[1]);}else{_19b=trim(_19b);}if(!_19d){_19d=_19b;}this._attachEvents.push(this.connect(_196,_19b,_19d));}}}var role=_194(_196,"waiRole");if(role){dijit.setWaiRole(_196,role);}var _19f=_194(_196,"waiState");if(_19f){dojo.forEach(_19f.split(/\s*,\s*/),function(_1a0){if(_1a0.indexOf("-")!=-1){var pair=_1a0.split("-");dijit.setWaiState(_196,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_1a1){delete this[_1a1];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1a2,_1a3,_1a4){var _1a5=dijit._Templated._templateCache;var key=_1a3||_1a2;var _1a6=_1a5[key];if(_1a6){try{if(!_1a6.ownerDocument||_1a6.ownerDocument==dojo.doc){return _1a6;}}catch(e){}dojo.destroy(_1a6);}if(!_1a3){_1a3=dojo.cache(_1a2,{sanitize:true});}_1a3=dojo.string.trim(_1a3);if(_1a4||_1a3.match(/\$\{([^\}]+)\}/g)){return (_1a5[key]=_1a3);}else{var node=dojo._toDom(_1a3);if(node.nodeType!=1){throw new Error("Invalid template: "+_1a3);}return (_1a5[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _1a7=dijit._Templated._templateCache;for(var key in _1a7){var _1a8=_1a7[key];if(typeof _1a8=="object"){dojo.destroy(_1a8);}delete _1a7[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_1a9){if(!this.disabled){switch(_1a9.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _1aa=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_1aa);});break;}}},_setStateClass:function(){var _1ab=this.baseClass.split(" ");function _1ac(_1ad){_1ab=_1ab.concat(dojo.map(_1ab,function(c){return c+_1ad;}),"dijit"+_1ad);};if(!this.isLeftToRight()){_1ac("Rtl");}if(this.checked){_1ac("Checked");}if(this.state){_1ac(this.state);}if(this.selected){_1ac("Selected");}if(this.disabled){_1ac("Disabled");}else{if(this.readOnly){_1ac("ReadOnly");}else{if(this.active){_1ac("Active");}else{if(this.hovering){_1ac("Hover");}}}}if(this._focused){_1ac("Focused");}var tn=this.stateNode||this.domNode,_1ae={};dojo.forEach(tn.className.split(" "),function(c){_1ae[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _1ae[c];});}dojo.forEach(_1ab,function(c){_1ae[c]=true;});var _1af=[];for(var c in _1ae){_1af.push(c);}tn.className=_1af.join(" ");this._stateClasses=_1ab;},_trackMouseState:function(node,_1b0){var _1b1=false,_1b2=false,_1b3=false;var self=this,cn=dojo.hitch(this,"connect",node);function _1b4(){var _1b5=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_1b0+"Hover",_1b1&&!_1b2&&!_1b5);dojo.toggleClass(node,_1b0+"Active",_1b2&&!_1b5);dojo.toggleClass(node,_1b0+"Focused",_1b3&&!_1b5);};cn("onmouseenter",function(){_1b1=true;_1b4();});cn("onmouseleave",function(){_1b1=false;_1b2=false;_1b4();});cn("onmousedown",function(){_1b2=true;_1b4();});cn("onmouseup",function(){_1b2=false;_1b4();});cn("onfocus",function(){_1b3=true;_1b4();});cn("onblur",function(){_1b3=false;_1b4();});this.watch("disabled",_1b4);this.watch("readOnly",_1b4);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_1b6){this._set("disabled",_1b6);dojo.attr(this.focusNode,"disabled",_1b6);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_1b6);}dijit.setWaiState(this.focusNode,"disabled",_1b6);if(_1b6){this._set("hovering",false);this._set("active",false);var _1b7="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_1b7)?_1b7:[_1b7],function(_1b8){var node=this[_1b8];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_1b9){dojo.deprecated("setDisabled("+_1b9+") is deprecated. Use set('disabled',"+_1b9+") instead.","","2.0");this.set("disabled",_1b9);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_1ba){},_onChangeActive:false,_handleOnChange:function(_1bb,_1bc){if(this._lastValueReported==undefined&&(_1bc===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_1bb;}this._pendingOnChange=this._pendingOnChange||(typeof _1bb!=typeof this._lastValueReported)||(this.compare(_1bb,this._lastValueReported)!=0);if((this.intermediateChanges||_1bc||_1bc===undefined)&&this._pendingOnChange){this._lastValueReported=_1bb;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_1bb);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_1bd){dojo.deprecated("dijit.form._FormWidget:setValue("+_1bd+") is deprecated.  Use set('value',"+_1bd+") instead.","","2.0");this.set("value",_1bd);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _1be=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_1be);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_1bf){dojo.attr(this.focusNode,"readOnly",_1bf);dijit.setWaiState(this.focusNode,"readonly",_1bf);this._set("readOnly",_1bf);},postCreate:function(){this.inherited(arguments);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1c0,_1c1){this._handleOnChange(_1c0,_1c1);},_handleOnChange:function(_1c2,_1c3){this._set("value",_1c2);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _1c4=this.domNode;var _1c5=_1c4.parentNode;var _1c6=_1c4.firstChild||_1c4;var _1c7=_1c6.style.filter;var _1c8=this;while(_1c5&&_1c5.clientHeight==0){(function ping(){var _1c9=_1c8.connect(_1c5,"onscroll",function(e){_1c8.disconnect(_1c9);_1c6.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_1c6.style.filter=_1c7;},0);});})();_1c5=_1c5.parentNode;}}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1ca,_1cb){var _1cc=this.containerNode;if(_1cb&&typeof _1cb=="number"){var _1cd=this.getChildren();if(_1cd&&_1cd.length>=_1cb){_1cc=_1cd[_1cb-1].domNode;_1cb="after";}}dojo.place(_1ca.domNode,_1cc,_1cb);if(this._started&&!_1ca._started){_1ca.startup();}},removeChild:function(_1ce){if(typeof _1ce=="number"){_1ce=this.getChildren()[_1ce];}if(_1ce){var node=_1ce.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_1cf){dojo.forEach(this.getChildren(),function(_1d0){_1d0.destroyRecursive(_1cf);});},_getSiblingOfChild:function(_1d1,dir){var node=_1d1.domNode,_1d2=(dir>0?"nextSibling":"previousSibling");do{node=node[_1d2];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_1d3){return dojo.indexOf(this.getChildren(),_1d3);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1d4){_1d4.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _1d5=this.dropDown,_1d6=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_1d6){if(dojo.hasClass(t,"dijitPopup")){_1d6=true;}else{t=t.parentNode;}}if(_1d6){t=e.target;if(_1d5.onItemClick){var _1d7;while(t&&!(_1d7=dijit.byNode(t))){t=t.parentNode;}if(_1d7&&_1d7.onClick&&_1d7.getParent){_1d7.getParent().onItemClick(_1d7,e);}}return;}}}if(this._opened&&_1d5.focus&&_1d5.autoFocus!==false){window.setTimeout(dojo.hitch(_1d5,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _1d8={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_1d8+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_1d9=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_1d9.tagName||"").toLowerCase()!=="input"||(_1d9.type&&_1d9.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;dojo.stopEvent(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}}},_onBlur:function(){var _1da=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_1da);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_1db){_1db();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _1dc=this.dropDown,_1dd=_1dc.domNode,_1de=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_1dd.style.width){this._explicitDDWidth=true;}if(_1dd.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _1df={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_1df.width="";}if(!this._explicitDDHeight){_1df.height="";}dojo.style(_1dd,_1df);var _1e0=this.maxHeight;if(_1e0==-1){var _1e1=dojo.window.getBox(),_1e2=dojo.position(_1de,false);_1e0=Math.floor(Math.max(_1e2.y,_1e1.h-(_1e2.y+_1e2.h)));}if(_1dc.startup&&!_1dc._started){_1dc.startup();}dijit.popup.moveOffScreen(_1dc);var mb=dojo._getMarginSize(_1dd);var _1e3=(_1e0&&mb.h>_1e0);dojo.style(_1dd,{overflowX:"hidden",overflowY:_1e3?"auto":"hidden"});if(_1e3){mb.h=_1e0;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_1de.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_1de.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_1dc.resize)){_1dc.resize(mb);}else{dojo.marginBox(_1dd,mb);}}var _1e4=dijit.popup.open({parent:this,popup:_1dc,around:_1de,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _1e4;},closeDropDown:function(_1e5){if(this._opened){if(_1e5){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _1e6=dijit.byNode(node);if(_1e6&&typeof _1e6._onSubmit=="function"){_1e6._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(_1e7){if(_1e7&&(!this.params||!("label" in this.params))){this.set("label",_1e7.innerHTML);}},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_1e8){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_1e8);},_setLabelAttr:function(_1e9){this._set("label",_1e9);this.containerNode.innerHTML=_1e9;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function(val){var _1ea=this.iconClass||"dijitNoIcon",_1eb=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_1eb,_1ea);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _1ec=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_1ec[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _1ed=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_1ed);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _1ee=this.dropDown;return (!!_1ee&&(!_1ee.href||_1ee.isLoaded));},loadDropDown:function(){var _1ef=this.dropDown;if(!_1ef){return;}if(!this.isLoaded()){var _1f0=dojo.connect(_1ef,"onLoad",this,function(){dojo.disconnect(_1f0);this.openDropDown();});_1ef.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_1f1){if(!this.disabled){dijit.focus(_1f1=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_1f2,_1f3){this._set("checked",_1f2);dojo.attr(this.focusNode||this.domNode,"checked",_1f2);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_1f2);this._handleOnChange(_1f2,_1f3);},setChecked:function(_1f4){dojo.deprecated("setChecked("+_1f4+") is deprecated. Use set('checked',"+_1f4+") instead.","","2.0");this.set("checked",_1f4);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_1f5,_1f6,_1f7){_1f7=dojo.i18n.normalizeLocale(_1f7);var _1f8=_1f7.split("-");var _1f9=[_1f5,"nls",_1f6].join(".");var _1fa=dojo._loadedModules[_1f9];if(_1fa){var _1fb;for(var i=_1f8.length;i>0;i--){var loc=_1f8.slice(0,i).join("_");if(_1fa[loc]){_1fb=_1fa[loc];break;}}if(!_1fb){_1fb=_1fa.ROOT;}if(_1fb){var _1fc=function(){};_1fc.prototype=_1fb;return new _1fc();}}throw new Error("Bundle not found: "+_1f6+" in "+_1f5+" , locale="+_1f7);};dojo.i18n.normalizeLocale=function(_1fd){var _1fe=(_1fd?_1fd:dojo.locale).toLowerCase();if(_1fe=="root"){_1fe="ROOT";}return _1fe;};dojo.i18n._requireLocalization=function(_1ff,_200,_201,_202){var _203=dojo.i18n.normalizeLocale(_201);var _204=[_1ff,"nls",_200].join(".");var _205="";if(_202){var _206=_202.split(",");for(var i=0;i<_206.length;i++){if(_203["indexOf"](_206[i])==0){if(_206[i].length>_205.length){_205=_206[i];}}}if(!_205){_205="ROOT";}}var _207=_202?_205:_203;var _208=dojo._loadedModules[_204];var _209=null;if(_208){if(dojo.config.localizationComplete&&_208._built){return;}var _20a=_207.replace(/-/g,"_");var _20b=_204+"."+_20a;_209=dojo._loadedModules[_20b];}if(!_209){_208=dojo["provide"](_204);var syms=dojo._getModuleSymbols(_1ff);var _20c=syms.concat("nls").join("/");var _20d;dojo.i18n._searchLocalePath(_207,_202,function(loc){var _20e=loc.replace(/-/g,"_");var _20f=_204+"."+_20e;var _210=false;if(!dojo._loadedModules[_20f]){dojo["provide"](_20f);var _211=[_20c];if(loc!="ROOT"){_211.push(loc);}_211.push(_200);var _212=_211.join("/")+".js";_210=dojo._loadPath(_212,null,function(hash){hash=hash.root||hash;var _213=function(){};_213.prototype=_20d;_208[_20e]=new _213();for(var j in hash){_208[_20e][j]=hash[j];}});}else{_210=true;}if(_210&&_208[_20e]){_20d=_208[_20e];}else{_208[_20e]=_20d;}if(_202){return true;}});}if(_202&&_203!=_205){_208[_203.replace(/-/g,"_")]=_208[_205.replace(/-/g,"_")];}};(function(){var _214=dojo.config.extraLocale;if(_214){if(!_214 instanceof Array){_214=[_214];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_215,_216){req(m,b,_215,_216);if(_215){return;}for(var i=0;i<_214.length;i++){req(m,b,_214[i],_216);}};}})();dojo.i18n._searchLocalePath=function(_217,down,_218){_217=dojo.i18n.normalizeLocale(_217);var _219=_217.split("-");var _21a=[];for(var i=_219.length;i>0;i--){_21a.push(_219.slice(0,i).join("-"));}_21a.push(false);if(down){_21a.reverse();}for(var j=_21a.length-1;j>=0;j--){var loc=_21a[j]||"ROOT";var stop=_218(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_21b,_21c){function _21d(_21e){_21e=dojo.i18n.normalizeLocale(_21e);dojo.i18n._searchLocalePath(_21e,true,function(loc){for(var i=0;i<_21c.length;i++){if(_21c[i]==loc){dojo["require"](_21b+"_"+loc);return true;}}return false;});};_21d();var _21f=dojo.config.extraLocale||[];for(var i=0;i<_21f.length;i++){_21d(_21f[i]);}};}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_220,_221,_222){var _223;if(_220!==undefined){_223=this.filter(_220);if(typeof _222!="string"){if(_223!==null&&((typeof _223!="number")||!isNaN(_223))){_222=this.filter(this.format(_223,this.constraints));}else{_222="";}}}if(_222!=null&&_222!=undefined&&((typeof _222)!="number"||!isNaN(_222))&&this.textbox.value!=_222){this.textbox.value=_222;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_223,_221]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_224){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_224);},_setDisplayedValueAttr:function(_225){if(_225===null||_225===undefined){_225="";}else{if(typeof _225!="string"){_225=String(_225);}}this.textbox.value=_225;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_226,_227){return ((_226==null||_226==undefined)?"":(_226.toString?_226.toString():_226));},parse:function(_228,_229){return _228;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _22a=this;setTimeout(function(){_22a._handleOnChange(_22a.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _22b=this.domNode.getElementsByTagName("INPUT");if(_22b){for(var i=0;i<_22b.length;i++){_22b[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _22c;if(dojo.isIE){var _22d=dojo.doc.selection.createRange();var _22e=_22d.parentElement();_22c=_22e==this.textbox&&_22d.text.length==0;}else{_22c=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_22c){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_22f,_230,stop){var _231=dojo.global;var _232=dojo.doc;_22f=dojo.byId(_22f);if(isNaN(_230)){_230=0;}if(isNaN(stop)){stop=_22f.value?_22f.value.length:0;}dijit.focus(_22f);if(_232["selection"]&&dojo.body()["createTextRange"]){if(_22f.createTextRange){var r=_22f.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_230);r.moveEnd("character",stop-_230);r.select();}}else{if(_231["getSelection"]){if(_22f.setSelectionRange){_22f.setSelectionRange(_230,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_233,_234,_235,rtl){if(this.aroundNode&&this.aroundNode===_234){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_233;var pos=dijit.placeOnScreenAroundElement(this.domNode,_234,dijit.getPopupAroundAlignment((_235&&_235.length)?_235:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_234;},orient:function(node,_236,_237,_238,_239){this.connectorNode.style.top="";var _23a=_238.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_236+"-"+_237];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _23b=Math.min((Math.max(_23a,1)),size.w);var _23c=_23b<size.w;this.domNode.style.width=_23b+"px";if(_23c){this.containerNode.style.overflow="auto";var _23d=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_23d>_23b){_23d=_23d+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_23d+"px";}}if(_237.charAt(0)=="B"&&_236.charAt(0)=="B"){var mb=dojo.marginBox(node);var _23e=this.connectorNode.offsetHeight;if(mb.h>_238.h){var _23f=_238.h-(_239.h/2)-(_23e/2);this.connectorNode.style.top=_23f+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_239.h/2-_23e/2,0),mb.h-_23e)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_23a);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_240){if(this._onDeck&&this._onDeck[1]==_240){this._onDeck=null;}else{if(this.aroundNode===_240){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_241,_242,_243,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_241,_242,_243,rtl);};dijit.hideTooltip=function(_244){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_244);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_245){dojo.forEach(this._connections||[],function(_246){dojo.forEach(_246,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_245)?_245:(_245?[_245]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_245);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _247=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_247);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_248){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_248,this.position,!this.isLeftToRight());this._connectNode=_248;this.onShow(_248,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_249,_24a){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_24b){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_24c,_24d){return (new RegExp("^(?:"+this.regExpGen(_24d)+")"+(this.required?"":"?")+"$")).test(_24c)&&(!this.required||!this._isEmpty(_24c))&&(this._isEmpty(_24c)||this.parse(_24c,_24d)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_24e){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_24f){return (this.trim?/^\s*$/:/^$/).test(_24f);},getErrorMessage:function(_250){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_251){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_252){var _253="";var _254=this.disabled||this.isValid(_252);if(_254){this._maskValidSubsetError=true;}var _255=this._isEmpty(this.textbox.value);var _256=!_254&&_252&&this._isValidSubset();this._set("state",_254?"":(((((!this._hasBeenBlurred||_252)&&_255)||_256)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_254?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_252&&_256;_253=this.getErrorMessage(_252);}else{if(this.state=="Incomplete"){_253=this.getPromptMessage(_252);this._maskValidSubsetError=!this._hasBeenBlurred||_252;}else{if(_255){_253=this.getPromptMessage(_252);}}}this.set("message",_253);return _254;},displayMessage:function(_257){dijit.hideTooltip(this.domNode);if(_257&&this._focused){dijit.showTooltip(_257,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_258){if(!_258.locale&&this.lang){_258.locale=this.lang;}this._set("constraints",_258);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _259="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_259+=re;break;case ")":_259+="|$)";break;default:_259+="(?:"+re+"|$)";break;}});}try{"".search(_259);}catch(e){_259=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_259+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_25a){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_25b){this._set("required",_25b);dijit.setWaiState(this.focusNode,"required",_25b);this._refreshState();},_setMessageAttr:function(_25c){this._set("message",_25c);this.displayMessage(_25c);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_25d){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_25e,_25f){return ("min" in _25f?(this.compare(_25e,_25f.min)>=0):true)&&("max" in _25f?(this.compare(_25e,_25f.max)<=0):true);},isInRange:function(_260){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _261=false;var _262=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_261=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_262=(typeof max=="number")&&max>0;}return _261||_262;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_263){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_263));},getErrorMessage:function(_264){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_264)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_265){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_266,_267){dijit.setWaiState(this.focusNode,"valuenow",_266);this.inherited(arguments);}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_268){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_268&&_268.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_269){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_269);};dojo.regexp.group=function(_26a,_26b){return "("+(_26b?"?:":"")+_26a+")";};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_26c,_26d){var _26e=[];function _26f(attr,dir,comp,s){return function(_270,_271){var a=s.getValue(_270,attr);var b=s.getValue(_271,attr);return dir*comp(a,b);};};var _272;var map=_26d.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_26c.length;i++){_272=_26c[i];var attr=_272.attribute;if(attr){var dir=(_272.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_26e.push(_26f(attr,dir,comp,_26d));}}return function(rowA,rowB){var i=0;while(i<_26e.length){var ret=_26e[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_273){_273=_273||{};if(!_273.store){_273.store=this;}var self=this;var _274=function(_275,_276){if(_276.onError){var _277=_276.scope||dojo.global;_276.onError.call(_277,_275,_276);}};var _278=function(_279,_27a){var _27b=_27a.abort||null;var _27c=false;var _27d=_27a.start?_27a.start:0;var _27e=(_27a.count&&(_27a.count!==Infinity))?(_27d+_27a.count):_279.length;_27a.abort=function(){_27c=true;if(_27b){_27b.call(_27a);}};var _27f=_27a.scope||dojo.global;if(!_27a.store){_27a.store=self;}if(_27a.onBegin){_27a.onBegin.call(_27f,_279.length,_27a);}if(_27a.sort){_279.sort(dojo.data.util.sorter.createSortFunction(_27a.sort,self));}if(_27a.onItem){for(var i=_27d;(i<_279.length)&&(i<_27e);++i){var item=_279[i];if(!_27c){_27a.onItem.call(_27f,item,_27a);}}}if(_27a.onComplete&&!_27c){var _280=null;if(!_27a.onItem){_280=_279.slice(_27d,_27e);}_27a.onComplete.call(_27f,_280,_27a);}};this._fetchItems(_273,_278,_274);return _273;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_281,_282){var rxp="^";var c=null;for(var i=0;i<_281.length;i++){c=_281.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_281.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_282){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_283){var pos=0;if(typeof (_283.selectionStart)=="number"){pos=_283.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_283.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_284,_285){_285=parseInt(_285);dijit.selectInputText(_284,_285,_285);},_setDisabledAttr:function(_286){this.inherited(arguments);dijit.setWaiState(this.domNode,"disabled",_286);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKey({charOrCode:229});}),100);}this.inherited(arguments);},_onKey:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _287=false;var pw=this.dropDown;var dk=dojo.keys;var _288=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_288=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(this._opened){this._announceOption(_288);}dojo.stopEvent(evt);break;case dk.ENTER:if(_288){if(_288==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_288==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){evt.preventDefault();}case dk.TAB:var _289=this.get("displayedValue");if(pw&&(_289==pw._messages["previousMessage"]||_289==pw._messages["nextMessage"])){break;}if(_288){this._selectOption();}if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_288){dojo.stopEvent(evt);this._selectOption();this.closeDropDown();}else{_287=true;}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_287=true;break;default:_287=typeof key=="string"||key==229;}if(_287){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _28a=this.ignoreCase?"toLowerCase":"substr";if(text[_28a](0).indexOf(this.focusNode.value[_28a](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_28b,_28c){this._fetchHandle=null;if(this.disabled||this.readOnly||(_28c.query[this.searchAttr]!=this._lastQuery)){return;}var _28d=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");this.dropDown.clearResultList();if(!_28b.length&&!this._maxOptions){this.closeDropDown();return;}_28c._maxOptions=this._maxOptions;var _28e=this.dropDown.createOptions(_28b,_28c,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_28c.direction){if(1==_28c.direction){this.dropDown.highlightFirstOption();}else{if(-1==_28c.direction){this.dropDown.highlightLastOption();}}if(_28d){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_28c.query[this.searchAttr])){this._announceOption(_28e[1]);}}},_showResultList:function(){this.closeDropDown(true);this.displayMessage("");this.openDropDown();dijit.setWaiState(this.domNode,"expanded","true");},loadDropDown:function(_28f){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);dijit.setWaiState(this.domNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _290=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_290==pw._messages["previousMessage"]||_290==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_290);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},_setItemAttr:function(item,_291,_292){if(!_292){_292=this.store.getValue(item,this.searchAttr);}var _293=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_292;this._set("item",item);dijit.form.ComboBox.superclass._setValueAttr.call(this,_293,_291,_292);},_announceOption:function(node){if(!node){return;}var _294;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_294=node.innerHTML;this.item=undefined;this.value="";}else{_294=this.store.getValue(node.item,this.searchAttr).toString();this.set("item",node.item,false,_294);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_294);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this.closeDropDown();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _295=this.id+"_popup",_296=dojo.getObject(this.dropDownClass,false);this.dropDown=new _296({onChange:dojo.hitch(this,this._selectOption),id:_295,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_295);}var _297=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_297[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_298,_299){this.searchTimer=null;var _29a={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_298,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_29b){_299._fetchHandle=null;console.error("dijit.form.ComboBox: "+_29b);_299.closeDropDown();},start:0,count:this.pageSize};dojo.mixin(_29a,_299.fetchProperties);this._fetchHandle=_299.store.fetch(_29a);var _29c=function(_29d,_29e){_29d.start+=_29d.count*_29e;_29d.direction=_29e;this._fetchHandle=this.store.fetch(_29d);this.focus();};this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_29c,this._fetchHandle);},_297,this),this.searchDelay);},_setMaxOptions:function(size,_29f){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _2a0=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_2a0);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _2a1=this._getValueField();this.value=this.store.getValue(item,_2a1);}}}this.inherited(arguments);},postCreate:function(){var _2a2=dojo.query("label[for=\""+this.id+"\"]");if(_2a2.length){_2a2[0].id=(this.id+"_label");dijit.setWaiState(this.domNode,"labelledby",_2a2[0].id);}this.inherited(arguments);},_setHasDownArrowAttr:function(val){this.hasDownArrow=val;this._buttonNode.style.display=val?"":"none";},_getMenuLabelFromItem:function(item){var _2a3=this.labelFunc(item,this.store),_2a4=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_2a3=this.doHighlight(_2a3,this._escapeHtml(this._lastInput));_2a4="html";}return {html:_2a4=="html",label:_2a3};},doHighlight:function(_2a5,find){var _2a6=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=dojo.regexp.escapeString(find);return this._escapeHtml(_2a5).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_2a6),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_2a7){return _2a7.getValue(item,this.labelAttr||this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){this.inherited(arguments);this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_2a8){this.value=_2a8;this.onChange(_2a8);},onChange:function(_2a9){},onPage:function(_2aa){},onClose:function(){this._blurOptionNode();},_createOption:function(item,_2ab){var _2ac=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});var _2ad=_2ab(item);if(_2ad.html){_2ac.innerHTML=_2ad.label;}else{_2ac.appendChild(dojo.doc.createTextNode(_2ad.label));}if(_2ac.innerHTML==""){_2ac.innerHTML="&nbsp;";}_2ac.item=item;return _2ac;},createOptions:function(_2ae,_2af,_2b0){this.previousButton.style.display=(_2af.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_2ae,function(item,i){var _2b1=this._createOption(item,_2b0);dojo.attr(_2b1,"id",this.id+i);this.domNode.insertBefore(_2b1,this.nextButton);},this);var _2b2=false;if(_2af._maxOptions&&_2af._maxOptions!=-1){if((_2af.start+_2af.count)<_2af._maxOptions){_2b2=true;}else{if((_2af.start+_2af.count)>_2af._maxOptions&&_2af.count==_2ae.length){_2b2=true;}}}else{if(_2af.count==_2ae.length){_2b2=true;}}this.nextButton.style.display=_2b2?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}this._blurOptionNode();},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this._blurOptionNode();this.onPage(-1);}else{if(evt.target==this.nextButton){this._blurOptionNode();this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){var _2b3=this.domNode.firstChild;var _2b4=_2b3.nextSibling;this._focusOptionNode(_2b4.style.display=="none"?_2b3:_2b4);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function(up){var _2b5=0;var _2b6=this.domNode.scrollTop;var _2b7=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_2b5<_2b7){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _2b8=this.domNode.scrollTop;_2b5+=(_2b8-_2b6)*(up?-1:1);_2b6=_2b8;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(evt){switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();return false;case dojo.keys.PAGE_DOWN:this.pageDown();return false;case dojo.keys.UP_ARROW:this._highlightPrevOption();return false;case dojo.keys.PAGE_UP:this.pageUp();return false;default:return true;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_2b9,_2ba,_2bb){this._set("item",null);if(!_2b9){_2b9="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_2b9,_2ba,_2bb);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;if(root.tagName!="SELECT"&&root.firstChild){root=dojo.query("select",root);if(root.length>0){root=root[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";root=this.root.firstChild;}this.root=root;}dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_2bc,_2bd){return (_2bc=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_2be){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_2bf,_2c0){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _2c1=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_2c2=dojo.query("> option",this.root).filter(function(_2c3){return (_2c3.innerText||_2c3.textContent||"").match(_2c1);});if(args.sort){_2c2.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_2bf(_2c2,args);},close:function(_2c4){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_2c5,_2c6,_2c7){if((_2c6&&_2c6.query[this.searchAttr]!=this._lastQuery)||(!_2c6&&_2c5.length&&this.store.getIdentity(_2c5[0])!=this._lastQuery)){return;}if(!_2c5.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_2c7||(_2c7===undefined&&!this._focused));this._set("item",null);this.validate(this._focused);}else{this.set("item",_2c5[0],_2c7);}},_openResultList:function(_2c8,_2c9){if(_2c9.query[this.searchAttr]!=this._lastQuery){return;}dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_2ca,_2cb){if(!this._onChangeActive){_2cb=null;}this._lastQuery=_2ca;if(_2ca===null||_2ca===""){this._setDisplayedValueAttr("",_2cb);return;}var self=this;this.store.fetchItemByIdentity({identity:_2ca,onItem:function(item){self._callbackSetLabel(item?[item]:[],undefined,_2cb);}});},_setItemAttr:function(item,_2cc,_2cd){this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_2ce,_2cf){if(_2ce==null){_2ce="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_2cf=false;}if(this.store){this.closeDropDown();var _2d0=dojo.clone(this.query);this._lastQuery=_2d0[this.searchAttr]=this._getDisplayQueryString(_2ce);this.textbox.value=_2ce;this._lastDisplayedValue=_2ce;this._set("displayedValue",_2ce);var _2d1=this;var _2d2={query:_2d0,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_2d3,_2d4){_2d1._fetchHandle=null;dojo.hitch(_2d1,"_callbackSetLabel")(_2d3,_2d4,_2cf);},onError:function(_2d5){_2d1._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_2d5);dojo.hitch(_2d1,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_2d2,this.fetchProperties);this._fetchHandle=this.store.fetch(_2d2);}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextBox dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.textbox,"dijitTextAreaCols");}},filter:function(_2d6){if(_2d6){_2d6=_2d6.replace(/\r/g,"");}return this.inherited(arguments);},_previousValue:"",_onInput:function(e){if(this.maxLength){var _2d7=parseInt(this.maxLength);var _2d8=this.textbox.value.replace(/\r/g,"");var _2d9=_2d8.length-_2d7;if(_2d9>0){if(e){dojo.stopEvent(e);}var _2da=this.textbox;if(_2da.selectionStart){var pos=_2da.selectionStart;var cr=0;if(dojo.isOpera){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_2d8.substring(0,pos-_2d9-cr)+_2d8.substring(pos-cr);_2da.setSelectionRange(pos-_2d9,pos-_2d9);}else{if(dojo.doc.selection){_2da.focus();var _2db=dojo.doc.selection.createRange();_2db.moveStart("character",-_2d9);_2db.text="";_2db.select();}}}this._previousValue=this.textbox.value;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._ExpandingTextAreaMixin"]){dojo._hasResource["dijit.form._ExpandingTextAreaMixin"]=true;dojo.provide("dijit.form._ExpandingTextAreaMixin");var needsHelpShrinking;dojo.declare("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _2dc=this.textbox;if(needsHelpShrinking==undefined){var te=dojo.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},dojo.body(),"last");needsHelpShrinking=te.scrollHeight>=te.clientHeight;dojo.body().removeChild(te);}this.connect(_2dc,"onresize","_resizeLater");this.connect(_2dc,"onfocus","_resizeLater");_2dc.style.overflowY="hidden";},startup:function(){this.inherited(arguments);this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _2dd=this.textbox;_2dd.rows=(_2dd.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _2de=this.textbox;function _2df(){var _2e0=false;if(_2de.value===""){_2de.value=" ";_2e0=true;}var sh=_2de.scrollHeight;if(_2e0){_2de.value="";}return sh;};if(_2de.style.overflowY=="hidden"){_2de.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_2df()||_2de.offsetHeight){var newH=_2df()+Math.max(_2de.offsetHeight-_2de.clientHeight,0);var _2e1=newH+"px";if(_2e1!=_2de.style.height){_2de.style.height=_2e1;_2de.rows=1;}if(needsHelpShrinking){var _2e2=_2df(),_2e3=_2e2,_2e4=_2de.style.minHeight,_2e5=4,_2e6,_2e7=_2de.scrollTop;_2de.style.minHeight=_2e1;_2de.style.height="auto";while(newH>0){_2de.style.minHeight=Math.max(newH-_2e5,4)+"px";_2e6=_2df();var _2e8=_2e3-_2e6;newH-=_2e8;if(_2e8<_2e5){break;}_2e3=_2e6;_2e5<<=1;}_2de.style.height=newH+"px";_2de.style.minHeight=_2e4;_2de.scrollTop=_2e7;}_2de.style.overflowY=_2df()>_2de.clientHeight?"auto":"hidden";if(_2de.style.overflowY=="hidden"){_2de.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",[dijit.form.SimpleTextarea,dijit.form._ExpandingTextAreaMixin],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);dojo.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _2e9=dijit.getEnclosingWidget(this.domNode.parentNode);return _2e9&&_2e9.isContainer?_2e9:null;},_getSibling:function(_2ea){var node=this.domNode;do{node=node[_2ea+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _2eb=this.getParent&&this.getParent();if(!(_2eb&&_2eb.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function(_2ec,_2ed){var node=this.domNode;if(_2ec){dojo.marginBox(node,_2ec);if(_2ec.t){node.style.top=_2ec.t+"px";}if(_2ec.l){node.style.left=_2ec.l+"px";}}var mb=_2ed||{};dojo.mixin(mb,_2ec||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_2ee){var cls=this.baseClass+"-child "+(_2ee.baseClass?this.baseClass+"-"+_2ee.baseClass:"");dojo.addClass(_2ee.domNode,cls);},addChild:function(_2ef,_2f0){this.inherited(arguments);if(this._started){this._setupChild(_2ef);}},removeChild:function(_2f1){var cls=this.baseClass+"-child"+(_2f1.baseClass?" "+this.baseClass+"-"+_2f1.baseClass:"");dojo.removeClass(_2f1.domNode,cls);this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _2f2=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_2f3,dim){var _2f4=_2f3.resize?_2f3.resize(dim):dojo.marginBox(_2f3.domNode,dim);if(_2f4){dojo.mixin(_2f3,_2f4);}else{dojo.mixin(_2f3,dojo.marginBox(_2f3.domNode));dojo.mixin(_2f3,dim);}};dijit.layout.layoutChildren=function(_2f5,dim,_2f6,_2f7,_2f8){dim=dojo.mixin({},dim);dojo.addClass(_2f5,"dijitLayoutContainer");_2f6=dojo.filter(_2f6,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(dojo.filter(_2f6,function(item){return item.region=="center"||item.layoutAlign=="client";}));dojo.forEach(_2f6,function(_2f9){var elm=_2f9.domNode,pos=(_2f9.region||_2f9.layoutAlign);var _2fa=elm.style;_2fa.left=dim.l+"px";_2fa.top=dim.t+"px";_2fa.position="absolute";dojo.addClass(elm,"dijitAlign"+_2f2(pos));var _2fb={};if(_2f7&&_2f7==_2f9.id){_2fb[_2f9.region=="top"||_2f9.region=="bottom"?"h":"w"]=_2f8;}if(pos=="top"||pos=="bottom"){_2fb.w=dim.w;size(_2f9,_2fb);dim.h-=_2f9.h;if(pos=="top"){dim.t+=_2f9.h;}else{_2fa.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_2fb.h=dim.h;size(_2f9,_2fb);dim.w-=_2f9.w;if(pos=="left"){dim.l+=_2f9.w;}else{_2fa.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_2f9,dim);}}}});};})();}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_2fc,_2fd){var _2fe=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_2fc,function(code){_2fe[code]=prev;});dojo.forEach(_2fd,function(code){_2fe[code]=next;});_2fe[dojo.keys.HOME]=dojo.hitch(this,"focusFirstChild");_2fe[dojo.keys.END]=dojo.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_2ff,_300){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_2ff);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _301=this._getFirstFocusableChild();if(_301){this.focusChild(_301);}},focusLastChild:function(){var _302=this._getLastFocusableChild();if(_302){this.focusChild(_302);}},focusNext:function(){var _303=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_303);},focusPrev:function(){var _304=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_304,true);},focusChild:function(_305,last){if(this.focusedChild&&_305!==this.focusedChild){this._onChildBlur(this.focusedChild);}_305.set("tabIndex",this.tabIndex);_305.focus(last?"end":"start");this._set("focusedChild",_305);},_startupChild:function(_306){_306.set("tabIndex","-1");this.connect(_306,"_onFocus",function(){_306.set("tabIndex",this.tabIndex);});this.connect(_306,"_onBlur",function(){_306.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function(_307){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_308,dir){if(_308){_308=this._getSiblingOfChild(_308,dir);}var _309=this.getChildren();for(var i=0;i<_309.length;i++){if(!_308){_308=_309[(dir>0)?0:(_309.length-1)];}if(_308.isFocusable()){return _308;}_308=this._getSiblingOfChild(_308,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitMenuItem",label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_30a){if(_30a&&!("label" in this.params)){this.set("label",_30a.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _30b=this.id+"_text";dojo.attr(this.containerNode,"id",_30b);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_30b+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_30b);dojo.setSelectable(this.domNode,false);},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);this._set("hovering",false);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_30c){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_30c);},setLabel:function(_30d){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_30d);},setDisabled:function(_30e){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_30e);},_setDisabledAttr:function(_30f){dijit.setWaiState(this.focusNode,"disabled",_30f?"true":"false");this._set("disabled",_30f);},_setAccelKeyAttr:function(_310){this.accelKeyNode.style.display=_310?"":"none";this.accelKeyNode.innerHTML=_310;dojo.attr(this.containerNode,"colSpan",_310?"1":"2");this._set("accelKey",_310);}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _311=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_311[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&nbsp;</td>\n</tr>\n"),checked:false,_setCheckedAttr:function(_312){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_312);dijit.setWaiState(this.domNode,"checked",_312);this._set("checked",_312);},onChange:function(_313){},_onClick:function(e){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n"),buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_314){_314.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_315){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _316=this._getTopMenu();if(_316&&_316._isMenuBar){_316.focusNext();}}},_onPopupHover:function(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _317=this.currentPopup.parentMenu;if(_317.focusedChild){_317.focusedChild._setSelected(false);}_317.focusedChild=this.currentPopup.from_item;_317.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _318=item.popup;if(_318){this._stopPendingCloseTimer(_318);_318._pendingClose_timer=setTimeout(function(){_318._pendingClose_timer=null;if(_318.parentMenu){_318.parentMenu.currentPopup=null;}dijit.popup.close(_318);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function(_319){if(_319._pendingClose_timer){clearTimeout(_319._pendingClose_timer);_319._pendingClose_timer=null;}},_stopFocusTimer:function(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _31a=this.focusedChild;if(!_31a){return;}var _31b=_31a.popup;if(_31b.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_31b.parentMenu=this;_31b.from_item=_31a;var self=this;dijit.popup.open({parent:this,popup:_31b,around:_31a.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function(){self.focusChild(_31a);self._cleanUp();_31a._setSelected(true);self.focusedChild=_31a;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_31b;_31b.connect(_31b.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_31b.focus){_31b._focus_timer=setTimeout(dojo.hitch(_31b,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function(){this.isActive=true;dojo.replaceClass(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(e){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;dojo.replaceClass(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();var _31c=this.focusedChild&&this.focusedChild.from_item;if(this.currentPopup){if(dijit._curFocus&&dojo.isDescendant(dijit._curFocus,this.currentPopup.domNode)){this.focusedChild.focusNode.focus();}dijit.popup.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n"),baseClass:"dijitMenu",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_31d){var win=dojo.window.get(this._iframeContentDocument(_31d))||this._iframeContentDocument(_31d)["__parent__"]||(_31d.name&&dojo.doc.frames[_31d.name])||null;return win;},_iframeContentDocument:function(_31e){var doc=_31e.contentDocument||(_31e.contentWindow&&_31e.contentWindow.document)||(_31e.name&&dojo.doc.frames[_31e.name]&&dojo.doc.frames[_31e.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _31f=node,win=this._iframeContentWindow(_31f);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _320={node:node,iframe:_31f};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_320));var _321=dojo.hitch(this,function(cn){return [dojo.connect(cn,this.leftClickToOpen?"onclick":"oncontextmenu",this,function(evt){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_31f,{x:evt.pageX,y:evt.pageY});}),dojo.connect(cn,"onkeydown",this,function(evt){if(evt.shiftKey&&evt.keyCode==dojo.keys.F10){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_31f);}})];});_320.connects=cn?_321(cn):[];if(_31f){_320.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_31f);cn=dojo.withGlobal(win,dojo.body);_320.connects=_321(cn);});if(_31f.addEventListener){_31f.addEventListener("load",_320.onloadHandler,false);}else{_31f.attachEvent("onload",_320.onloadHandler);}}},unBindDomNode:function(_322){var node;try{node=dojo.byId(_322);}catch(e){return;}var _323="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_323)){var bid=dojo.attr(node,_323)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _324=b.iframe;if(_324){if(_324.removeEventListener){_324.removeEventListener("load",b.onloadHandler,false);}else{_324.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_323);delete this._bindings[bid];}},_scheduleOpen:function(_325,_326,_327){if(!this._openTimer){this._openTimer=setTimeout(dojo.hitch(this,function(){delete this._openTimer;this._openMyself({target:_325,iframe:_326,coords:_327});}),1);}},_openMyself:function(args){var _328=args.target,_329=args.iframe,_32a=args.coords;if(_32a){if(_329){var od=_328.ownerDocument,ifc=dojo.position(_329,true),win=this._iframeContentWindow(_329),_32b=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_329),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_329,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_329,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_329,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_329,cs.borderTopWidth):0);_32a.x+=ifc.x+left-_32b.x;_32a.y+=ifc.y+top-_32b.y;}}else{_32a=dojo.position(_328,true);_32a.x+=10;_32a.y+=10;}var self=this;var _32c=dijit.getFocus(this);function _32d(){if(self.refocus){dijit.focus(_32c);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:_32a.x,y:_32a.y,onExecute:_32d,onCancel:_32d,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dojox.html.metrics"]){dojo._hasResource["dojox.html.metrics"]=true;dojo.provide("dojox.html.metrics");(function(){var dhm=dojox.html.metrics;dhm.getFontMeasurements=function(){var _32e={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";dojo.body().appendChild(div);for(var p in _32e){ds.fontSize=p;_32e[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _32e;};var _32f=null;dhm.getCachedFontMeasurements=function(_330){if(_330||!_32f){_32f=dhm.getFontMeasurements();}return _32f;};var _331=null,_332={};dhm.getTextBox=function(text,_333,_334){var m,s;if(!_331){m=_331=dojo.doc.createElement("div");var c=dojo.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";dojo.body().appendChild(c);}else{m=_331;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_333){for(var i in _333){if(i in _332){continue;}s[i]=_333[i];}}if(arguments.length>2&&_334){m.className=_334;}m.innerHTML=text;var box=dojo.position(m);box.w=m.parentNode.scrollWidth;return box;};var _335={w:16,h:16};dhm.getScrollbar=function(){return {w:_335.w,h:_335.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_336){var f=dhm._fontResizeNode=dojo.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";if(dojo.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");dojo.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};dojo.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(dojo.isIE&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});dojo.addOnLoad(function(){try{var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_335.w=n.offsetWidth-n.clientWidth;_335.h=n.offsetHeight-n.clientHeight;dojo.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in dojo.config&&!!dojo.config.fontSizeWatch){dhm.initOnFontResize();}});})();}if(!dojo._hasResource["dojox.grid.util"]){dojo._hasResource["dojox.grid.util"]=true;dojo.provide("dojox.grid.util");(function(){var dgu=dojox.grid.util;dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_337,_338){if(_338>=0){var s=_337.style;var v=_338+"px";if(_337&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_339,_33a,_33b,_33c){var evts=(_33c?_33c:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_33a.connect(_339,"on"+evts[i],_33b);}};dgu.removeNode=function(_33d){_33d=dojo.byId(_33d);_33d&&_33d.parentNode&&_33d.parentNode.removeChild(_33d);return _33d;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_33e,_33f,_340){if(_33e.length<=_33f){_33e[_33f]=_340;}else{_33e.splice(_33f,0,_340);}};dgu.arrayRemove=function(_341,_342){_341.splice(_342,1);};dgu.arraySwap=function(_343,inI,inJ){var _344=_343[inI];_343[inI]=_343[inJ];_343[inJ]=_344;};})();}if(!dojo._hasResource["dojox.grid._Scroller"]){dojo._hasResource["dojox.grid._Scroller"]=true;dojo.provide("dojox.grid._Scroller");(function(){var _345=function(_346){var i=0,n,p=_346.parentNode;while((n=p.childNodes[i++])){if(n==_346){return i-1;}}return -1;};var _347=function(_348){if(!_348){return;}var _349=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_348,true);};var ws=dijit.registry.filter(_349);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;};var _34a=function(_34b){var node=dojo.byId(_34b);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _34c=function(_34d,_34e){var _34f=[];var i=0,n;while((n=_34d.childNodes[i])){i++;if(_34a(n)==_34e){_34f.push(n);}}return _34f;};var _350=function(_351){return _34c(_351,"div");};dojo.declare("dojox.grid._Scroller",null,{constructor:function(_352){this.setContentNodes(_352);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_353,_354,_355){switch(arguments.length){case 3:this.rowsPerPage=_355;case 2:this.keepRows=_354;case 1:this.rowCount=_353;default:break;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},_getPageCount:function(_356,_357){return _356?(Math.ceil(_356/_357)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_358){this.keepRows=_358;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_359){this.contentNodes=_359;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_35a){this.invalidateNodes();this.rowCount=_35a;var _35b=this.pageCount;if(_35b===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_35b){for(var i=_35b-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_35b){this.height+=this.defaultPageHeight*(this.pageCount-_35b-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_35c){return Boolean(this.getDefaultPageNode(_35c));},measurePage:function(_35d){if(this.grid.rowHeight){var _35e=this.grid.rowHeight+1;return ((_35d+1)*this.rowsPerPage>this.rowCount?this.rowCount-_35d*this.rowsPerPage:this.rowsPerPage)*_35e;}var n=this.getDefaultPageNode(_35d);return (n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_35f,_360){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_35f].style.top=_360+"px";}},repositionPages:function(_361){var _362=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_362[_361];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_361):0);for(var p=_361+1;p<=last;p++){n=_362[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_363){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_363]);}},preparePage:function(_364,_365){var p=(_365?this.popPage():null);for(var i=0;i<this.colCount;i++){var _366=this.pageNodes[i];var _367=(p===null?this.createPageNode():this.invalidatePageNode(p,_366));_367.pageIndex=_364;_366[_364]=_367;}},renderPage:function(_368){var _369=[];var i,j;for(i=0;i<this.colCount;i++){_369[i]=this.pageNodes[i][_368];}for(i=0,j=_368*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_369);}},removePage:function(_36a){for(var i=0,j=_36a*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_36b){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_36b,this.pageNodes[i]);if(n){dojo.destroy(n);}}},pacify:function(_36c){},pacifying:false,pacifyTicks:200,setPacifying:function(_36d){if(this.pacifying!=_36d){this.pacifying=_36d;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _36e=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _36e;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _36f=(!this._invalidating);if(!_36f){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_36f=true;}}if(_36f){this.needPage(this.page,this.pageTop);}var _370=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _371=this.getPageHeight(this.page);this.averageRowHeight=(_371>0&&_370>0)?(_371/_370):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _372=this.pageCount-1;var _373=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_372]=_373;return _373;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_374,_375,_376){if(this.pageExists(_374)){var oh=this.getPageHeight(_374);var h=(this.measurePage(_374));if(h===undefined){h=oh;}this.pageHeights[_374]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_375)){if(!_376){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_374);}}else{this.repositionPages(_374);}}return h;}return 0;},rowHeightChanged:function(_377,_378){this.updatePageHeight(Math.floor(_377/this.rowsPerPage),false,_378);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");dojo.attr(p,"role","presentation");p.style.position="absolute";p.style[dojo._isBodyLtr()?"left":"right"]="0";return p;},getPageHeight:function(_379){var ph=this.pageHeights[_379];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_37a){return this.stack.push(_37a);},popPage:function(){return this.stack.shift();},findPage:function(_37b){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_37b){break;}}this.page=i;this.pageTop=h;},buildPage:function(_37c,_37d,_37e){this.preparePage(_37c,_37d);this.positionPage(_37c,_37e);this.installPage(_37c);this.renderPage(_37c);this.pushPage(_37c);},needPage:function(_37f,_380){var h=this.getPageHeight(_37f),oh=h;if(!this.pageExists(_37f)){this.buildPage(_37f,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_380);h=this.updatePageHeight(_37f,true);}else{this.positionPage(_37f,_380);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_381){this.grid.scrollTop=_381;if(this.colCount){this.startPacify();this.findPage(_381);var h=this.height;var b=this.getScrollBottom(_381);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_381);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_382){return (this.windowHeight>=0?_382+this.windowHeight:-1);},processNodeEvent:function(e,_383){var t=e.target;while(t&&(t!=_383)&&t.parentNode&&(t.parentNode.parentNode!=_383)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_383)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_345(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_384,_385){},removeRow:function(_386){},getDefaultPageNode:function(_387){return this.getDefaultNodes()[_387];},positionPageNode:function(_388,_389){},getPageNodePosition:function(_38a){return _38a.offsetTop;},invalidatePageNode:function(_38b,_38c){var p=_38c[_38b];if(p){delete _38c[_38b];this.removePage(_38b,p);_347(p);p.innerHTML="";}return p;},getPageRow:function(_38d){return _38d*this.rowsPerPage;},getLastPageRow:function(_38e){return Math.min(this.rowCount,this.getPageRow(_38e+1))-1;},getFirstVisibleRow:function(_38f,_390,_391){if(!this.pageExists(_38f)){return 0;}var row=this.getPageRow(_38f);var _392=this.getDefaultNodes();var rows=_350(_392[_38f]);for(var i=0,l=rows.length;i<l&&_390<_391;i++,row++){_390+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_393,_394,_395){if(!this.pageExists(_393)){return 0;}var _396=this.getDefaultNodes();var row=this.getLastPageRow(_393);var rows=_350(_396[_393]);for(var i=rows.length-1;i>=0&&_394>_395;i--,row--){_394-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_397){var _398=this.getDefaultNodes();var rows=_350(_398[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_397){this.offset=h-(t-_397);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_399){var _39a=Math.floor(_399/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_39a;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_39a;this.needPage(_39a,this.pageTop);var _39b=this.getDefaultNodes();var rows=_350(_39b[_39a]);var r=_399-this.rowsPerPage*_39a;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});})();}if(!dojo._hasResource["dojox.grid.cells._base"]){dojo._hasResource["dojox.grid.cells._base"]=true;dojo.provide("dojox.grid.cells._base");dojo.declare("dojox.grid._DeferredTextWidget",dijit._Widget,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(dojo.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});(function(){var _39c=function(_39d){try{dojox.grid.util.fire(_39d,"focus");dojox.grid.util.fire(_39d,"select");}catch(e){}};var _39e=function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);};var dgc=dojox.grid.cells;dojo.declare("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_39f){this._props=_39f||{};dojo.mixin(this,_39f);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_3a0,_3a1){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_3a0!=this.defaultValue&&f)?f.apply(s,_3a1):_3a0;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new dojox.grid._DeferredTextWidget({deferred:v},dojo.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_3a2,_3a3){var f,i=this.grid.edit.info,d=this.get?this.get(_3a2,_3a3):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_3a2&&i.cell==this))){return this.formatEditing(d,_3a2);}else{return this._defaultFormat(d,[d,_3a2,this]);}},formatEditing:function(_3a4,_3a5){},getNode:function(_3a6){return this.view.getCellNode(_3a6,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_3a7){return (this.getNode(_3a7)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&dojo.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_3a8,_3a9){this.grid.edit.applyCellEdit(_3a8,this,_3a9);},cancelEdit:function(_3aa){this.grid.doCancelEdit(_3aa);},_onEditBlur:function(_3ab){if(this.grid.edit.isEditCell(_3ab,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_3ac,_3ad){if(this.commitOnBlur){dojo.connect(_3ac,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_3ad),250);});}},needFormatNode:function(_3ae,_3af){this._formatPending=true;_39e(this,"_formatNode",_3ae,_3af);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_3b0,_3b1){if(this._formatPending){this._formatPending=false;if(!dojo.isIE){dojo.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_3b1),_3b0,_3b1);}},formatNode:function(_3b2,_3b3,_3b4){if(dojo.isIE){_39e(this,"focus",_3b4,_3b2);}else{this.focus(_3b4,_3b2);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_3b5){return this.getEditNode(_3b5)[this._valueProp];},setValue:function(_3b6,_3b7){var n=this.getEditNode(_3b6);if(n){n[this._valueProp]=_3b7;}},focus:function(_3b8,_3b9){_39c(_3b9||this.getEditNode(_3b8));},save:function(_3ba){this.value=this.value||this.getValue(_3ba);},restore:function(_3bb){this.setValue(_3bb,this.value);},_finish:function(_3bc){dojo.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_3bd){this.applyEdit(this.getValue(_3bd),_3bd);this._finish(_3bd);},cancel:function(_3be){this.cancelEdit(_3be);this._finish(_3be);}});dgc._Base.markupFactory=function(node,_3bf){var d=dojo;var _3c0=d.trim(d.attr(node,"formatter")||"");if(_3c0){_3bf.formatter=dojo.getObject(_3c0)||_3c0;}var get=d.trim(d.attr(node,"get")||"");if(get){_3bf.get=dojo.getObject(get);}var _3c1=function(attr,cell,_3c2){var _3c3=d.trim(d.attr(node,attr)||"");if(_3c3){cell[_3c2||attr]=!(_3c3.toLowerCase()=="false");}};_3c1("sortDesc",_3bf);_3c1("editable",_3bf);_3c1("alwaysEditing",_3bf);_3c1("noresize",_3bf);_3c1("draggable",_3bf);var _3c4=d.trim(d.attr(node,"loadingText")||d.attr(node,"defaultValue")||"");if(_3c4){_3bf.defaultValue=_3c4;}var _3c5=function(attr,cell,_3c6){var _3c7=d.trim(d.attr(node,attr)||"")||undefined;if(_3c7){cell[_3c6||attr]=_3c7;}};_3c5("styles",_3bf);_3c5("headerStyles",_3bf);_3c5("cellStyles",_3bf);_3c5("classes",_3bf);_3c5("headerClasses",_3bf);_3c5("cellClasses",_3bf);};dojo.declare("dojox.grid.cells.Cell",dgc._Base,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_3c8,_3c9){this.needFormatNode(_3c8,_3c9);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_3c8+"\">";},formatNode:function(_3ca,_3cb,_3cc){this.inherited(arguments);this.registerOnBlur(_3ca,_3cc);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}},_finish:function(_3cd){this.inherited(arguments);var n=this.getEditNode(_3cd);try{dojox.grid.util.fire(n,"blur");}catch(e){}}});dgc.Cell.markupFactory=function(node,_3ce){dgc._Base.markupFactory(node,_3ce);var d=dojo;var _3cf=d.trim(d.attr(node,"keyFilter")||"");if(_3cf){_3ce.keyFilter=new RegExp(_3cf);}};dojo.declare("dojox.grid.cells.RowIndex",dgc.Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_3d0){return _3d0+1;}});dgc.RowIndex.markupFactory=function(node,_3d1){dgc.Cell.markupFactory(node,_3d1);};dojo.declare("dojox.grid.cells.Select",dgc.Cell,{options:null,values:null,returnIndex:-1,constructor:function(_3d2){this.values=this.values||this.options;},formatEditing:function(_3d3,_3d4){this.needFormatNode(_3d3,_3d4);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_3d3==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_3d5){var n=this.getEditNode(_3d5);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});dgc.Select.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);var d=dojo;var _3d6=d.trim(d.attr(node,"options")||"");if(_3d6){var o=_3d6.split(",");if(o[0]!=_3d6){cell.options=o;}}var _3d7=d.trim(d.attr(node,"values")||"");if(_3d7){var v=_3d7.split(",");if(v[0]!=_3d7){cell.values=v;}}};dojo.declare("dojox.grid.cells.AlwaysEdit",dgc.Cell,{alwaysEditing:true,_formatNode:function(_3d8,_3d9){this.formatNode(this.getEditNode(_3d9),_3d8,_3d9);},applyStaticValue:function(_3da){var e=this.grid.edit;e.applyCellEdit(this.getValue(_3da),this,_3da);e.start(this,_3da,true);}});dgc.AlwaysEdit.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);};dojo.declare("dojox.grid.cells.Bool",dgc.AlwaysEdit,{_valueProp:"checked",formatEditing:function(_3db,_3dc){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_3db?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});dgc.Bool.markupFactory=function(node,cell){dgc.AlwaysEdit.markupFactory(node,cell);};})();}if(!dojo._hasResource["dojox.grid.cells"]){dojo._hasResource["dojox.grid.cells"]=true;dojo.provide("dojox.grid.cells");}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.getObject("dnd",true,dojo);dojo.dnd.getCopyKeyState=dojo.isCopyKey;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.getObject("dnd",true,dojo);dojo.dnd.getViewport=dojo.window.getBox;dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.window.getBox(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft;ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _3dd=n.scrollLeft,_3de=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_3dd!=n.scrollLeft||_3de!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);var pos=e.touches?e.touches[0]:e;this.marginBox={l:pos.pageX,t:pos.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[dojo.connect(d,"onmousemove",this,"onFirstMove"),dojo.connect(d,"ontouchmove",this,"onFirstMove"),dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"ontouchmove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ontouchend",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent)];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,pos=e.touches?e.touches[0]:e;this.host.onMove(this,{l:m.l+pos.pageX,t:m.t+pos.pageY},e);dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}dojo.disconnect(this.events.shift());dojo.disconnect(this.events.shift());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_3df){this.node=dojo.byId(node);if(!_3df){_3df={};}this.handle=_3df.handle?dojo.byId(_3df.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_3df.delay>0?_3df.delay:0;this.skip=_3df.skip;this.mover=_3df.mover?_3df.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ontouchstart",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_3e0,node){return new dojo.dnd.Moveable(node,_3e0);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"ontouchmove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"),dojo.connect(this.handle,"ontouchend",this,"onMouseUp"));var pos=e.touches?e.touches[0]:e;this._lastX=pos.pageX;this._lastY=pos.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){var pos=e.touches?e.touches[0]:e;if(Math.abs(pos.pageX-this._lastX)>this.delay||Math.abs(pos.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_3e1){dojo.publish("/dnd/move/start",[_3e1]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_3e2){dojo.publish("/dnd/move/stop",[_3e2]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_3e3,e){},onMove:function(_3e4,_3e5,e){this.onMoving(_3e4,_3e5);var s=_3e4.node.style;s.left=_3e5.l+"px";s.top=_3e5.t+"px";this.onMoved(_3e4,_3e5);},onMoving:function(_3e6,_3e7){},onMoved:function(_3e8,_3e9){}});}if(!dojo._hasResource["dojox.grid._Builder"]){dojo._hasResource["dojox.grid._Builder"]=true;dojo.provide("dojox.grid._Builder");(function(){var dg=dojox.grid;var _3ea=function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);};var _3eb=function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);};var _3ec=function(_3ed,_3ee){return _3ed&&((_3ed.rows||0)[_3ee]||_3ed.childNodes[_3ee]);};var _3ef=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _3f0=function(_3f1,_3f2){for(var n=_3f1;n&&_3f2(n);n=n.parentNode){}return n;};var _3f3=function(_3f4){var name=_3f4.toUpperCase();return function(node){return node.tagName!=name;};};var _3f5=dojox.grid.util.rowIndexTag;var _3f6=dojox.grid.util.gridViewTag;dg._Builder=dojo.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_3f7,_3f8,_3f9,_3fa){var _3fb=[],html;if(_3fa){var _3fc=_3f7.index!=_3f7.grid.getSortIndex()?"":_3f7.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";if(!_3f7.id){_3f7.id=this.grid.id+"Hdr"+_3f7.index;}html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_3fc,"id=\"",_3f7.id,"\""];}else{var _3fd=this.grid.editable&&!_3f7.editable?"aria-readonly=\"true\"":"";html=["<td tabIndex=\"-1\" role=\"gridcell\"",_3fd];}if(_3f7.colSpan){html.push(" colspan=\"",_3f7.colSpan,"\"");}if(_3f7.rowSpan){html.push(" rowspan=\"",_3f7.rowSpan,"\"");}html.push(" class=\"dojoxGridCell ");if(_3f7.classes){html.push(_3f7.classes," ");}if(_3f9){html.push(_3f9," ");}_3fb.push(html.join(""));_3fb.push("");html=["\" idx=\"",_3f7.index,"\" style=\""];if(_3f8&&_3f8[_3f8.length-1]!=";"){_3f8+=";";}html.push(_3f7.styles,_3f8||"",_3f7.hidden?"display:none;":"");if(_3f7.unitWidth){html.push("width:",_3f7.unitWidth,";");}_3fb.push(html.join(""));_3fb.push("");html=["\""];if(_3f7.attrs){html.push(" ",_3f7.attrs);}html.push(">");_3fb.push(html.join(""));_3fb.push("");_3fb.push(_3fa?"</th>":"</td>");return _3fb;},isCellNode:function(_3fe){return Boolean(_3fe&&_3fe!=dojo.doc&&dojo.attr(_3fe,"idx"));},getCellNodeIndex:function(_3ff){return _3ff?Number(dojo.attr(_3ff,"idx")):-1;},getCellNode:function(_400,_401){for(var i=0,row;((row=_3ec(_400.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_401){return cell;}}}return null;},findCellTarget:function(_402,_403){var n=_402;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_3f6 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_3f6]!=this.view.id))&&(n!=_403)){n=n.parentNode;}return n!=_403?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_404,_405){var n=_404;while(n&&(n!=this.domNode)&&(!(_405 in n)||(_3f6 in n&&n[_3f6]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_406){return this.findTarget(_406,_3f5);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);}});dg._ContentBuilder=dojo.extend(function(view){dg._Builder.call(this,view);},dg._Builder.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _407=this.grid.get,_408=this.view.structure.cells;for(var j=0,row;(row=_408[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_407;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_409,_40a){var html=this.getTableArray(),v=this.view,_40b=v.structure.cells,item=this.grid.getItem(_40a);dojox.grid.util.fire(this.view,"onBeforeRow",[_40a,_40b]);for(var j=0,row;(row=_40b[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_40a,item);if(dojo.isIE<8&&(m[5]===null||m[5]===""||/^\s+$/.test(m[5]))){m[5]="&nbsp;";}m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_3f5];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});dg._HeaderBuilder=dojo.extend(function(view){this.moveable=null;dg._Builder.call(this,view);},dg._Builder.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_40c,_40d){var html=this.getTableArray(),_40e=this.view.structure.cells;dojox.grid.util.fire(this.view,"onBeforeRow",[-1,_40e]);for(var j=0,row;(row=_40e[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_40f;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_40f=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_40f[5]=(_40d!=undefined?_40d:_40c(cell));_40f[3]=cell.customStyles.join(";");_40f[1]=cell.customClasses.join(" ");html.push(_40f.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x=e.layerX;if(dojo.isMoz||dojo.isIE>=9){n=_3f0(e.target,_3f3("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!dojo._isBodyLtr()){table=_3f0(n,_3f3("table"));x-=(table&&table.offsetLeft)||0;}}n=_3f0(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=_3ea(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(dojo.hasClass(dojo.body(),"dojoDndMove")){return false;}if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")||dojo.hasClass(tN,"dojoxGridColCaption")){return false;}}if(dojo._isBodyLtr()){return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(dojo.hasClass(dojo.body(),"dojoDndMove")){return false;}if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")||dojo.hasClass(tN,"dojoxGridColCaption")){return false;}}if(dojo._isBodyLtr()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}dojo.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));dojo.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(dojo.isIE){var t=e.sourceView.headerNode.scrollLeft;e.sourceView.headerNode.scrollLeft=t;}if(c){dojo.stopEvent(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){dojo.stopEvent(e);return true;}return false;},colResizeSetup:function(e,_410){var _411=dojo.contentBox(e.sourceView.headerNode);if(_410){this.lineDiv=document.createElement("div");var vw=(dojo.position||dojo._abs)(e.sourceView.headerNode,true);var _412=dojo.contentBox(e.sourceView.domNode);var l=e.pageX;if(!dojo._isBodyLtr()&&dojo.isIE<8){l-=dojox.html.metrics.getScrollbar().w;}dojo.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_412.h+_411.h)+"px"});dojo.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;dojo.body().appendChild(this.lineDiv);}var _413=[],_414=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_414[i]);i++){_413.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=dojo._isBodyLtr()?1:-1;var _415=e.grid.views.views;var _416=[];for(var j=view.idx+adj,_417;(_417=_415[j]);j=j+adj){_416.push({node:_417.headerNode,left:window.parseInt(_417.headerNode.style.left)});}var _418=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:dojo.contentBox(e.cellNode).w,vw:_411.w,table:_418,tw:dojo.contentBox(_418).w,spanners:_413,followers:_416};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");dojo.style(this.moverDiv,{position:"absolute",left:0});dojo.body().appendChild(this.moverDiv);dojo.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new dojo.dnd.Moveable(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=dojo.hitch(this,"doResizeColumn",drag);dojo.connect(m,"onMoveStop",dojo.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;dojo.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_419,_41a,_41b){var _41c=_41b.l;var data={deltaX:_41c,w:_419.w+(dojo._isBodyLtr()?_41c:-_41c),vw:_419.vw+_41c,tw:_419.tw+_41c};this.dragRecord={inDrag:_419,mover:_41a,leftTop:_41b};if(data.w>=this.minColWidth){if(!_41a){this.doResizeNow(_419,data);}else{dojo.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_41d){if(this.dragRecord){var _41e=this.dragRecord.leftTop;var _41f=dojo._isBodyLtr()?_41e.l:-_41e.l;_41f+=Math.max(_41d.w+_41f,this.minColWidth)-(_41d.w+_41f);if(dojo.isWebKit&&_41d.spanners.length){_41f+=dojo._getPadBorderExtents(_41d.spanners[0].node).w;}var data={deltaX:_41f,w:_41d.w+_41f,vw:_41d.vw+_41f,tw:_41d.tw+_41f};this.doResizeNow(_41d,data);delete this.dragRecord;}dojo.destroy(this.lineDiv);dojo.destroy(this.moverDiv);dojo.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_41d.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_41d.index);},doResizeNow:function(_420,data){_420.view.convertColPctToFixed();if(_420.view.flexCells&&!_420.view.testFlexCells()){var t=_3ef(_420.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_420.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_420.view.setColWidth(s.index,sw);}}if(dojo._isBodyLtr()||!dojo.isIE){for(i=0;(f=_420.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_420.node.style.width=data.w+"px";_420.view.setColWidth(_420.index,data.w);_420.view.headerNode.style.width=data.vw+"px";_420.view.setColumnsWidth(data.tw);if(!dojo._isBodyLtr()){_420.view.headerNode.scrollLeft=_420.scrollLeft+data.deltaX;}}});dg._TableMap=dojo.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_421){var _422=_421.length;if(!_422){return;}this.map=[];var row;for(var k=0;(row=_421[k]);k++){this.map[k]=[];}for(var j=0;(row=_421[j]);j++){for(var i=0,x=0,cell,_423,_424;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_424=cell.rowSpan||1;_423=cell.colSpan||1;for(var y=0;y<_424;y++){for(var s=0;s<_423;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_423;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_425,_426){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_426&&cell.r==_425){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_427,_428,_429){var row=_427&&_427.rows[_428];return row&&row.cells[_429];},_findOverlappingNodes:function(_42a,_42b,_42c){var _42d=[];var m=this.getMapCoords(_42b,_42c);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_42a,rw.r,rw.c):null);if(n){_42d.push(n);}}return _42d;},findOverlappingNodes:function(_42e){return this._findOverlappingNodes(_3ef(_42e),_3eb(_42e.parentNode),_3ea(_42e));}});})();}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_42f){this.node=dojo.byId(node);if(!_42f){_42f={};}this.creator=_42f.creator||null;this.skipForm=_42f.skipForm;this.parent=_42f.dropParent&&dojo.byId(_42f.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_42f&&_42f._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_430,_431){if(!this.parent.firstChild){_431=null;}else{if(_430){if(!_431){_431=this.parent.firstChild;}}else{if(_431){_431=_431.nextSibling;}}}if(_431){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_431);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_432,node){_432._skipStartup=true;return new dojo.dnd.Container(node,_432);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_433){var _434="dojoDnd"+type;var _435=type.toLowerCase()+"State";dojo.replaceClass(this.node,_434+_433,_434+this[_435]);this[_435]=_433;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _436=node.parentNode;_436;node=_436,_436=node.parentNode){if(_436==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _437=item&&dojo.isObject(item),data,type,n;if(_437&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_437&&item.data)?item.data:item;type=(_437&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}if(!n.id){n.id=dojo.dnd.getUniqueId();}return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_438){if(!_438){_438={};}this.singular=_438.singular;this.autoSync=_438.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_439,data,_43a,_43b){var _43c=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_43c.call(this,item,hint);if(_439){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_43a,_43b);this._normalizedCreator=_43c;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_43d,node){_43d._skipStartup=true;return new dojo.dnd.Selector(node,_43d);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.isCopyKey(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(e.button===dojo.mouseButtons.LEFT){dojo.stopEvent(e);}return;}if(!this.singular&&e.shiftKey){if(!dojo.isCopyKey(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.isCopyKey(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.isCopyKey(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_43e){this.manager=_43e;this.construct();},construct:function(){this.isA11y=dojo.hasClass(dojo.body(),"dijit_a11y");var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_43f=this.manager.source,node,b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",null,tr),icon=this.isA11y?dojo.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td):null,span=dojo.create("span",{innerHTML:_43f.generateText?this._generateText():""},td),k=Math.min(5,this.manager.nodes.length),i=0;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_43f.creator){node=_43f._normalizedCreator(_43f.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _440=dojo.create("table"),_441=dojo.create("tbody",null,_440);_441.appendChild(node);node=_440;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");if(this.isA11y){var icon=dojo.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}dojo.query(("tr.dojoDndAvatarHeader td span"+(this.isA11y?" span":"")),this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_442){if(this.avatar){this.target=(_442&&_442.targetState!="Disabled")?_442:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_442]);},outSource:function(_443){if(this.avatar){if(this.target==_443){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_444,_445,copy){this.source=_444;this.nodes=_445;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_444,_445,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _446=Boolean(this.target&&flag);if(this.canDropFlag!=_446){this.canDropFlag=_446;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),["dojoDndCopy","dojoDndMove"]);dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.isCopyKey(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.isCopyKey(e))),_447=[this.source,this.nodes,copy,this.target,e];dojo.publish("/dnd/drop/before",_447);dojo.publish("/dnd/drop",_447);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.replaceClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_448){dojo.mixin(this,dojo.mixin({},_448));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_449,_44a){if(this==_449){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_44a.length;++i){var type=_449.getItem(_44a[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_44b,self){if(_44b){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_44c,node){_44c._skipStartup=true;return new dojo.dnd.Source(node,_44c);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _44d=this.getSelectedNodes();if(_44d.length){m.startDrag(this,_44d,this.copyState(dojo.isCopyKey(e),true));}}}if(this.isDragging){var _44e=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=dojo.position(this.current,true);}if(this.horizontal){_44e=(e.pageX-this.targetBox.x)<(this.targetBox.w/2);}else{_44e=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_44e!=this.before){this._markTargetAnchor(_44e);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_44f){if(this!=_44f){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_450,_451,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_450?(copy?"Copied":"Moved"):"");}var _452=this.accept&&this.checkAcceptance(_450,_451);this._changeState("Target",_452?"":"Disabled");if(this==_450){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_453,_454,copy,_455){if(this==_455){this.onDrop(_453,_454,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_456,_457,copy){if(this!=_456){this.onDropExternal(_456,_457,copy);}else{this.onDropInternal(_457,copy);}},onDropExternal:function(_458,_459,copy){var _45a=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _45a.call(this,_458.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_458.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_458.getItem(node.id);_458.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_458.selectNone();}this.insertNodes(true,_459,this.before,this.current);if(!copy&&this.creator){_458.deleteSelectedNodes();}this._normalizedCreator=_45a;},onDropInternal:function(_45b,copy){var _45c=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _45c.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_45b,this.before,this.current);this._normalizedCreator=_45c;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_45d){if(this.current==this.targetAnchor&&this.before==_45d){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_45d;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!dojo.mouseButtons.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")||dojo.hasClass(node,"dojoDndIgnore")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_45e){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_45f,node){_45f._skipStartup=true;return new dojo.dnd.Target(node,_45f);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_460){this.autoSync=true;},markupFactory:function(_461,node){_461._skipStartup=true;return new dojo.dnd.AutoSource(node,_461);}});}if(!dojo._hasResource["dojox.grid._View"]){dojo._hasResource["dojox.grid._View"]=true;dojo.provide("dojox.grid._View");(function(){var _462=function(_463,_464){return _463.style.cssText==undefined?_463.getAttribute("style"):_463.style.cssText;};dojo.declare("dojox.grid._View",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:dojox.grid._HeaderBuilder,_contentBuilderClass:dojox.grid._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");dojox.grid.util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);dojox.grid.util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!dojo._isBodyLtr()){this.headerNodeContainer.style.width="";}},destroy:function(){dojo.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);dojo.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(dojo.isIE||dojo.isWebKit||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_465){var vs=(this.structure=_465);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_466){if(_466){dojo.forEach(dojo.query("[widgetId]",_466).map(dijit.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_467,_468){this._onBeforeRow(_467,_468);if(_467>=0){this._cleanupRowWidgets(this.getRowNode(_467));}},onAfterRow:function(_469,_46a,_46b){this._onAfterRow(_469,_46a,_46b);var g=this.grid;dojo.forEach(dojo.query(".dojoxGridStubNode",_46b),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _46c=window.parseInt(dojo.attr(n,"cellIdx"),10);var _46d=g.getCell(_46c);var w=dijit.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _46e=this.hasVScrollbar();var _46f=dojo.style(this.scrollboxNode,"overflow");if(this.noscroll||!_46f||_46f=="hidden"){_46e=false;}else{if(_46f=="scroll"){_46e=true;}}return (_46e?dojox.html.metrics.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?(h.firstChild.offsetWidth||dojo.style(h.firstChild,"width")):0;},setColumnsWidth:function(_470){this.headerContentNode.firstChild.style.width=_470+"px";if(this.viewWidth){this.viewWidth=_470+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _471=this.grid.layout.cells;var _472=dojo.hitch(this,function(node,_473){!dojo._isBodyLtr()&&(_473=!_473);var inc=_473?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_471[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_471[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _474="dojoxGrid_bottomMarker";var _475="dojoxGrid_topMarker";if(this.bottomMarker){dojo.destroy(this.bottomMarker);}this.bottomMarker=dojo.byId(_474);if(this.topMarker){dojo.destroy(this.topMarker);}this.topMarker=dojo.byId(_475);if(!this.bottomMarker){this.bottomMarker=dojo.create("div",{"id":_474,"class":"dojoxGridColPlaceBottom"},dojo.body());this._hide(this.bottomMarker);this.topMarker=dojo.create("div",{"id":_475,"class":"dojoxGridColPlaceTop"},dojo.body());this._hide(this.topMarker);}this.arrowDim=dojo.contentBox(this.bottomMarker);var _476=dojo.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new dojo.dnd.Source(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:dojo.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(dojo.isIE<9?1:0)){dojo.dnd.Source.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:dojo.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){dojo.dnd.Source.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:dojo.hitch(this,function(_477){var src=this.source;if(src.current==src.targetAnchor&&src.before==_477){return;}if(src.targetAnchor&&_472(src.targetAnchor,src.before)){src._removeItemClass(_472(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._markTargetAnchor.call(src,_477);var _478=_477?src.targetAnchor:_472(src.targetAnchor,src.before);var _479=0;if(!_478){_478=src.targetAnchor;_479=dojo.contentBox(_478).w+this.arrowDim.w/2+2;}var pos=(dojo.position||dojo._abs)(_478,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_479);dojo.style(this.bottomMarker,"visibility","visible");dojo.style(this.topMarker,"visibility","visible");dojo.style(this.bottomMarker,{"left":left+"px","top":(_476+pos.y)+"px"});dojo.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_472(src.targetAnchor,src.before)){src._addItemClass(_472(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:dojo.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_472(src.targetAnchor,src.before)){src._removeItemClass(_472(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);dojo.dnd.Source.prototype._unmarkTargetAnchor.call(src);}),destroy:dojo.hitch(this,function(){dojo.disconnect(this._source_conn);dojo.unsubscribe(this._source_sub);dojo.dnd.Source.prototype.destroy.call(this.source);if(this.bottomMarker){dojo.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){dojo.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:dojo.hitch(this,function(){dojo.dnd.Source.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=dojo.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=dojo.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){dojo.style(node,{left:"-10000px",top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_47a,_47b,copy){if(dojo.dnd.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _47c=this.grid.views.views;var _47d=_47c[_47a.viewIndex];var _47e=_47c[this.index];if(_47e!=_47d){_47d.convertColPctToFixed();_47e.convertColPctToFixed();}},_onDndDrop:function(_47f,_480,copy){if(dojo.dnd.manager().target!==this.source){if(dojo.dnd.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _481=function(n){return n?dojo.attr(n,"idx"):null;};var w=dojo.marginBox(_480[0]).w;if(_47f.viewIndex!==this.index){var _482=this.grid.views.views;var _483=_482[_47f.viewIndex];var _484=_482[this.index];if(_483.viewWidth&&_483.viewWidth!="auto"){_483.setColumnsWidth(_483.getColumnsWidth()-w);}if(_484.viewWidth&&_484.viewWidth!="auto"){_484.setColumnsWidth(_484.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!dojo._isBodyLtr()&&(stb=!stb);var _485=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_485.moveColumn(_47f.viewIndex,idx,_481(_480[0]),_481(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_486){var n=_486.name||_486.grid.getCellName(_486);var ret=["<div class=\"dojoxGridSortNode"];if(_486.index!=_486.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_486.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_486.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_487){var _488=this._hasHScroll||false;if(this._hasHScroll==undefined||_487){if(this.noscroll){this._hasHScroll=false;}else{var _489=dojo.style(this.scrollboxNode,"overflow");if(_489=="hidden"){this._hasHScroll=false;}else{if(_489=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_488!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(_48a){var _48b=this._hasVScroll||false;if(this._hasVScroll==undefined||_48a){if(this.noscroll){this._hasVScroll=false;}else{var _48c=dojo.style(this.scrollboxNode,"overflow");if(_48c=="hidden"){this._hasVScroll=false;}else{if(_48c=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_48b!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _48d=false;this.grid.initialWidth="";var _48e=dojo.query("th",this.headerContentNode);var _48f=dojo.map(_48e,function(c,vIdx){var w=c.style.width;dojo.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_48d=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return dojo.contentBox(c).w;});if(_48d){dojo.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _490=cell.view.getHeaderCellNode(cell.index);if(_490&&dojo.hasAttr(_490,"vIdx")){var vIdx=window.parseInt(dojo.attr(_490,"vIdx"));this.setColWidth(idx,_48f[vIdx]);dojo.removeAttr(_490,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_491){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _492=function(){var v;for(var i in self.grid.views.views){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_491||(this.noscroll&&_492())){h-=dojox.html.metrics.getScrollbar().h;}dojox.grid.util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_493){var _494=this.createRowNode(_493);this.buildRow(_493,_494);return _494;},createRowNode:function(_495){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof dojox.grid._RowSelector){dojo.attr(node,"role","presentation");}else{dojo.attr(node,"role","row");if(this.grid.selectionMode!="none"){dojo.attr(node,"aria-selected","false");}}node[dojox.grid.util.gridViewTag]=this.id;node[dojox.grid.util.rowIndexTag]=_495;this.rowNodes[_495]=node;return node;},buildRow:function(_496,_497){this.buildRowContent(_496,_497);this.styleRow(_496,_497);},buildRowContent:function(_498,_499){_499.innerHTML=this.content.generateHtml(_498,_498);if(this.flexCells&&this.contentWidth){_499.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[_498,this.structure.cells,_499]);},rowRemoved:function(_49a){if(_49a>=0){this._cleanupRowWidgets(this.getRowNode(_49a));}this.grid.edit.save(this,_49a);delete this.rowNodes[_49a];},getRowNode:function(_49b){return this.rowNodes[_49b];},getCellNode:function(_49c,_49d){var row=this.getRowNode(_49c);if(row){return this.content.getCellNode(row,_49d);}},getHeaderCellNode:function(_49e){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_49e);}},styleRow:function(_49f,_4a0){_4a0._style=_462(_4a0);this.styleRowNode(_49f,_4a0);},styleRowNode:function(_4a1,_4a2){if(_4a2){this.doStyleRowNode(_4a1,_4a2);}},doStyleRowNode:function(_4a3,_4a4){this.grid.styleRowNode(_4a3,_4a4);},updateRow:function(_4a5){var _4a6=this.getRowNode(_4a5);if(_4a6){_4a6.style.height="";this.buildRow(_4a5,_4a6);}return _4a6;},updateRowStyles:function(_4a7){this.styleRowNode(_4a7,this.getRowNode(_4a7));},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_4a8){if(dojo.isFF>=13){this._nativeScroll=true;}var _4a9=dojo._isBodyLtr();if(this.firstScroll<2){if((!_4a9&&this.firstScroll==1)||(_4a9&&this.firstScroll===0)){var s=dojo.marginBox(this.headerNodeContainer);if(dojo.isIE){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(dojo.isMoz){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_4a9?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}this._nativeScroll=false;},setScrollTop:function(_4aa){this.lastTop=_4aa;if(!this._nativeScroll){this.scrollboxNode.scrollTop=_4aa;}return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_4ab,_4ac){this.grid.setCellWidth(_4ab,_4ac+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});dojo.declare("dojox.grid._GridAvatar",dojo.dnd.Avatar,{construct:function(){var dd=dojo.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _4ad=this.manager.source,node;if(_4ad.creator){node=_4ad._normalizedCreator(_4ad.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var _4ae,_4af;if(node.tagName.toLowerCase()=="tr"){_4ae=dd.createElement("table");_4af=dd.createElement("tbody");_4af.appendChild(node);_4ae.appendChild(_4af);node=_4ae;}else{if(node.tagName.toLowerCase()=="th"){_4ae=dd.createElement("table");_4af=dd.createElement("tbody");var r=dd.createElement("tr");_4ae.cellPadding=_4ae.cellSpacing="0";r.appendChild(node);_4af.appendChild(r);_4ae.appendChild(_4af);node=_4ae;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=dojo.dnd.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){dojo.dnd.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _4b0=dojo.dnd.manager().makeAvatar;dojo.dnd.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!dojo.hasClass(dojo.body(),"dijit_a11y")){return new dojox.grid._GridAvatar(this);}return _4b0.call(dojo.dnd.manager());};})();}if(!dojo._hasResource["dojox.grid._RowSelector"]){dojo._hasResource["dojox.grid._RowSelector"]=true;dojo.provide("dojox.grid._RowSelector");dojo.declare("dojox.grid._RowSelector",dojox.grid._View,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_4b1,_4b2){var w=this.contentWidth||0;_4b2.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_4b3,_4b4){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_4b3)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_4b3)){n.push("dojoxGridRowbarSelected");}_4b4.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._Layout"]){dojo._hasResource["dojox.grid._Layout"]=true;dojo.provide("dojox.grid._Layout");dojo.declare("dojox.grid._Layout",null,{constructor:function(_4b5){this.grid=_4b5;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_4b6,_4b7,_4b8,_4b9,_4ba){var _4bb=this.structure[_4b6].cells[0];var _4bc=this.structure[_4b7].cells[0];var cell=null;var _4bd=0;var _4be=0;for(var i=0,c;c=_4bb[i];i++){if(c.index==_4b8){_4bd=i;break;}}cell=_4bb.splice(_4bd,1)[0];cell.view=this.grid.views.views[_4b7];for(i=0,c=null;c=_4bc[i];i++){if(c.index==_4b9){_4be=i;break;}}if(!_4ba){_4be+=1;}_4bc.splice(_4be,0,cell);var _4bf=this.grid.getCell(this.grid.getSortIndex());if(_4bf){_4bf._currentlySorted=this.grid.getSortAsc();}this.cells=[];_4b8=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_4b8;this.cells.push(c);if("_currentlySorted" in c){var si=_4b8+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_4b8++;}}}dojo.forEach(this.cells,function(c){var _4c0=c.markup[2].split(" ");var _4c1=parseInt(_4c0[1].substring(5));if(_4c1!=c.index){_4c0[1]="idx=\""+c.index+"\"";c.markup[2]=_4c0.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_4c2,_4c3){var cell=this.cells[_4c2];if(cell.hidden==_4c3){cell.hidden=!_4c3;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=dojo.marginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_4c4,_4c5,_4c6){var self=this;var _4c7=function(_4c8){var w=0;if(_4c8.colSpan>1){w=0;}else{w=_4c8.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _4c9={grid:this.grid,subrow:_4c4,layoutIndex:_4c5,index:this.cells.length};if(_4c6&&_4c6 instanceof dojox.grid.cells._Base){var _4ca=dojo.clone(_4c6);_4c9.unitWidth=_4c7(_4ca._props);_4ca=dojo.mixin(_4ca,this._defaultCellProps,_4c6._props,_4c9);return _4ca;}var _4cb=_4c6.type||_4c6.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||dojox.grid.cells.Cell;if(dojo.isString(_4cb)){_4cb=dojo.getObject(_4cb);}_4c9.unitWidth=_4c7(_4c6);return new _4cb(dojo.mixin({},this._defaultCellProps,_4c6,_4c9));},addRowDef:function(_4cc,_4cd){var _4ce=[];var _4cf=0,_4d0=0,_4d1=true;for(var i=0,def,cell;(def=_4cd[i]);i++){cell=this.addCellDef(_4cc,i,def);_4ce.push(cell);this.cells.push(cell);if(_4d1&&cell.relWidth){_4cf+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_4d0+=window.parseInt(w,10);}else{if(w=="auto"){_4d1=false;}}}}}if(_4cf&&_4d1){dojo.forEach(_4ce,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_4cf)*(100-_4d0))+"%";}});}return _4ce;},addRowsDef:function(_4d2){var _4d3=[];if(dojo.isArray(_4d2)){if(dojo.isArray(_4d2[0])){for(var i=0,row;_4d2&&(row=_4d2[i]);i++){_4d3.push(this.addRowDef(i,row));}}else{_4d3.push(this.addRowDef(0,_4d2));}}return _4d3;},addViewDef:function(_4d4){this._defaultCellProps=_4d4.defaultCell||{};if(_4d4.width&&_4d4.width=="auto"){delete _4d4.width;}return dojo.mixin({},_4d4,{cells:this.addRowsDef(_4d4.rows||_4d4.cells)});},setStructure:function(_4d5){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:dojox._scopeName+".grid._RowSelector"};if(dojo.isString(this.grid.rowSelector)){var _4d6=this.grid.rowSelector;if(_4d6=="false"){sel=null;}else{if(_4d6!="true"){sel["width"]=_4d6;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _4d7=function(def){return ("name" in def||"field" in def||"get" in def);};var _4d8=function(def){if(dojo.isArray(def)){if(dojo.isArray(def[0])||_4d7(def[0])){return true;}}return false;};var _4d9=function(def){return (def!==null&&dojo.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_4d7(def))));};if(dojo.isArray(_4d5)){var _4da=false;for(var i=0,st;(st=_4d5[i]);i++){if(_4d9(st)){_4da=true;break;}}if(!_4da){s.push(this.addViewDef({cells:_4d5}));}else{for(i=0;(st=_4d5[i]);i++){if(_4d8(st)){s.push(this.addViewDef({cells:st}));}else{if(_4d9(st)){s.push(this.addViewDef(st));}}}}}else{if(_4d9(_4d5)){s.push(this.addViewDef(_4d5));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});}if(!dojo._hasResource["dojox.grid._ViewManager"]){dojo._hasResource["dojox.grid._ViewManager"]=true;dojo.provide("dojox.grid._ViewManager");dojo.declare("dojox.grid._ViewManager",null,{constructor:function(_4db){this.grid=_4db;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_4dc){_4dc.idx=this.views.length;this.views.push(_4dc);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _4dd=[];for(var i=0,v;v=this.views[i];i++){_4dd.push(v.contentNode);}return _4dd;},forEach:function(_4de){for(var i=0,v;v=this.views[i];i++){_4de(v,i);}},onEach:function(_4df,_4e0){_4e0=_4e0||[];for(var i=0,v;v=this.views[i];i++){if(_4df in v){v[_4df].apply(v,_4e0);}}},normalizeHeaderNodeHeight:function(){var _4e1=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_4e1.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_4e1);},normalizeRowNodeHeights:function(_4e2){var h=0;var _4e3=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_4e2.length<=1){return;}for(var i=0,n;(n=_4e2[i]);i++){if(!dojo.hasClass(n,"dojoxGridNonNormalizedCell")){_4e3[i]=n.firstChild.offsetHeight;h=Math.max(h,_4e3[i]);}}h=(h>=0?h:0);if((dojo.isMoz||dojo.isIE>8)&&h){h++;}}for(i=0;(n=_4e2[i]);i++){if(_4e3[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_4e4){var _4e5=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_4e4));i++){n.firstChild.style.height="";_4e5.push(n);}this.normalizeRowNodeHeights(_4e5);},getViewWidth:function(_4e6){return this.views[_4e6].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_4e7){_4e7.headerContentNode.style.height="";});var h=0;this.forEach(function(_4e8){h=Math.max(_4e8.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_4e9){h=Math.max(_4e9.domNode.offsetHeight,h);});return h;},findClient:function(_4ea){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _4eb=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!dojo._isBodyLtr()){ds.right=l+"px";if(dojo.isFF<4){hs.right=l+v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}if(!dojo.isWebKit){hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_4eb(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_4eb(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_4eb(v,l);}return l;},renderRow:function(_4ec,_4ed,_4ee){var _4ef=[];for(var i=0,v,n,_4f0;(v=this.views[i])&&(n=_4ed[i]);i++){_4f0=v.renderRow(_4ec);n.appendChild(_4f0);_4ef.push(_4f0);}if(!_4ee){this.normalizeRowNodeHeights(_4ef);}},rowRemoved:function(_4f1){this.onEach("rowRemoved",[_4f1]);},updateRow:function(_4f2,_4f3){for(var i=0,v;v=this.views[i];i++){v.updateRow(_4f2);}if(!_4f3){this.renormalizeRow(_4f2);}},updateRowStyles:function(_4f4){this.onEach("updateRowStyles",[_4f4]);},setScrollTop:function(_4f5){var top=_4f5;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_4f5);if(dojo.isIE&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});}if(!dojo._hasResource["dojox.grid._RowManager"]){dojo._hasResource["dojox.grid._RowManager"]=true;dojo.provide("dojox.grid._RowManager");(function(){var _4f6=function(_4f7,_4f8){if(_4f7.style.cssText==undefined){_4f7.setAttribute("style",_4f8);}else{_4f7.style.cssText=_4f8;}};dojo.declare("dojox.grid._RowManager",null,{constructor:function(_4f9){this.grid=_4f9;},linesToEms:2,overRow:-2,prepareStylingRow:function(_4fa,_4fb){return {index:_4fa,node:_4fb,odd:Boolean(_4fa&1),selected:!!this.grid.selection.isSelected(_4fa),over:this.isOver(_4fa),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_4fc,_4fd){var row=this.prepareStylingRow(_4fc,_4fd);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_4fe){var i=_4fe;i.node.className=i.customClasses;var h=i.node.style.height;_4f6(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_4ff){this.grid.updateRowStyles(_4ff);},setOverRow:function(_500){var last=this.overRow;this.overRow=_500;if((last!=this.overRow)&&(dojo.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_501){return (this.overRow==_501&&!dojo.hasClass(this.grid.domNode,"dojoxGridColumnResizing"));}});})();}if(!dojo._hasResource["dojox.grid._FocusManager"]){dojo._hasResource["dojox.grid._FocusManager"]=true;dojo.provide("dojox.grid._FocusManager");dojo.declare("dojox.grid._FocusManager",null,{constructor:function(_502){this.grid=_502;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(dojo.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(dojo.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(dojo.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(dojo.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(dojo.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(dojo.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(dojo.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);dojo.forEach(this._headerConnects,dojo.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_503,_504){return (this.cell==_503)&&(this.rowIndex==_504);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return dojo.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_505){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_505);if(_505){var sl=this.scrollIntoView();try{if(!this.grid.edit.isEditing()){dojox.grid.util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid._focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){dojo.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}dojox.grid.util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();this.grid.domNode.focus();}},_initColumnHeaders:function(){dojo.forEach(this._headerConnects,dojo.disconnect);this._headerConnects=[];var _506=this._findHeaderCells();for(var i=0;i<_506.length;i++){this._headerConnects.push(dojo.connect(_506[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(dojo.connect(_506[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _507=dojo.query("th",this.grid.viewsHeaderNode);var _508=[];for(var i=0;i<_507.length;i++){var _509=_507[i];var _50a=dojo.hasAttr(_509,"tabIndex");var _50b=dojo.attr(_509,"tabIndex");if(_50a&&_50b<0){_508.push(_509);}}return _508;},_setActiveColHeader:function(_50c,_50d,_50e){dojo.attr(this.grid.domNode,"aria-activedescendant",_50c.id);if(_50e!=null&&_50e>=0&&_50e!=_50d){dojo.toggleClass(this._findHeaderCells()[_50e],this.focusClass,false);}dojo.toggleClass(_50c,this.focusClass,true);this._colHeadNode=_50c;this._colHeadFocusIdx=_50d;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_50f){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_50f?_50f:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_510){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_510);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _511=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_511){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(dojo.isIE<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _512=this.focusView;if(!_512){for(var i=0,_513;(_513=this.grid.views.views[i]);i++){if(_513.headerNode){_512=_513;break;}}}return (_512&&dojo.getComputedStyle(_512.headerNode).display=="none");},colSizeAdjust:function(e,_514,_515){var _516=this._findHeaderCells();var view=this.focusView;if(!view){for(var i=0,_517;(_517=this.grid.views.views[i]);i++){if(_517.header.tableMap.map){view=_517;break;}}}var _518=_516[_514];if(!view||(_514==_516.length-1&&_514===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_518;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _519={l:_515};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_519);view.update();}},styleRow:function(_51a){return;},setFocusIndex:function(_51b,_51c){this.setFocusCell(this.grid.getCell(_51c),_51b);},setFocusCell:function(_51d,_51e){if(_51d&&!this.isFocusCell(_51d,_51e)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_51d;this.rowIndex=_51e;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _51f=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_51f.editable||this.grid.canEdit&&!this.grid.canEdit(_51f,row))){this.cell=_51f;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _520=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_520.editable){this.cell=_520;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_521,_522){var _523=_522<0?-1:1;if(this.isNavHeader()){var _524=this._findHeaderCells();var _525=currentIdx=dojo.indexOf(_524,this._colHeadNode);currentIdx+=_522;while(currentIdx>=0&&currentIdx<_524.length&&_524[currentIdx].style.display=="none"){currentIdx+=_523;}if((currentIdx>=0)&&(currentIdx<_524.length)){this._setActiveColHeader(_524[currentIdx],currentIdx,_525);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_521));if(_521){if(_521>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_521<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_522));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_523;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_521){if((row+_521)>=0&&(row+_521)<=rc){this.move(_521>0?++_521:--_521,_522);}return;}else{if((!n||dojo.style(n,"display")==="none")&&_522){if((col+_522)>=0&&(col+_522)<=cc){this.move(_521,_522>0?++_522:--_522);}return;}}this.setFocusIndex(row,col);if(_521){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();dojo.stopEvent(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){dojo.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _526=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();dojo.stopEvent(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_527){this.tabbingOut=true;_527.focus();},focusGridView:function(){dojox.grid.util.fire(this.focusView,"focus");},focusGrid:function(_528){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _529=true;var _52a=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_52a){var _52b=0;var cell=this.grid.getCell(_52b);if(cell.hidden){_52b=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_52b);}else{if(this.cell&&!_52a){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_529=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _529;},focusHeader:function(){var _52c=this._findHeaderCells();var _52d=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_52c[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_52c.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_52c[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_52d);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){dojo.removeClass(this._colHeadNode,this.focusClass);dojo.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _52e=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_52e);this._contextMenuBindNode=_52e;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){dojo.stopEvent(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;dojo.stopEvent(e);},doBlur:function(e){dojo.stopEvent(e);},doContextMenu:function(e){if(!this.headerMenu){dojo.stopEvent(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;dojo.stopEvent(e);},doLastNodeBlur:function(e){dojo.stopEvent(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,dojo.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());dojo.stopEvent(e);},doColHeaderBlur:function(e){dojo.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});}if(!dojo._hasResource["dojox.grid._EditManager"]){dojo._hasResource["dojox.grid._EditManager"]=true;dojo.provide("dojox.grid._EditManager");dojo.declare("dojox.grid._EditManager",null,{constructor:function(_52f){this.grid=_52f;if(dojo.isIE){this.connections=[dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus"))];}else{this.connections=[dojo.connect(this.grid,"onBlur",this,"apply")];}},info:{},destroy:function(){dojo.forEach(this.connections,dojo.disconnect);},cellFocus:function(_530,_531){if(this.grid.singleClickEdit||this.isEditRow(_531)){this.setEditCell(_530,_531);}else{this.apply();}if(this.isEditing()||(_530&&_530.editable&&_530.alwaysEditing)){this._focusEditor(_530,_531);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_532){if(_532.index==this.info.rowIndex){_532.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_533,_534){return (this.info.rowIndex===_533)&&(this.info.cell.index==_534);},isEditRow:function(_535){return this.info.rowIndex===_535;},setEditCell:function(_536,_537){if(!this.isEditCell(_537,_536.index)&&this.grid.canEdit&&this.grid.canEdit(_536,_537)){this.start(_536,_537,this.isEditRow(_537)||_536.editable);}},_focusEditor:function(_538,_539){dojox.grid.util.fire(_538,"focus",[_539]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_53a,_53b,_53c){if(!this._isValidInput()){return;}if(dojo.isIE&&this.grid._autoHeight){this._avoidUpdate();}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_53b)){this.applyRowEdit();this.grid.updateRow(_53b);}if(_53c){this.info={cell:_53a,rowIndex:_53b};this.grid.doStartEdit(_53a,_53b);this.grid.updateRow(_53b);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_53a,_53b);this._doCatchBoomerang();},_editorDo:function(_53d){var c=this.info.cell;if(c&&c.editable){c[_53d](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_53e,_53f,_540){if(this.grid.canEdit(_53f,_540)){this.grid.doApplyCellEdit(_53e,_540,_53f.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_541,_542){var c=this.info.cell;if(this.isEditRow(_541)&&(!_542||c.view==_542)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_543,_544){var c=this.info.cell;if(this.isEditRow(_544)&&c.view==_543&&c.editable){c.restore(c,this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);},_avoidUpdate:function(){var self=this;self._noUpdate=true;if(self._avoidUpdateHandler){clearTimeout(self._avoidUpdateHandler);}self._avoidUpdateHandler=setTimeout(function(){self._noUpdate=false;},100);}});}if(!dojo._hasResource["dojox.grid.Selection"]){dojo._hasResource["dojox.grid.Selection"]=true;dojo.provide("dojox.grid.Selection");dojo.declare("dojox.grid.Selection",null,{constructor:function(_545){this.grid=_545;this.selected=[];this.setMode(_545.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_546){return this.grid.onCanSelect(_546);},onCanDeselect:function(_547){return this.grid.onCanDeselect(_547);},onSelected:function(_548){},onDeselected:function(_549){},onChanging:function(){},onChanged:function(){},isSelected:function(_54a){if(this.mode=="none"){return false;}return this.selected[_54a];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_54b){if(this.mode=="none"){return -1;}for(var i=_54b+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _54c=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_54c.push(i);}}return _54c;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_54d){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_54d);this.addToSelection(_54d);}else{this.toggleSelect(_54d);}},addToSelection:function(_54e){if(this.mode=="none"){return;}if(dojo.isArray(_54e)){dojo.forEach(_54e,this.addToSelection,this);return;}_54e=Number(_54e);if(this.selected[_54e]){this.selectedIndex=_54e;}else{if(this.onCanSelect(_54e)!==false){this.selectedIndex=_54e;var _54f=this.grid.getRowNode(_54e);if(_54f){dojo.attr(_54f,"aria-selected","true");}this._beginUpdate();this.selected[_54e]=true;this.onSelected(_54e);this._endUpdate();}}},deselect:function(_550){if(this.mode=="none"){return;}if(dojo.isArray(_550)){dojo.forEach(_550,this.deselect,this);return;}_550=Number(_550);if(this.selectedIndex==_550){this.selectedIndex=-1;}if(this.selected[_550]){if(this.onCanDeselect(_550)===false){return;}var _551=this.grid.getRowNode(_550);if(_551){dojo.attr(_551,"aria-selected","false");}this._beginUpdate();delete this.selected[_550];this.onDeselected(_550);this._endUpdate();}},setSelected:function(_552,_553){this[(_553?"addToSelection":"deselect")](_552);},toggleSelect:function(_554){if(dojo.isArray(_554)){dojo.forEach(_554,this.toggleSelect,this);return;}this.setSelected(_554,!this.selected[_554]);},_range:function(_555,inTo,func){var s=(_555>=0?_555:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_556,inTo){this._range(_556,inTo,dojo.hitch(this,"addToSelection"));},deselectRange:function(_557,inTo){this._range(_557,inTo,dojo.hitch(this,"deselect"));},insert:function(_558){this.selected.splice(_558,0,false);if(this.selectedIndex>=_558){this.selectedIndex++;}},remove:function(_559){this.selected.splice(_559,1);if(this.selectedIndex>=_559){this.selectedIndex--;}},deselectAll:function(_55a){for(var i in this.selected){if((i!=_55a)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_55b,_55c,_55d){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_55b);}else{if(!_55d||this.rangeStartIndex<0){this.rangeStartIndex=_55b;}if(!_55c){this.deselectAll(_55b);}if(_55d){this.selectRange(this.rangeStartIndex,_55b);}else{if(_55c){this.toggleSelect(_55b);}else{this.addToSelection(_55b);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});}if(!dojo._hasResource["dojox.grid._Events"]){dojo._hasResource["dojox.grid._Events"]=true;dojo.provide("dojox.grid._Events");dojo.declare("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_55e){var i=_55e;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_55e);this.edit.styleRow(_55e);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var dk=dojo.keys;var _55f;switch(e.keyCode){case dk.ESCAPE:this.edit.cancel();break;case dk.ENTER:if(!this.edit.isEditing()){_55f=this.focus.getHeaderIndex();if(_55f>=0){this.setSortIndex(_55f);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}dojo.stopEvent(e);}if(!e.shiftKey){var _560=this.edit.isEditing();this.edit.apply();if(!_560){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _561=this.focus.focusView||this.views.views[0];_561.content.decorateEvent(e);this.onRowClick(e);dojo.stopEvent(e);}break;case dk.SPACE:if(!this.edit.isEditing()){_55f=this.focus.getHeaderIndex();if(_55f>=0){this.setSortIndex(_55f);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}dojo.stopEvent(e);}break;case dk.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dk.LEFT_ARROW:case dk.RIGHT_ARROW:if(!this.edit.isEditing()){var _562=e.keyCode;dojo.stopEvent(e);_55f=this.focus.getHeaderIndex();if(_55f>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_55f,(_562==dk.LEFT_ARROW?-1:1)*5);}else{var _563=(_562==dk.LEFT_ARROW)?1:-1;if(dojo._isBodyLtr()){_563*=-1;}this.focus.move(0,_563);}}break;case dk.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){dojo.stopEvent(e);this.focus.move(-1,0);}break;case dk.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);this.focus.move(1,0);}break;case dk.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case dk.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var _564;if(this._click.length>1&&dojo.isIE){_564=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){_564=this._click[0];}else{_564=e;}}this.focus.setFocusCell(_564.cell,_564.rowIndex);this.edit.setEditCell(_564.cell,_564.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_565,_566){this.edit.cellFocus(_565,_566);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){dojo.stopEvent(e);}},onStartEdit:function(_567,_568){},onApplyCellEdit:function(_569,_56a,_56b){},onCancelEdit:function(_56c){},onApplyEdit:function(_56d){},onCanSelect:function(_56e){return true;},onCanDeselect:function(_56f){return true;},onSelected:function(_570){this.updateRowStyles(_570);},onDeselected:function(_571){this.updateRowStyles(_571);},onSelectionChanged:function(){}});}if(!dojo._hasResource["dojox.grid._Grid"]){dojo._hasResource["dojox.grid._Grid"]=true;dojo.provide("dojox.grid._Grid");(function(){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}dojo.declare("dojox.grid._Grid",[dijit._Widget,dijit._Templated,dojox.grid._Events],{templateString:"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n",classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,sortInfo:0,themeable:true,_placeholders:null,_layoutClass:dojox.grid._Layout,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");dojox.html.metrics.initOnFontResize();this.connect(dojox.html.metrics,"onFontResize","textSizeChanged");dojox.grid.util.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.util.keyEvents);if(this.selectionMode!="none"){dojo.attr(this.domNode,"aria-multiselectable",this.selectionMode=="single"?"false":"true");}dojo.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){dojo.addClass(this.domNode,this.classTag+"Rtl");}},postMixInProperties:function(){this.inherited(arguments);var _572=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_572);this.errorMessage=dojo.string.substitute(this.errorMessage,_572);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){dojo.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_573){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_573){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new dojox.grid._RowManager(this);this.focus=new dojox.grid._FocusManager(this);this.edit=new dojox.grid._EditManager(this);},createSelection:function(){this.selection=new dojox.grid.Selection(this);},createScroller:function(){this.scroller=new dojox.grid._Scroller();this.scroller.grid=this;this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.render();},onResizeColumn:function(_574){},createViews:function(){this.views=new dojox.grid._ViewManager(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_575,idx){var c=dojo.getObject(_575);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);dojo.attr(this.domNode,"align",dojo._isBodyLtr()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_576){var s=_576;if(s&&dojo.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=dojo.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_577){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_577);},getColumnTogglingItems:function(){var _578,_579=[];_578=dojo.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new dijit.CheckedMenuItem({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_57a){if(self.layout.setColumnVisibility(this._gridCell.index,_57a)){var _57b=this._gridCell.menuItems;if(_57b.length>1){dojo.forEach(_57b,function(item){if(item!==this){item.setAttribute("checked",_57a);}},this);}_57a=dojo.filter(self.layout.cells,function(c){if(c.menuItems.length>1){dojo.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_57a.length==1){dojo.forEach(_57a[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var _57c=dojo.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_57c,1);delete this._gridCell;dijit.CheckedMenuItem.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_579.push(item);}return item;},this);if(_579.length==1){_579[0].set("disabled",true);}return _578;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_57d){this.setScrollTop(0);},getItem:function(_57e){return null;},showMessage:function(_57f){if(_57f){this.messagesNode.innerHTML=_57f;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_580,_581){this._pendingChangeSize=_580;this._pendingResultSize=_581;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||dojo._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_582,_583){_582=_582||this._pendingChangeSize;_583=_583||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _584=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_584.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_583){_582=_583;}if(!this._autoHeight&&_582){dojo.marginBox(this.domNode,_582);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=this._parentContentBoxHeight||dojo._getContentBox(pn).h;this.domNode.style.height=Math.max(0,h)+"px";}}var _585=dojo.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||dojo._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_585&&hh===undefined){hh=this._getHeaderHeight();}}if(_585){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _586=(!this.initialWidth&&this.autoWidth);var w=_586?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_586){this.domNode.style.width=vw+"px";}},adaptHeight:function(_587){var t=_587===undefined?this._getHeaderHeight():_587;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _588=0,_589=0;var _58a=dojo.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_588++;}else{_589++;}return (!has);});if(_588>0&&_589>0){dojo.forEach(_58a,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();dojo.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_58b,_58c){this.views.renderRow(_58b,_58c,this._skipRowRenormalize);},rowRemoved:function(_58d){this.views.rowRemoved(_58d);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode||this.edit._noUpdate){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_58e){_58e=Number(_58e);if(this.updating){this.invalidated[_58e]=true;}else{this.views.updateRow(_58e);this.scroller.rowHeightChanged(_58e);}},updateRows:function(_58f,_590){_58f=Number(_58f);_590=Number(_590);var i;if(this.updating){for(i=0;i<_590;i++){this.invalidated[i+_58f]=true;}}else{for(i=0;i<_590;i++){this.views.updateRow(i+_58f,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_58f);}},updateRowCount:function(_591){if(this.updating){this.invalidated.rowCount=_591;}else{this.rowCount=_591;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_591);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_592){this.views.updateRowStyles(_592);},getRowNode:function(_593){if(this.focus.focusView&&!(this.focus.focusView instanceof dojox.grid._RowSelector)){return this.focus.focusView.rowNodes[_593];}else{for(var i=0,_594;(_594=this.views.views[i]);i++){if(!(_594 instanceof dojox.grid._RowSelector)){return _594.rowNodes[_593];}}}return null;},rowHeightChanged:function(_595){this.views.renormalizeRow(_595);this.scroller.rowHeightChanged(_595);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_596){if(!this.fastScroll){this.setScrollTop(_596);return;}var _597=Math.abs(this.lastScrollTop-_596);this.lastScrollTop=_596;if(_597>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_596;this.views.setScrollTop(_596);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _598=this;this._pendingScroll=window.setTimeout(function(){delete _598._pendingScroll;_598.finishScrollJob();},200);}else{this.setScrollTop(_596);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_599){this.scroller.scroll(this.views.setScrollTop(_599));},scrollToRow:function(_59a){this.setScrollTop(this.scroller.findScrollTop(_59a)+1);},styleRowNode:function(_59b,_59c){if(_59c){this.rows.styleRowNode(_59b,_59c);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_59d){return this.layout.cells[_59d];},setCellWidth:function(_59e,_59f){this.getCell(_59e).unitWidth=_59f;},getCellName:function(_5a0){return "Cell "+_5a0.index;},canSort:function(_5a1){},sort:function(){},getSortAsc:function(_5a2){_5a2=_5a2==undefined?this.sortInfo:_5a2;return Boolean(_5a2>0);},getSortIndex:function(_5a3){_5a3=_5a3==undefined?this.sortInfo:_5a3;return Math.abs(_5a3)-1;},setSortIndex:function(_5a4,_5a5){var si=_5a4+1;if(_5a5!=undefined){si*=(_5a5?1:-1);}else{if(this.getSortIndex()==_5a4){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_5a6){if(this.canSort(_5a6)){this.sortInfo=_5a6;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_5a7,_5a8){this.onStartEdit(_5a7,_5a8);},doApplyCellEdit:function(_5a9,_5aa,_5ab){this.onApplyCellEdit(_5a9,_5aa,_5ab);},doCancelEdit:function(_5ac){this.onCancelEdit(_5ac);},doApplyEdit:function(_5ad){this.onApplyEdit(_5ad);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});dojox.grid._Grid.markupFactory=function(_5ae,node,ctor,_5af){var d=dojo;var _5b0=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_5ae.structure&&node.nodeName.toLowerCase()=="table"){_5ae.structure=d.query("> colgroup",node).map(function(cg){var sv=d.attr(cg,"span");var v={noscroll:(d.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(d.hasAttr(cg,"width")){v.width=_5b0(cg);}return v;});if(!_5ae.structure.length){_5ae.structure.push({__span:Infinity,cells:[]});}d.query("thead > tr",node).forEach(function(tr,_5b1){var _5b2=0;var _5b3=0;var _5b4;var _5b5=null;d.query("> th",tr).map(function(th){if(!_5b5){_5b4=0;_5b5=_5ae.structure[0];}else{if(_5b2>=(_5b4+_5b5.__span)){_5b3++;_5b4+=_5b5.__span;var _5b6=_5b5;_5b5=_5ae.structure[_5b3];}}var cell={name:d.trim(d.attr(th,"name")||th.innerHTML),colSpan:parseInt(d.attr(th,"colspan")||1,10),type:d.trim(d.attr(th,"cellType")||""),id:d.trim(d.attr(th,"id")||"")};_5b2+=cell.colSpan;var _5b7=d.attr(th,"rowspan");if(_5b7){cell.rowSpan=_5b7;}if(d.hasAttr(th,"width")){cell.width=_5b0(th);}if(d.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(dojo.attr(th,"relWidth"),10);}if(d.hasAttr(th,"hidden")){cell.hidden=(d.attr(th,"hidden")=="true"||d.attr(th,"hidden")===true);}if(_5af){_5af(th,cell);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_5b5.cells[_5b1]){_5b5.cells[_5b1]=[];}_5b5.cells[_5b1].push(cell);});});}return new ctor(_5ae,node);};})();}if(!dojo._hasResource["dojox.grid.DataSelection"]){dojo._hasResource["dojox.grid.DataSelection"]=true;dojo.provide("dojox.grid.DataSelection");dojo.declare("dojox.grid.DataSelection",dojox.grid.Selection,{getFirstSelected:function(){var idx=dojox.grid.Selection.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_5b8){var _5b9=this.grid.getItemIndex(_5b8);var idx=dojox.grid.Selection.prototype.getNextSelected.call(this,_5b9);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _5ba=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_5ba.push(this.grid.getItem(i));}}return _5ba;},addToSelection:function(_5bb){if(this.mode=="none"){return;}var idx=null;if(typeof _5bb=="number"||typeof _5bb=="string"){idx=_5bb;}else{idx=this.grid.getItemIndex(_5bb);}dojox.grid.Selection.prototype.addToSelection.call(this,idx);},deselect:function(_5bc){if(this.mode=="none"){return;}var idx=null;if(typeof _5bc=="number"||typeof _5bc=="string"){idx=_5bc;}else{idx=this.grid.getItemIndex(_5bc);}dojox.grid.Selection.prototype.deselect.call(this,idx);},deselectAll:function(_5bd){var idx=null;if(_5bd||typeof _5bd=="number"){if(typeof _5bd=="number"||typeof _5bd=="string"){idx=_5bd;}else{idx=this.grid.getItemIndex(_5bd);}dojox.grid.Selection.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});}if(!dojo._hasResource["dojox.grid.DataGrid"]){dojo._hasResource["dojox.grid.DataGrid"]=true;dojo.provide("dojox.grid.DataGrid");dojo.declare("dojox.grid.DataGrid",dojox.grid._Grid,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},createSelection:function(){this.selection=new dojox.grid.DataSelection(this);},get:function(_5be,_5bf){if(_5bf&&this.field=="_item"&&!this.fields){return _5bf;}else{if(_5bf&&this.fields){var ret=[];var s=this.grid.store;dojo.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_5bf,f));});return ret;}else{if(!_5bf&&typeof _5be==="string"){return this.inherited(arguments);}}}return (!_5bf?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_5bf:this.grid.store.getValue(_5bf,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _5c0=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_5c0=true;}if(!this.updating){this.beginUpdate();_5c0=true;}if(_5c0){var _5c1=this;this._endUpdateDelay=setTimeout(function(){delete _5c1._endUpdateDelay;_5c1.endUpdate();},this.updateDelay);}}},_onSet:function(item,_5c2,_5c3,_5c4){this._checkUpdateStatus();var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_createItem:function(item,_5c5){var idty=this._hasIdentity?this.store.getIdentity(item):dojo.toJson(this.query)+":idx:"+_5c5+":sort:"+dojo.toJson(this.getSortProps());var o=this._by_idty[idty]={idty:idty,item:item};return o;},_addItem:function(item,_5c6,_5c7){this._by_idx[_5c6]=this._createItem(item,_5c6);if(!_5c7){this.updateRow(_5c6);}},_onNew:function(item,_5c8){this._checkUpdateStatus();var _5c9=this.get("rowCount");this._addingItem=true;this.updateRowCount(_5c9+1);this._addingItem=false;this._addItem(item,_5c9);this.showMessage();},_onDelete:function(item){this._checkUpdateStatus();var idx=this._getItemIndex(item,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}},_onRevert:function(){this._refresh();},setStore:function(_5ca,_5cb,_5cc){this._setQuery(_5cb,_5cc);this._setStore(_5ca);this._refresh(true);},setQuery:function(_5cd,_5ce){this._setQuery(_5cd,_5ce);this._refresh(true);},setItems:function(_5cf){this.items=_5cf;this._setStore(this.store);this._refresh(true);},_setQuery:function(_5d0,_5d1){this.query=_5d0;this.queryOptions=_5d1||this.queryOptions;},_setStore:function(_5d2){if(this.store&&this._store_connects){dojo.forEach(this._store_connects,this.disconnect,this);}this.store=_5d2;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(!this.scroller){return;}if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(size);}}if(!size){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_5d3,req){if(!this.scroller){return;}if(_5d3&&_5d3.length>0){dojo.forEach(_5d3,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_5d3.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){console.log(err);delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_5d4,_5d5){_5d4=_5d4||0;if(this.store&&!this._pending_requests[_5d4]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_5d4]=true;try{if(this.items){var _5d6=this.items;var _5d7=this.store;this.rowsPerPage=_5d6.length;var req={start:_5d4,count:this.rowsPerPage,isRender:_5d5};this._onFetchBegin(_5d6.length,req);var _5d8=0;dojo.forEach(_5d6,function(i){if(!_5d7.isItemLoaded(i)){_5d8++;}});if(_5d8===0){this._onFetchComplete(_5d6,req);}else{var _5d9=function(item){_5d8--;if(_5d8===0){this._onFetchComplete(_5d6,req);}};dojo.forEach(_5d6,function(i){if(!_5d7.isItemLoaded(i)){_5d7.loadItem({item:i,onItem:_5d9,scope:this});}},this);}}else{this.store.fetch({start:_5d4,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_5d5,onBegin:dojo.hitch(this,"_onFetchBegin"),onComplete:dojo.hitch(this,"_onFetchComplete"),onError:dojo.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_5d4,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_5da){if(!_5da&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_5db,_5dc){this.query=_5db;if(_5dc){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_5dd){return this._pending_requests[_5dd];},_rowToPage:function(_5de){return (this.rowsPerPage?Math.floor(_5de/this.rowsPerPage):_5de);},_pageToRow:function(_5df){return (this.rowsPerPage?this.rowsPerPage*_5df:_5df);},_preparePage:function(_5e0){if((_5e0<this._bop||_5e0>=this._eop)&&!this._addingItem){var _5e1=this._rowToPage(_5e0);this._needPage(_5e1);this._bop=_5e1*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_5e2){if(!this._pages[_5e2]){this._pages[_5e2]=true;this._requestPage(_5e2);}},_requestPage:function(_5e3){var row=this._pageToRow(_5e3);var _5e4=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_5e4>0){this._requests++;if(!this._requestsPending(row)){setTimeout(dojo.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_5e5){return _5e5.field;},_refresh:function(_5e6){this._clearData();this._fetch(0,_5e6);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_5e7){if(this.store&&this.store.getState){var _5e8=this.store.getState(_5e7.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_5e8[s]){c=" dojoxGridRow-"+s;break;}}_5e7.customClasses+=c;}},onStyleRow:function(_5e9){this.styleRowState(_5e9);this.inherited(arguments);},canEdit:function(_5ea,_5eb){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _5ec={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_5ed,_5ee){if(!this._cache[_5ee]){this._cache[_5ee]=this._copyAttr(_5ee,_5ed.field);}this.onStartEdit(_5ed,_5ee);},doApplyCellEdit:function(_5ef,_5f0,_5f1){this.store.fetchItemByIdentity({identity:this._by_idx[_5f0].idty,onItem:dojo.hitch(this,function(item){var _5f2=this.store.getValue(item,_5f1);if(typeof _5f2=="number"){_5ef=isNaN(_5ef)?_5ef:parseFloat(_5ef);}else{if(typeof _5f2=="boolean"){_5ef=_5ef=="true"?true:_5ef=="false"?false:_5ef;}else{if(_5f2 instanceof Date){var _5f3=new Date(_5ef);_5ef=isNaN(_5f3.getTime())?_5ef:_5f3;}}}this.store.setValue(item,_5f1,_5ef);this.onApplyCellEdit(_5ef,_5f0,_5f1);})});},doCancelEdit:function(_5f4){var _5f5=this._cache[_5f4];if(_5f5){this.updateRow(_5f4);delete this._cache[_5f4];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_5f6,_5f7){var _5f8=this._cache[_5f6];this.onApplyEdit(_5f6);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=dojo.hitch(this,function(_5f9){if(_5f9.length){dojo.forEach(_5f9,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});dojox.grid.DataGrid.cell_markupFactory=function(_5fa,node,_5fb){var _5fc=dojo.trim(dojo.attr(node,"field")||"");if(_5fc){_5fb.field=_5fc;}_5fb.field=_5fb.field||_5fb.name;var _5fd=dojo.trim(dojo.attr(node,"fields")||"");if(_5fd){_5fb.fields=_5fd.split(",");}if(_5fa){_5fa(node,_5fb);}};dojox.grid.DataGrid.markupFactory=function(_5fe,node,ctor,_5ff){return dojox.grid._Grid.markupFactory(_5fe,node,ctor,dojo.partial(dojox.grid.DataGrid.cell_markupFactory,_5ff));};}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_600,node){return new dojo.dnd.move.constrainedMoveable(node,_600);},constructor:function(node,_601){if(!_601){_601={};}this.constraints=_601.constraints;this.within=_601.within;},onFirstMove:function(_602){var c=this.constraintBox=this.constraints.call(this,_602);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo._getMarginSize(_602.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_603,_604){var c=this.constraintBox,s=_603.node.style;this.onMoving(_603,_604);_604.l=_604.l<c.l?c.l:c.r<_604.l?c.r:_604.l;_604.t=_604.t<c.t?c.t:c.b<_604.t?c.b:_604.t;s.left=_604.l+"px";s.top=_604.t+"px";this.onMoved(_603,_604);}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_605,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_605);},constructor:function(node,_606){var box=_606&&_606.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_607,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_607);},constructor:function(node,_608){var area=_608&&_608.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _609=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_60a){if(!_60a){_60a={};}if(_60a.timeout&&typeof _60a.timeout=="number"&&_60a.timeout>=0){this.timeout=_60a.timeout;}},markupFactory:function(_60b,node){return new dojo.dnd.TimedMoveable(node,_60b);},onMoveStop:function(_60c){if(_60c._timer){clearTimeout(_60c._timer);_609.call(this,_60c,_60c._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_60d,_60e){_60d._leftTop=_60e;if(!_60d._timer){var _60f=this;_60d._timer=setTimeout(function(){_60d._timer=null;_609.call(_60f,_60d,_60d._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _610=this;dojo.mixin(_610,args);_610.node=args.node;_610._showArgs=dojo.mixin({},args);_610._showArgs.node=_610.node;_610._showArgs.duration=_610.showDuration;_610.showAnim=_610.showFunc(_610._showArgs);_610._hideArgs=dojo.mixin({},args);_610._hideArgs.node=_610.node;_610._hideArgs.duration=_610.hideDuration;_610.hideAnim=_610.hideFunc(_610._hideArgs);dojo.connect(_610.showAnim,"beforeBegin",dojo.hitch(_610.hideAnim,"stop",true));dojo.connect(_610.hideAnim,"beforeBegin",dojo.hitch(_610.showAnim,"stop",true));},show:function(_611){return this.showAnim.play(_611||0);},hide:function(_612){return this.hideAnim.play(_612||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_613={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _614=function(_615){this._index=-1;this._animations=_615||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_614,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_616,_617){if(!this._current){this._current=this._animations[this._index=0];}if(!_617&&this._current.status()=="playing"){return this;}var _618=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_619=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_61a=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_618);d.disconnect(_619);d.disconnect(_61a);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_61b,_61c){this.pause();var _61d=this.duration*_61b;this._current=null;d.some(this._animations,function(a){if(a.duration<=_61d){this._current=a;return true;}_61d-=a.duration;return false;});if(this._current){this._current.gotoPercent(_61d/this._current.duration,_61c);}return this;},stop:function(_61e){if(this._current){if(_61e){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_614,_613);dojo.fx.chain=function(_61f){return new _614(_61f);};var _620=function(_621){this._animations=_621||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_621,function(a){var _622=a.duration;if(a.delay){_622+=a.delay;}if(this.duration<_622){this.duration=_622;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_620,{_doAction:function(_623,args){d.forEach(this._animations,function(a){a[_623].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_624,args){var t=this._pseudoAnimation;t[_624].apply(t,args);},play:function(_625,_626){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_627,_628){var ms=this.duration*_627;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_628);});this._call("gotoPercent",arguments);return this;},stop:function(_629){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_620,_613);dojo.fx.combine=function(_62a){return new _620(_62a);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _62b=d.style(node,"height");return Math.max(_62b,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{state:"",reset:function(){dojo.forEach(this.getDescendants(),function(_62c){if(_62c.reset){_62c.reset();}});},validate:function(){var _62d=false;return dojo.every(dojo.map(this.getDescendants(),function(_62e){_62e._hasBeenBlurred=true;var _62f=_62e.disabled||!_62e.validate||_62e.validate();if(!_62f&&!_62d){dojo.window.scrollIntoView(_62e.containerNode||_62e.domNode);_62e.focus();_62d=true;}return _62f;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_630){if(!_630.name){return;}var _631=map[_630.name]||(map[_630.name]=[]);_631.push(_630);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _632=map[name],_633=dojo.getObject(name,false,obj);if(_633===undefined){continue;}if(!dojo.isArray(_633)){_633=[_633];}if(typeof _632[0].checked=="boolean"){dojo.forEach(_632,function(w,i){w.set("value",dojo.indexOf(_633,w.value)!=-1);});}else{if(_632[0].multiple){_632[0].set("value",_633);}else{dojo.forEach(_632,function(w,i){w.set("value",_633[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_634){var name=_634.name;if(!name||_634.disabled){return;}var _635=_634.get("value");if(typeof _634.checked=="boolean"){if(/Radio/.test(_634.declaredClass)){if(_635!==false){dojo.setObject(name,_635,obj);}else{_635=dojo.getObject(name,false,obj);if(_635===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_635!==false){ary.push(_635);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_635);}else{dojo.setObject(name,[prev,_635],obj);}}else{dojo.setObject(name,_635,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(_636){},_getState:function(){var _637=dojo.map(this._descendants,function(w){return w.get("state")||"";});return dojo.indexOf(_637,"Error")>=0?"Error":dojo.indexOf(_637,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){dojo.forEach(this._childConnections||[],dojo.hitch(this,"disconnect"));dojo.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function(_638){var _639=this;this.disconnectChildren();this._descendants=this.getDescendants();var set=_638?function(name,val){_639[name]=val;}:dojo.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _63a=(this._childConnections=[]),_63b=(this._childWatches=[]);dojo.forEach(dojo.filter(this._descendants,function(item){return item.validate;}),function(_63c){dojo.forEach(["state","disabled"],function(attr){_63b.push(_63c.watch(attr,function(attr,_63d,_63e){_639.set("state",_639._getState());}));});});var _63f=function(){if(_639._onChangeDelayTimer){clearTimeout(_639._onChangeDelayTimer);}_639._onChangeDelayTimer=setTimeout(function(){delete _639._onChangeDelayTimer;_639._set("value",_639.get("value"));},10);};dojo.forEach(dojo.filter(this._descendants,function(item){return item.onChange;}),function(_640){_63a.push(_639.connect(_640,"onChange",_63f));_63b.push(_640.watch("disabled",_63f));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(attr,_641,_642){this.onValidStateChange(_642=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_643){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _644=dijit._getTabNavigable(this.containerNode);this._firstFocusItem=_644.lowest||_644.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_644.last||_644.highest||this._firstFocusItem;}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){dojo.attr(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_645){this.node.className="dijitDialogUnderlay "+_645;this._set("class",_645);},postCreate:function(){dojo.body().appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _646=dojo.window.getBox();os.top=_646.t+"px";os.left=_646.l+"px";is.width=_646.w+"px";is.height=_646.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new dijit.BackgroundIframe(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});}if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;dojo.provide("dijit.layout._ContentPaneResizeMixin");dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){dojo.forEach(this.getChildren(),function(_647){_647.startup();_647._started=true;});},startup:function(){if(this._started){return;}var _648=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_648&&_648.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _649=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_64a=_649.filter(function(node){return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_64b=dojo.filter(_64a.map(dijit.byNode),function(_64c){return _64c&&_64c.domNode&&_64c.resize;});if(_649.length==_64a.length&&_64b.length==1){this._singleChild=_64b[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_64d,_64e){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_64d,_64e);},_scheduleLayout:function(_64f,_650){if(this._isShown()){this._layout(_64f,_650);}else{this._needLayout=true;this._changeSize=_64f;this._resultSize=_650;}},_layout:function(_651,_652){if(_651){dojo.marginBox(this.domNode,_651);}var cn=this.containerNode;if(cn===this.domNode){var mb=_652||{};dojo.mixin(mb,_651||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_653){if(_653.resize){_653.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_654=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_654&&_654.style&&(_654.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");dojo.getObject("html",true,dojo);(function(){var _655=0,d=dojo;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _656=cont.length,i=0;i<cont.length;i=_656==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_657,node){dojo.mixin(this,_657||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_655++].join("_");}},set:function(cont,_658){if(undefined!==cont){this.content=cont;}if(_658){this._mixin(_658);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _659=this.onContentError(e);try{node.innerHTML=_659;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _65a=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_65a){cont=_65a[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_65b){var _65c={},key;for(key in _65b){if(key in _65c){continue;}this[key]=_65b[key];}},_parse:function(){var _65d=this.node;try{var _65e={};dojo.forEach(["dir","lang","textDir"],function(name){if(this[name]){_65e[name]=this[name];}},this);this.parseResults=dojo.parser.parse({rootNode:_65d,noStart:!this.startup,inherited:_65e,scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_65f){var _660=this["on"+type+"Error"].call(this,err);if(_65f){console.error(_65f,err);}else{if(_660){dojo.html._setNodeContent(this.node,_660,true);}}}});dojo.html.set=function(node,cont,_661){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_661){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_661,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_662,_663){if((!_662||!_662.template)&&_663&&!("href" in _662)&&!("content" in _662)){var df=dojo.doc.createDocumentFragment();_663=dojo.byId(_663);while(_663.firstChild){df.appendChild(_663.firstChild);}_662=dojo.delegate(_662,{content:df});}this.inherited(arguments,[_662,_663]);},postMixInProperties:function(){this.inherited(arguments);var _664=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_664);this.errorMessage=dojo.string.substitute(this.errorMessage,_664);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}},_startChildren:function(){this.inherited(arguments);if(this._contentSetter){dojo.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_665){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _666={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_666,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_666));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _667=this._contentSetter;dojo.forEach(this.getChildren(),function(_668){if(_668.destroyRecursive){_668.destroyRecursive();}});if(_667){dojo.forEach(_667.parseResults,function(_669){if(_669.destroyRecursive&&_669.domNode&&_669.domNode.parentNode==dojo.body()){_669.destroyRecursive();}});delete _667.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(cont,_66a){this.destroyDescendants();var _66b=this._contentSetter;if(!(_66b&&_66b instanceof dojo.html._ContentSetter)){_66b=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _66c=this.onContentError(e);try{this.containerNode.innerHTML=_66c;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _66d=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_66b.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_66d);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_66a){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function(type,err,_66e){this.onLoadDeferred.errback(err);var _66f=this["on"+type+"Error"].call(this,err);if(_66e){console.error(_66e,err);}else{if(_66f){this._setContent(_66f,true);}}},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_670){},onDownloadError:function(_671){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function(_672){this.containerNode.title=_672;this._set("title",_672);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_673,_674){var newC="dijitTooltipAB"+(_674.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_674.charAt(0)=="T"?"Below":"Above");dojo.replaceClass(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _675=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(dojo.hitch(this,"onCancel"),0);dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_675){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_675){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit._DialogBase",[dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"),baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){var _676=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_676);this.inherited(arguments);},postCreate:function(){dojo.style(this.domNode,{display:"none",position:"absolute"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){this._relativePosition=dojo.position(e.node);}},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});this._dndListener=dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{dojo.style(this.containerNode,{width:"auto",height:"auto"});}var mb=dojo._getMarginSize(this.domNode);var _677=dojo.window.getBox();if(mb.w>=_677.w||mb.h>=_677.h){var w=Math.min(mb.w,Math.floor(_677.w*0.75)),h=Math.min(mb.h,Math.floor(_677.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{dojo.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode,_678=dojo.window.getBox(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_678.l+(p?p.x:(_678.w-bb.w)/2)),t=Math.floor(_678.t+(p?p.y:(_678.h-bb.h)/2));dojo.style(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _679=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_679){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_679){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode||dojo.hasClass(node,"dijitPopup")){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _67a=dojo.window.getBox();if(!this._oldViewport||_67a.h!=this._oldViewport.h||_67a.w!=this._oldViewport.w){this.layout();this._oldViewport=_67a;}}));this._modalconnects.push(dojo.connect(this.domNode,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _67b;this._fadeInDeferred=new dojo.Deferred(dojo.hitch(this,function(){_67b.stop();delete this._fadeInDeferred;}));_67b=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){dijit._DialogLevelManager.show(this,this.underlayAttrs);}),onEnd:dojo.hitch(this,function(){if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this._fadeInDeferred.callback(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _67c;this._fadeOutDeferred=new dojo.Deferred(dojo.hitch(this,function(){_67c.stop();delete this._fadeOutDeferred;}));_67c=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";dijit._DialogLevelManager.hide(this);this.onHide();this._fadeOutDeferred.callback(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},layout:function(){if(this.domNode.style.display!="none"){if(dijit._underlay){dijit._underlay.layout();}this._position();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}if(this._dndListener){dojo.unsubscribe(this._dndListener);}dojo.forEach(this._modalconnects,dojo.disconnect);dijit._DialogLevelManager.hide(this);this.inherited(arguments);}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._DialogBase],{});dijit._DialogLevelManager={show:function(_67d,_67e){var ds=dijit._dialogStack;ds[ds.length-1].focus=dijit.getFocus(_67d);var _67f=dijit._underlay;if(!_67f||_67f._destroyed){_67f=dijit._underlay=new dijit.DialogUnderlay(_67e);}else{_67f.set(_67d.underlayAttrs);}var _680=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:950;if(ds.length==1){_67f.show();}dojo.style(dijit._underlay.domNode,"zIndex",_680-1);dojo.style(_67d.domNode,"zIndex",_680);ds.push({dialog:_67d,underlayAttrs:_67e,zIndex:_680});},hide:function(_681){var ds=dijit._dialogStack;if(ds[ds.length-1].dialog==_681){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){if(!dijit._underlay._destroyed){dijit._underlay.hide();}}else{dojo.style(dijit._underlay.domNode,"zIndex",pd.zIndex-1);dijit._underlay.set(pd.underlayAttrs);}if(_681.refocus){var _682=pd.focus;if(!_682||(pd.dialog&&!dojo.isDescendant(_682.node,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_682=pd.dialog._firstFocusItem;}try{dijit.focus(_682);}catch(e){}}}else{var idx=dojo.indexOf(dojo.map(ds,function(elem){return elem.dialog;}),_681);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_683){var ds=dijit._dialogStack;return ds[ds.length-1].dialog==_683;}};dijit._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];}if(!dojo._hasResource["dojox.string.tokenize"]){dojo._hasResource["dojox.string.tokenize"]=true;dojo.provide("dojox.string.tokenize");dojox.string.tokenize=function(str,re,_684,_685){var _686=[];var _687,_688,_689=0;while(_687=re.exec(str)){_688=str.slice(_689,re.lastIndex-_687[0].length);if(_688.length){_686.push(_688);}if(_684){if(dojo.isOpera){var copy=_687.slice(0);while(copy.length<_687.length){copy.push(null);}_687=copy;}var _68a=_684.apply(_685,_687.slice(1).concat(_686.length));if(typeof _68a!="undefined"){_686.push(_68a);}}_689=re.lastIndex;}_688=str.slice(_689);if(_688.length){_686.push(_688);}return _686;};}if(!dojo._hasResource["dojox.string.sprintf"]){dojo._hasResource["dojox.string.sprintf"]=true;dojo.provide("dojox.string.sprintf");dojox.string.sprintf=function(_68b,_68c){for(var args=[],i=1;i<arguments.length;i++){args.push(arguments[i]);}var _68d=new dojox.string.sprintf.Formatter(_68b);return _68d.format.apply(_68d,args);};dojox.string.sprintf.Formatter=function(_68e){var _68f=[];this._mapped=false;this._format=_68e;this._tokens=dojox.string.tokenize(_68e,this._re,this._parseDelim,this);};dojo.extend(dojox.string.sprintf.Formatter,{_re:/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%scdeEfFgGiouxX])/g,_parseDelim:function(_690,_691,_692,_693,_694,_695,_696){if(_690){this._mapped=true;}return {mapping:_690,intmapping:_691,flags:_692,_minWidth:_693,period:_694,_precision:_695,specifier:_696};},_specifiers:{b:{base:2,isInt:true},o:{base:8,isInt:true},x:{base:16,isInt:true},X:{extend:["x"],toUpper:true},d:{base:10,isInt:true},i:{extend:["d"]},u:{extend:["d"],isUnsigned:true},c:{setArg:function(_697){if(!isNaN(_697.arg)){var num=parseInt(_697.arg);if(num<0||num>127){throw new Error("invalid character code passed to %c in sprintf");}_697.arg=isNaN(num)?""+num:String.fromCharCode(num);}}},s:{setMaxWidth:function(_698){_698.maxWidth=(_698.period==".")?_698.precision:-1;}},e:{isDouble:true,doubleNotation:"e"},E:{extend:["e"],toUpper:true},f:{isDouble:true,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:true,doubleNotation:"g"},G:{extend:["g"],toUpper:true}},format:function(_699){if(this._mapped&&typeof _699!="object"){throw new Error("format requires a mapping");}var str="";var _69a=0;for(var i=0,_69b;i<this._tokens.length;i++){_69b=this._tokens[i];if(typeof _69b=="string"){str+=_69b;}else{if(this._mapped){if(typeof _699[_69b.mapping]=="undefined"){throw new Error("missing key "+_69b.mapping);}_69b.arg=_699[_69b.mapping];}else{if(_69b.intmapping){var _69a=parseInt(_69b.intmapping)-1;}if(_69a>=arguments.length){throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");}_69b.arg=arguments[_69a++];}if(!_69b.compiled){_69b.compiled=true;_69b.sign="";_69b.zeroPad=false;_69b.rightJustify=false;_69b.alternative=false;var _69c={};for(var fi=_69b.flags.length;fi--;){var flag=_69b.flags.charAt(fi);_69c[flag]=true;switch(flag){case " ":_69b.sign=" ";break;case "+":_69b.sign="+";break;case "0":_69b.zeroPad=(_69c["-"])?false:true;break;case "-":_69b.rightJustify=true;_69b.zeroPad=false;break;case "#":_69b.alternative=true;break;default:throw Error("bad formatting flag '"+_69b.flags.charAt(fi)+"'");}}_69b.minWidth=(_69b._minWidth)?parseInt(_69b._minWidth):0;_69b.maxWidth=-1;_69b.toUpper=false;_69b.isUnsigned=false;_69b.isInt=false;_69b.isDouble=false;_69b.precision=1;if(_69b.period=="."){if(_69b._precision){_69b.precision=parseInt(_69b._precision);}else{_69b.precision=0;}}var _69d=this._specifiers[_69b.specifier];if(typeof _69d=="undefined"){throw new Error("unexpected specifier '"+_69b.specifier+"'");}if(_69d.extend){dojo.mixin(_69d,this._specifiers[_69d.extend]);delete _69d.extend;}dojo.mixin(_69b,_69d);}if(typeof _69b.setArg=="function"){_69b.setArg(_69b);}if(typeof _69b.setMaxWidth=="function"){_69b.setMaxWidth(_69b);}if(_69b._minWidth=="*"){if(this._mapped){throw new Error("* width not supported in mapped formats");}_69b.minWidth=parseInt(arguments[_69a++]);if(isNaN(_69b.minWidth)){throw new Error("the argument for * width at position "+_69a+" is not a number in "+this._format);}if(_69b.minWidth<0){_69b.rightJustify=true;_69b.minWidth=-_69b.minWidth;}}if(_69b._precision=="*"&&_69b.period=="."){if(this._mapped){throw new Error("* precision not supported in mapped formats");}_69b.precision=parseInt(arguments[_69a++]);if(isNaN(_69b.precision)){throw Error("the argument for * precision at position "+_69a+" is not a number in "+this._format);}if(_69b.precision<0){_69b.precision=1;_69b.period="";}}if(_69b.isInt){if(_69b.period=="."){_69b.zeroPad=false;}this.formatInt(_69b);}else{if(_69b.isDouble){if(_69b.period!="."){_69b.precision=6;}this.formatDouble(_69b);}}this.fitField(_69b);str+=""+_69b.arg;}}return str;},_zeros10:"0000000000",_spaces10:"          ",formatInt:function(_69e){var i=parseInt(_69e.arg);if(!isFinite(i)){if(typeof _69e.arg!="number"){throw new Error("format argument '"+_69e.arg+"' not an integer; parseInt returned "+i);}i=0;}if(i<0&&(_69e.isUnsigned||_69e.base!=10)){i=4294967295+i+1;}if(i<0){_69e.arg=(-i).toString(_69e.base);this.zeroPad(_69e);_69e.arg="-"+_69e.arg;}else{_69e.arg=i.toString(_69e.base);if(!i&&!_69e.precision){_69e.arg="";}else{this.zeroPad(_69e);}if(_69e.sign){_69e.arg=_69e.sign+_69e.arg;}}if(_69e.base==16){if(_69e.alternative){_69e.arg="0x"+_69e.arg;}_69e.arg=_69e.toUpper?_69e.arg.toUpperCase():_69e.arg.toLowerCase();}if(_69e.base==8){if(_69e.alternative&&_69e.arg.charAt(0)!="0"){_69e.arg="0"+_69e.arg;}}},formatDouble:function(_69f){var f=parseFloat(_69f.arg);if(!isFinite(f)){if(typeof _69f.arg!="number"){throw new Error("format argument '"+_69f.arg+"' not a float; parseFloat returned "+f);}f=0;}switch(_69f.doubleNotation){case "e":_69f.arg=f.toExponential(_69f.precision);break;case "f":_69f.arg=f.toFixed(_69f.precision);break;case "g":if(Math.abs(f)<0.0001){_69f.arg=f.toExponential(_69f.precision>0?_69f.precision-1:_69f.precision);}else{_69f.arg=f.toPrecision(_69f.precision);}if(!_69f.alternative){_69f.arg=_69f.arg.replace(/(\..*[^0])0*/,"$1");_69f.arg=_69f.arg.replace(/\.0*e/,"e").replace(/\.0$/,"");}break;default:throw new Error("unexpected double notation '"+_69f.doubleNotation+"'");}_69f.arg=_69f.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1");if(dojo.isOpera){_69f.arg=_69f.arg.replace(/^\./,"0.");}if(_69f.alternative){_69f.arg=_69f.arg.replace(/^(\d+)$/,"$1.");_69f.arg=_69f.arg.replace(/^(\d+)e/,"$1.e");}if(f>=0&&_69f.sign){_69f.arg=_69f.sign+_69f.arg;}_69f.arg=_69f.toUpper?_69f.arg.toUpperCase():_69f.arg.toLowerCase();},zeroPad:function(_6a0,_6a1){_6a1=(arguments.length==2)?_6a1:_6a0.precision;if(typeof _6a0.arg!="string"){_6a0.arg=""+_6a0.arg;}var _6a2=_6a1-10;while(_6a0.arg.length<_6a2){_6a0.arg=(_6a0.rightJustify)?_6a0.arg+this._zeros10:this._zeros10+_6a0.arg;}var pad=_6a1-_6a0.arg.length;_6a0.arg=(_6a0.rightJustify)?_6a0.arg+this._zeros10.substring(0,pad):this._zeros10.substring(0,pad)+_6a0.arg;},fitField:function(_6a3){if(_6a3.maxWidth>=0&&_6a3.arg.length>_6a3.maxWidth){return _6a3.arg.substring(0,_6a3.maxWidth);}if(_6a3.zeroPad){this.zeroPad(_6a3,_6a3.minWidth);return;}this.spacePad(_6a3);},spacePad:function(_6a4,_6a5){_6a5=(arguments.length==2)?_6a5:_6a4.minWidth;if(typeof _6a4.arg!="string"){_6a4.arg=""+_6a4.arg;}var _6a6=_6a5-10;while(_6a4.arg.length<_6a6){_6a4.arg=(_6a4.rightJustify)?_6a4.arg+this._spaces10:this._spaces10+_6a4.arg;}var pad=_6a5-_6a4.arg.length;_6a4.arg=(_6a4.rightJustify)?_6a4.arg+this._spaces10.substring(0,pad):this._spaces10.substring(0,pad)+_6a4.arg;}});}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_6a7){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_6a7.url;this._ccUrl=_6a7.url;this.url=_6a7.url;this._jsonData=_6a7.data;this.data=null;this._datatypeMap=_6a7.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_6a8){return dojo.date.stamp.fromISOString(_6a8);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_6a7.urlPreventCache!==undefined){this.urlPreventCache=_6a7.urlPreventCache?true:false;}if(_6a7.hierarchical!==undefined){this.hierarchical=_6a7.hierarchical?true:false;}if(_6a7.clearOnClose){this.clearOnClose=true;}if("failOk" in _6a7){this.failOk=_6a7.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_6a9){if(typeof _6a9!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_6aa,_6ab){var _6ac=this.getValues(item,_6aa);return (_6ac.length>0)?_6ac[0]:_6ab;},getValues:function(item,_6ad){this._assertIsItem(item);this._assertIsAttribute(_6ad);return (item[_6ad]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _6ae=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_6ae.push(key);}}return _6ae;},hasAttribute:function(item,_6af){this._assertIsItem(item);this._assertIsAttribute(_6af);return (_6af in item);},containsValue:function(item,_6b0,_6b1){var _6b2=undefined;if(typeof _6b1==="string"){_6b2=dojo.data.util.filter.patternToRegExp(_6b1,false);}return this._containsValue(item,_6b0,_6b1,_6b2);},_containsValue:function(item,_6b3,_6b4,_6b5){return dojo.some(this.getValues(item,_6b3),function(_6b6){if(_6b6!==null&&!dojo.isObject(_6b6)&&_6b5){if(_6b6.toString().match(_6b5)){return true;}}else{if(_6b4===_6b6){return true;}}});},isItem:function(_6b7){if(_6b7&&_6b7[this._storeRefPropName]===this){if(this._arrayOfAllItems[_6b7[this._itemNumPropName]]===_6b7){return true;}}return false;},isItemLoaded:function(_6b8){return this.isItem(_6b8);},loadItem:function(_6b9){this._assertIsItem(_6b9.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_6ba,_6bb,_6bc){var self=this,_6bd=function(_6be,_6bf){var _6c0=[],i,key;if(_6be.query){var _6c1,_6c2=_6be.queryOptions?_6be.queryOptions.ignoreCase:false;var _6c3={};for(key in _6be.query){_6c1=_6be.query[key];if(typeof _6c1==="string"){_6c3[key]=dojo.data.util.filter.patternToRegExp(_6c1,_6c2);}else{if(_6c1 instanceof RegExp){_6c3[key]=_6c1;}}}for(i=0;i<_6bf.length;++i){var _6c4=true;var _6c5=_6bf[i];if(_6c5===null){_6c4=false;}else{for(key in _6be.query){_6c1=_6be.query[key];if(!self._containsValue(_6c5,key,_6c1,_6c3[key])){_6c4=false;}}}if(_6c4){_6c0.push(_6c5);}}_6bb(_6c0,_6be);}else{for(i=0;i<_6bf.length;++i){var item=_6bf[i];if(item!==null){_6c0.push(item);}}_6bb(_6c0,_6be);}};if(this._loadFinished){_6bd(_6ba,this._getItemsArray(_6ba.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_6ba,filter:_6bd});}else{this._loadInProgress=true;var _6c6={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _6c7=dojo.xhrGet(_6c6);_6c7.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_6bd(_6ba,self._getItemsArray(_6ba.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_6bc(e,_6ba);}});_6c7.addErrback(function(_6c8){self._loadInProgress=false;_6bc(_6c8,_6ba);});var _6c9=null;if(_6ba.abort){_6c9=_6ba.abort;}_6ba.abort=function(){var df=_6c7;if(df&&df.fired===-1){df.cancel();df=null;}if(_6c9){_6c9.call(_6ba);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_6bd(_6ba,this._getItemsArray(_6ba.queryOptions));}catch(e){_6bc(e,_6ba);}}else{_6bc(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_6ba);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _6ca=this._queuedFetches[i],_6cb=_6ca.args,_6cc=_6ca.filter;if(_6cc){_6cc(_6cb,this._getItemsArray(_6cb.queryOptions));}else{this.fetchItemByIdentity(_6cb);}}this._queuedFetches=[];}},_getItemsArray:function(_6cd){if(_6cd&&_6cd.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_6ce){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_6cf){var _6d0=false,self=this;function _6d1(_6d2){var _6d3=((_6d2!==null)&&(typeof _6d2==="object")&&(!dojo.isArray(_6d2)||_6d0)&&(!dojo.isFunction(_6d2))&&(_6d2.constructor==Object||dojo.isArray(_6d2))&&(typeof _6d2._reference==="undefined")&&(typeof _6d2._type==="undefined")&&(typeof _6d2._value==="undefined")&&self.hierarchical);return _6d3;};function _6d4(_6d5){self._arrayOfAllItems.push(_6d5);for(var _6d6 in _6d5){var _6d7=_6d5[_6d6];if(_6d7){if(dojo.isArray(_6d7)){var _6d8=_6d7;for(var k=0;k<_6d8.length;++k){var _6d9=_6d8[k];if(_6d1(_6d9)){_6d4(_6d9);}}}else{if(_6d1(_6d7)){_6d4(_6d7);}}}}};this._labelAttr=_6cf.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_6cf.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_6d0=true;}_6d4(item);item[this._rootItemPropName]=true;}var _6da={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _6db=item[key];if(_6db!==null){if(!dojo.isArray(_6db)){item[key]=[_6db];}}else{item[key]=[null];}}_6da[key]=key;}}while(_6da[this._storeRefPropName]){this._storeRefPropName+="_";}while(_6da[this._itemNumPropName]){this._itemNumPropName+="_";}while(_6da[this._reverseRefMap]){this._reverseRefMap+="_";}var _6dc;var _6dd=_6cf.identifier;if(_6dd){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_6dd;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_6dc=item[_6dd];var _6de=_6dc[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_6de)){this._itemsByIdentity[_6de]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_6dd+"].  Value collided: ["+_6de+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_6dd+"].  Value collided: ["+_6de+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_6dc=item[key];for(var j=0;j<_6dc.length;++j){_6db=_6dc[j];if(_6db!==null&&typeof _6db=="object"){if(("_type" in _6db)&&("_value" in _6db)){var type=_6db._type;var _6df=this._datatypeMap[type];if(!_6df){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_6df)){_6dc[j]=new _6df(_6db._value);}else{if(dojo.isFunction(_6df.deserialize)){_6dc[j]=_6df.deserialize(_6db._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_6db._reference){var _6e0=_6db._reference;if(!dojo.isObject(_6e0)){_6dc[j]=this._getItemByIdentity(_6e0);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _6e1=this._arrayOfAllItems[k],_6e2=true;for(var _6e3 in _6e0){if(_6e1[_6e3]!=_6e0[_6e3]){_6e2=false;}}if(_6e2){_6dc[j]=_6e1;}}}if(this.referenceIntegrity){var _6e4=_6dc[j];if(this.isItem(_6e4)){this._addReferenceToMap(_6e4,item,key);}}}else{if(this.isItem(_6db)){if(this.referenceIntegrity){this._addReferenceToMap(_6db,item,key);}}}}}}}},_addReferenceToMap:function(_6e5,_6e6,_6e7){},getIdentity:function(item){var _6e8=this._features["dojo.data.api.Identity"];if(_6e8===Number){return item[this._itemNumPropName];}else{var _6e9=item[_6e8];if(_6e9){return _6e9[0];}}return null;},fetchItemByIdentity:function(_6ea){var item,_6eb;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_6ea});}else{this._loadInProgress=true;var _6ec={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _6ed=dojo.xhrGet(_6ec);_6ed.addCallback(function(data){var _6ee=_6ea.scope?_6ea.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_6ea.identity);if(_6ea.onItem){_6ea.onItem.call(_6ee,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_6ea.onError){_6ea.onError.call(_6ee,error);}}});_6ed.addErrback(function(_6ef){self._loadInProgress=false;if(_6ea.onError){var _6f0=_6ea.scope?_6ea.scope:dojo.global;_6ea.onError.call(_6f0,_6ef);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_6ea.identity);if(_6ea.onItem){_6eb=_6ea.scope?_6ea.scope:dojo.global;_6ea.onItem.call(_6eb,item);}}}}else{item=this._getItemByIdentity(_6ea.identity);if(_6ea.onItem){_6eb=_6ea.scope?_6ea.scope:dojo.global;_6ea.onItem.call(_6eb,item);}}},_getItemByIdentity:function(_6f1){var item=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_6f1)){item=this._itemsByIdentity[_6f1];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_6f1)){item=this._arrayOfAllItems[_6f1];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _6f2=this._features["dojo.data.api.Identity"];if(_6f2===Number){return null;}else{return [_6f2];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _6f3={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _6f4=dojo.xhrGet(_6f3);_6f4.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_6f4.addErrback(function(_6f5){throw _6f5;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.data.ItemFileWriteStore"]){dojo._hasResource["dojo.data.ItemFileWriteStore"]=true;dojo.provide("dojo.data.ItemFileWriteStore");dojo.declare("dojo.data.ItemFileWriteStore",dojo.data.ItemFileReadStore,{constructor:function(_6f6){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return dojo.date.stamp.toISOString(obj,{zulu:true});};}if(_6f6&&(_6f6.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_6f7){if(!_6f7){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){var _6f8=this.getFeatures()["dojo.data.api.Identity"];return _6f8;},newItem:function(_6f9,_6fa){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _6f9!="object"&&typeof _6f9!="undefined"){throw new Error("newItem() was passed something other than an object");}var _6fb=null;var _6fc=this._getIdentifierAttribute();if(_6fc===Number){_6fb=this._arrayOfAllItems.length;}else{_6fb=_6f9[_6fc];if(typeof _6fb==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(dojo.isArray(_6fb)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_6fb]==="undefined");}this._assert(typeof this._pending._newItems[_6fb]==="undefined");this._assert(typeof this._pending._deletedItems[_6fb]==="undefined");var _6fd={};_6fd[this._storeRefPropName]=this;_6fd[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_6fb]=_6fd;_6fd[_6fc]=[_6fb];}this._arrayOfAllItems.push(_6fd);var _6fe=null;if(_6fa&&_6fa.parent&&_6fa.attribute){_6fe={item:_6fa.parent,attribute:_6fa.attribute,oldValue:undefined};var _6ff=this.getValues(_6fa.parent,_6fa.attribute);if(_6ff&&_6ff.length>0){var _700=_6ff.slice(0,_6ff.length);if(_6ff.length===1){_6fe.oldValue=_6ff[0];}else{_6fe.oldValue=_6ff.slice(0,_6ff.length);}_700.push(_6fd);this._setValueOrValues(_6fa.parent,_6fa.attribute,_700,false);_6fe.newValue=this.getValues(_6fa.parent,_6fa.attribute);}else{this._setValueOrValues(_6fa.parent,_6fa.attribute,_6fd,false);_6fe.newValue=_6fd;}}else{_6fd[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_6fd);}this._pending._newItems[_6fb]=_6fd;for(var key in _6f9){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _701=_6f9[key];if(!dojo.isArray(_701)){_701=[_701];}_6fd[key]=_701;if(this.referenceIntegrity){for(var i=0;i<_701.length;i++){var val=_701[i];if(this.isItem(val)){this._addReferenceToMap(val,_6fd,key);}}}}this.onNew(_6fd,_6fe);return _6fd;},_removeArrayElement:function(_702,_703){var _704=dojo.indexOf(_702,_703);if(_704!=-1){_702.splice(_704,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _705=item[this._itemNumPropName];var _706=this.getIdentity(item);if(this.referenceIntegrity){var _707=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=dojo.clone(item[this._reverseRefMap]);}dojo.forEach(_707,function(_708){dojo.forEach(this.getValues(item,_708),function(_709){if(this.isItem(_709)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_709),attr:_708});this._removeReferenceFromMap(_709,item,_708);}},this);},this);var _70a=item[this._reverseRefMap];if(_70a){for(var _70b in _70a){var _70c=null;if(this._itemsByIdentity){_70c=this._itemsByIdentity[_70b];}else{_70c=this._arrayOfAllItems[_70b];}if(_70c){for(var _70d in _70a[_70b]){var _70e=this.getValues(_70c,_70d)||[];var _70f=dojo.filter(_70e,function(_710){return !(this.isItem(_710)&&this.getIdentity(_710)==_706);},this);this._removeReferenceFromMap(item,_70c,_70d);if(_70f.length<_70e.length){this._setValueOrValues(_70c,_70d,_70f,true);}}}}}}this._arrayOfAllItems[_705]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_706];}this._pending._deletedItems[_706]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_711,_712){return this._setValueOrValues(item,_711,_712,true);},setValues:function(item,_713,_714){return this._setValueOrValues(item,_713,_714,true);},unsetAttribute:function(item,_715){return this._setValueOrValues(item,_715,[],true);},_setValueOrValues:function(item,_716,_717,_718){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(dojo.isString(_716));this._assert(typeof _717!=="undefined");var _719=this._getIdentifierAttribute();if(_716==_719){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _71a=this._getValueOrValues(item,_716);var _71b=this.getIdentity(item);if(!this._pending._modifiedItems[_71b]){var _71c={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_71c[key]=item[key];}else{if(key===this._reverseRefMap){_71c[key]=dojo.clone(item[key]);}else{_71c[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_71b]=_71c;}var _71d=false;if(dojo.isArray(_717)&&_717.length===0){_71d=delete item[_716];_717=undefined;if(this.referenceIntegrity&&_71a){var _71e=_71a;if(!dojo.isArray(_71e)){_71e=[_71e];}for(var i=0;i<_71e.length;i++){var _71f=_71e[i];if(this.isItem(_71f)){this._removeReferenceFromMap(_71f,item,_716);}}}}else{var _720;if(dojo.isArray(_717)){var _721=_717;_720=_717.slice(0,_717.length);}else{_720=[_717];}if(this.referenceIntegrity){if(_71a){var _71e=_71a;if(!dojo.isArray(_71e)){_71e=[_71e];}var map={};dojo.forEach(_71e,function(_722){if(this.isItem(_722)){var id=this.getIdentity(_722);map[id.toString()]=true;}},this);dojo.forEach(_720,function(_723){if(this.isItem(_723)){var id=this.getIdentity(_723);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_723,item,_716);}}},this);for(var rId in map){var _724;if(this._itemsByIdentity){_724=this._itemsByIdentity[rId];}else{_724=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_724,item,_716);}}else{for(var i=0;i<_720.length;i++){var _71f=_720[i];if(this.isItem(_71f)){this._addReferenceToMap(_71f,item,_716);}}}}item[_716]=_720;_71d=true;}if(_718){this.onSet(item,_716,_71a,_717);}return _71d;},_addReferenceToMap:function(_725,_726,_727){var _728=this.getIdentity(_726);var _729=_725[this._reverseRefMap];if(!_729){_729=_725[this._reverseRefMap]={};}var _72a=_729[_728];if(!_72a){_72a=_729[_728]={};}_72a[_727]=true;},_removeReferenceFromMap:function(_72b,_72c,_72d){var _72e=this.getIdentity(_72c);var _72f=_72b[this._reverseRefMap];var _730;if(_72f){for(_730 in _72f){if(_730==_72e){delete _72f[_730][_72d];if(this._isEmpty(_72f[_730])){delete _72f[_730];}}}if(this._isEmpty(_72f)){delete _72b[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){console.log("Item: ["+this.getIdentity(item)+"] is referenced by: "+dojo.toJson(item[this._reverseRefMap]));}}},_getValueOrValues:function(item,_731){var _732=undefined;if(this.hasAttribute(item,_731)){var _733=this.getValues(item,_731);if(_733.length==1){_732=_733[0];}else{_732=_733;}}return _732;},_flatten:function(_734){if(this.isItem(_734)){var item=_734;var _735=this.getIdentity(item);var _736={_reference:_735};return _736;}else{if(typeof _734==="object"){for(var type in this._datatypeMap){var _737=this._datatypeMap[type];if(dojo.isObject(_737)&&!dojo.isFunction(_737)){if(_734 instanceof _737.type){if(!_737.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_737.serialize(_734)};}}else{if(_734 instanceof _737){return {_type:type,_value:_734.toString()};}}}}return _734;}},_getNewFileContentString:function(){var _738={};var _739=this._getIdentifierAttribute();if(_739!==Number){_738.identifier=_739;}if(this._labelAttr){_738.label=this._labelAttr;}_738.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _73a={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _73b=key;var _73c=this.getValues(item,_73b);if(_73c.length==1){_73a[_73b]=this._flatten(_73c[0]);}else{var _73d=[];for(var j=0;j<_73c.length;++j){_73d.push(this._flatten(_73c[j]));_73a[_73b]=_73d;}}}}_738.items.push(_73a);}}var _73e=true;return dojo.toJson(_738,_73e);},_isEmpty:function(_73f){var _740=true;if(dojo.isObject(_73f)){var i;for(i in _73f){_740=false;break;}}else{if(dojo.isArray(_73f)){if(_73f.length>0){_740=false;}}}return _740;},save:function(_741){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _742=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_741&&_741.onComplete){var _743=_741.scope||dojo.global;_741.onComplete.call(_743);}};var _744=function(err){self._saveInProgress=false;if(_741&&_741.onError){var _745=_741.scope||dojo.global;_741.onError.call(_745,err);}};if(this._saveEverything){var _746=this._getNewFileContentString();this._saveEverything(_742,_744,_746);}if(this._saveCustom){this._saveCustom(_742,_744);}if(!this._saveEverything&&!this._saveCustom){_742();}},revert:function(){this._assert(!this._saveInProgress);var _747;for(_747 in this._pending._modifiedItems){var _748=this._pending._modifiedItems[_747];var _749=null;if(this._itemsByIdentity){_749=this._itemsByIdentity[_747];}else{_749=this._arrayOfAllItems[_747];}_748[this._storeRefPropName]=this;for(key in _749){delete _749[key];}dojo.mixin(_749,_748);}var _74a;for(_747 in this._pending._deletedItems){_74a=this._pending._deletedItems[_747];_74a[this._storeRefPropName]=this;var _74b=_74a[this._itemNumPropName];if(_74a["backup_"+this._reverseRefMap]){_74a[this._reverseRefMap]=_74a["backup_"+this._reverseRefMap];delete _74a["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_74b]=_74a;if(this._itemsByIdentity){this._itemsByIdentity[_747]=_74a;}if(_74a[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_74a);}}for(_747 in this._pending._deletedItems){_74a=this._pending._deletedItems[_747];if(_74a["backupRefs_"+this._reverseRefMap]){dojo.forEach(_74a["backupRefs_"+this._reverseRefMap],function(_74c){var _74d;if(this._itemsByIdentity){_74d=this._itemsByIdentity[_74c.id];}else{_74d=this._arrayOfAllItems[_74c.id];}this._addReferenceToMap(_74d,_74a,_74c.attr);},this);delete _74a["backupRefs_"+this._reverseRefMap];}}for(_747 in this._pending._newItems){var _74e=this._pending._newItems[_747];_74e[this._storeRefPropName]=null;this._arrayOfAllItems[_74e[this._itemNumPropName]]=null;if(_74e[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_74e);}if(this._itemsByIdentity){delete this._itemsByIdentity[_747];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _74f=this.getIdentity(item);return new Boolean(this._pending._newItems[_74f]||this._pending._modifiedItems[_74f]||this._pending._deletedItems[_74f]).valueOf();}else{if(!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)){return true;}return false;}},onSet:function(item,_750,_751,_752){},onNew:function(_753,_754){},onDelete:function(_755){},close:function(_756){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;var _757={};m._degToRad=function(_758){return _757[_758]||(_757[_758]=(Math.PI*_758/180));};m._radToDeg=function(_759){return _759/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _75a=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_75a,r=dojox.gfx.matrix.normalize(arg[i]);_75a=new m.Matrix2D();_75a.xx=l.xx*r.xx+l.xy*r.yx;_75a.xy=l.xx*r.xy+l.xy*r.yy;_75a.yx=l.yx*r.xx+l.yy*r.yx;_75a.yy=l.yx*r.xy+l.yy*r.yy;_75a.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_75a.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_75a);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_75b){var c=Math.cos(_75b);var s=Math.sin(_75b);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_75c){return m.rotate(m._degToRad(_75c));},skewX:function(_75d){return new m.Matrix2D({xy:Math.tan(_75d)});},skewXg:function(_75e){return m.skewX(m._degToRad(_75e));},skewY:function(_75f){return new m.Matrix2D({yx:Math.tan(_75f)});},skewYg:function(_760){return m.skewY(m._degToRad(_760));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_761){return (_761 instanceof m.Matrix2D)?_761:new m.Matrix2D(_761);},clone:function(_762){var obj=new m.Matrix2D();for(var i in _762){if(typeof (_762[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_762[i]){obj[i]=_762[i];}}return obj;},invert:function(_763){var M=m.normalize(_763),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_764,x,y){return {x:_764.xx*x+_764.xy*y+_764.dx,y:_764.yx*x+_764.yy*y+_764.dy};},multiplyPoint:function(_765,a,b){var M=m.normalize(_765);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_766){var M=m.normalize(_766);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_767,x,y){return m.multiply(m.translate(x,y),_767,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_768,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_768),a,b);}return m._sandwich(m.rotate(_768),a.x,a.y);},rotategAt:function(_769,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_769),a,b);}return m._sandwich(m.rotateg(_769),a.x,a.y);},skewXAt:function(_76a,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_76a),a,b);}return m._sandwich(m.skewX(_76a),a.x,a.y);},skewXgAt:function(_76b,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_76b),a,b);}return m._sandwich(m.skewXg(_76b),a.x,a.y);},skewYAt:function(_76c,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_76c),a,b);}return m._sandwich(m.skewY(_76c),a.x,a.y);},skewYgAt:function(_76d,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_76d),a,b);}return m._sandwich(m.skewYg(_76d),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(node,_76e){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_76e+" ")>=0;};g._addClass=function(node,_76f){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_76f+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_76f);}};g._removeClass=function(node,_770){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_770+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _771={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},dojo.body());for(var p in _771){div.style.fontSize=p;_771[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);return _771;};var _772=null;b._getCachedFontMeasurements=function(_773){if(_773||!_772){_772=b._getFontMeasurements();}return _772;};var _774=null,_775={};b._getTextBox=function(text,_776,_777){var m,s,al=arguments.length;if(!_774){_774=dojo.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},dojo.body());}m=_774;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_776){for(var i in _776){if(i in _775){continue;}s[i]=_776[i];}}if(al>2&&_777){m.className=_777;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return dojo.marginBox(m);}};var _778=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_778);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _779={};return function(type){var t=_779[type];if(t){return new t();}t=_779[type]=new Function;t.prototype=dojox.gfx["default"+type];return new t();};})(),normalizeColor:function(_77a){return (_77a instanceof dojo.Color)?_77a:new dojo.Color(_77a);},normalizeParameters:function(_77b,_77c){if(_77c){var _77d={};for(var x in _77b){if(x in _77c&&!(x in _77d)){_77b[x]=_77c[x];}}}return _77b;},makeParameters:function(_77e,_77f){if(!_77f){return dojo.delegate(_77e);}var _780={};for(var i in _77e){if(!(i in _780)){_780[i]=dojo.clone((i in _77f)?_77f[i]:_77e[i]);}}return _780;},formatNumber:function(x,_781){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _782=val.indexOf(".");if(_782>=0&&val.length-_782>5){val=x.toFixed(4);}}if(x<0){return val;}return _781?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=dojox.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _783=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_783;case "in":return val*72*_783;case "pc":return val*12*_783;case "mm":return val*dojox.gfx.mm_in_pt*_783;case "cm":return val*dojox.gfx.cm_in_pt*_783;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;},switchTo:function(_784){var ns=dojox.gfx[_784];if(ns){dojo.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface"],function(name){dojox.gfx[name]=ns[name];});}}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,flag,_785;while(!gfx.renderer){if(dojo.config.forceGfxRenderer){dojox.gfx.renderer=dojo.config.forceGfxRenderer;break;}var _786=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var i=0;i<_786.length;++i){switch(_786[i]){case "svg":if("SVGAngle" in dojo.global){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){flag=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){flag=true;}}}catch(e){flag=false;}finally{sl=null;}if(flag){dojox.gfx.renderer="silverlight";}break;case "canvas":if(dojo.global.CanvasRenderingContext2D){dojox.gfx.renderer="canvas";}break;}if(gfx.renderer){break;}}break;}if(dojo.config.isDebug){console.log("gfx renderer = "+gfx.renderer);}if(gfx[gfx.renderer]){gfx.switchTo(gfx.renderer);}else{gfx.loadAndSwitch=gfx.renderer;dojo["require"]("dojox.gfx."+gfx.renderer);}});}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional,_787={};var _788="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _789=function(s){var args=[],_78a=_788.call(s,/\s*->\s*/m);if(_78a.length>1){while(_78a.length){s=_78a.pop();args=_78a.pop().split(/\s*,\s*|\s+/m);if(_78a.length){_78a.push("(function("+args+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};dojo.forEach(vars,function(v){if(!(v in t)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _78b=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _789(s);},buildLambda:function(s){s=_789(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _78b(s);}if(s in _787){return _787[s];}s=_789(s);return _787[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_787={};}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_78c={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _78c)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _78c)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,i;if(d.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _78c)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _78c)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _78c)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_78d={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _78d)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _78d)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _78d)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(!(i in _78d)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _78d)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_78e={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var i,n;if(d.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _78e)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z,i,n;if(d.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _78f=true;for(i in a){if(!(i in _78e)){if(_78f){z=a[i];_78f=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,constructor:function(_790){this.chart=_790;this.group=null;this.htmlElements=[];this.dirty=true;this.trailingSymbol="...";this._events=[];},createGroup:function(_791){if(!_791){_791=this.chart.surface;}if(!this.group){this.group=_791.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;if(this._events.length){dojo.forEach(this._events,function(item){item.shape.disconnect(item.handle);});this._events=[];}return this;},cleanGroup:function(_792){this.destroyHtmlElements();if(!_792){_792=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_792.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},getTextWidth:function(s,font){return dojox.gfx._base._getTextBox(s,{font:font}).w||0;},getTextWithLimitLength:function(s,font,_793,_794){if(!s||s.length<=0){return {text:"",truncated:_794||false};}if(!_793||_793<=0){return {text:s,truncated:_794||false};}var _795=2,_796=0.618,_797=s.substring(0,1)+this.trailingSymbol,_798=this.getTextWidth(_797,font);if(_793<=_798){return {text:_797,truncated:true};}var _799=this.getTextWidth(s,font);if(_799<=_793){return {text:s,truncated:_794||false};}else{var _79a=0,end=s.length;while(_79a<end){if(end-_79a<=_795){while(this.getTextWidth(s.substring(0,_79a)+this.trailingSymbol,font)>_793){_79a-=1;}return {text:(s.substring(0,_79a)+this.trailingSymbol),truncated:true};}var _79b=_79a+Math.round((end-_79a)*_796),_79c=this.getTextWidth(s.substring(0,_79b),font);if(_79c<_793){_79a=_79b;end=end;}else{_79a=_79a;end=_79b;}}}},getTextWithLimitCharCount:function(s,font,_79d,_79e){if(!s||s.length<=0){return {text:"",truncated:_79e||false};}if(!_79d||_79d<=0||s.length<=_79d){return {text:s,truncated:_79e||false};}return {text:s.substring(0,_79d)+this.trailingSymbol,truncated:true};},_plotFill:function(fill,dim,_79f){if(!fill||!fill.type||!fill.space){return fill;}var _7a0=fill.space;switch(fill.type){case "linear":if(_7a0==="plot"||_7a0==="shapeX"||_7a0==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,fill);fill.space=_7a0;if(_7a0==="plot"||_7a0==="shapeX"){var span=dim.height-_79f.t-_79f.b;fill.y1=_79f.t+span*fill.y1/100;fill.y2=_79f.t+span*fill.y2/100;}if(_7a0==="plot"||_7a0==="shapeY"){var span=dim.width-_79f.l-_79f.r;fill.x1=_79f.l+span*fill.x1/100;fill.x2=_79f.l+span*fill.x2/100;}}break;case "radial":if(_7a0==="plot"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_7a0;var _7a1=dim.width-_79f.l-_79f.r,_7a2=dim.height-_79f.t-_79f.b;fill.cx=_79f.l+_7a1*fill.cx/100;fill.cy=_79f.t+_7a2*fill.cy/100;fill.r=fill.r*Math.sqrt(_7a1*_7a1+_7a2*_7a2)/200;}break;case "pattern":if(_7a0==="plot"||_7a0==="shapeX"||_7a0==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,fill);fill.space=_7a0;if(_7a0==="plot"||_7a0==="shapeX"){var span=dim.height-_79f.t-_79f.b;fill.y=_79f.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_7a0==="plot"||_7a0==="shapeY"){var span=dim.width-_79f.l-_79f.r;fill.x=_79f.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _7a3=fill.space;switch(fill.type){case "linear":if(_7a3==="shape"||_7a3==="shapeX"||_7a3==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,fill);fill.space=_7a3;if(_7a3==="shape"||_7a3==="shapeX"){var span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_7a3==="shape"||_7a3==="shapeY"){var span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case "radial":if(_7a3==="shape"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_7a3;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case "pattern":if(_7a3==="shape"||_7a3==="shapeX"||_7a3==="shapeY"){fill=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,fill);fill.space=_7a3;if(_7a3==="shape"||_7a3==="shapeX"){var span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_7a3==="shape"||_7a3==="shapeY"){var span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_7a4,_7a5,_7a6,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _7a7=fill.space;fill=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);fill.space=_7a7;if(arguments.length<4){fill.cx=_7a4.x;fill.cy=_7a4.y;fill.r=fill.r*_7a5/100;return fill;}var _7a8=arguments.length<5?_7a6:(end+_7a6)/2;return {type:"linear",x1:_7a4.x,y1:_7a4.y,x2:_7a4.x+fill.r*_7a5*Math.cos(_7a8)/100,y2:_7a4.y+fill.r*_7a5*Math.sin(_7a8)/100,colors:fill.colors};return fill;}});}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");dojo.getObject("colors",true,dojo);(function(){var _7a9=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_7aa,obj){var m=_7aa.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_7a9(m1,m2,H+1/3)*256,_7a9(m1,m2,H)*256,_7a9(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _7ab=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_7ab(t.r,0,255));t.g=Math.round(_7ab(t.g,0,255));t.b=Math.round(_7ab(t.b,0,255));t.a=_7ab(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_7ac,_7ad){if(dojo.isArray(cyan)){_7ac=cyan[1],_7ad=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_7ac=cyan.m,_7ad=cyan.y,cyan=cyan.c;}}cyan/=100,_7ac/=100,_7ad/=100;var r=1-cyan,g=1-_7ac,b=1-_7ad;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_7ae,_7af,_7b0){if(dojo.isArray(cyan)){_7ae=cyan[1],_7af=cyan[2],_7b0=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_7ae=cyan.m,_7af=cyan.y,_7b0=cyan.b,cyan=cyan.c;}}cyan/=100,_7ae/=100,_7af/=100,_7b0/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_7b0)+_7b0);g=1-Math.min(1,_7ae*(1-_7b0)+_7b0);b=1-Math.min(1,_7af*(1-_7b0)+_7b0);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_7b1,_7b2){if(dojo.isArray(hue)){_7b1=hue[1],_7b2=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_7b1=hue.s,_7b2=hue.l,hue=hue.h;}}_7b1/=100;_7b2/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_7b1*Math.min(r,1)+(1-_7b1);g=2*_7b1*Math.min(g,1)+(1-_7b1);b=2*_7b1*Math.min(b,1)+(1-_7b1);if(_7b2<0.5){r*=_7b2,g*=_7b2,b*=_7b2;}else{r=(1-_7b2)*r+2*_7b2-1;g=(1-_7b2)*g+2*_7b2-1;b=(1-_7b2)*b+2*_7b2-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_7b3,_7b4){if(dojo.isArray(hue)){_7b3=hue[1],_7b4=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_7b3=hue.s,_7b4=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_7b3/=100;_7b4/=100;var r,g,b;if(_7b3==0){r=_7b4,b=_7b4,g=_7b4;}else{var _7b5=hue/60,i=Math.floor(_7b5),f=_7b5-i;var p=_7b4*(1-_7b3);var q=_7b4*(1-(_7b3*f));var t=_7b4*(1-(_7b3*(1-f)));switch(i){case 0:r=_7b4,g=t,b=p;break;case 1:r=q,g=_7b4,b=p;break;case 2:r=p,g=_7b4,b=t;break;case 3:r=p,g=q,b=_7b4;break;case 4:r=t,g=p,b=_7b4;break;case 5:r=_7b4,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_7b6=1-(this.g/255),_7b7=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_7b6*100),y:Math.round(_7b7*100)};},toCmyk:function(){var cyan,_7b8,_7b9,_7ba;var r=this.r/255,g=this.g/255,b=this.b/255;_7ba=Math.min(1-r,1-g,1-b);cyan=(1-r-_7ba)/(1-_7ba);_7b8=(1-g-_7ba)/(1-_7ba);_7b9=(1-b-_7ba)/(1-_7ba);return {c:Math.round(cyan*100),m:Math.round(_7b8*100),y:Math.round(_7b9*100),b:Math.round(_7ba*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _7bb=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_7bb/((l<0.5)?(2*l):(2-2*l));}if(_7bb>0){if(max==r&&max!=g){h+=(g-b)/_7bb;}if(max==g&&max!=b){h+=(2+(b-r)/_7bb);}if(max==b&&max!=r){h+=(4+(r-g)/_7bb);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _7bc=max-min;var h=null,s=(max==0)?0:(_7bc/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_7bc;}else{if(g==max){h=120+60*(b-r)/_7bc;}else{h=240+60*(r-g)/_7bc;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(base){this.colors=[];if(base instanceof dojox.color.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dojox.color.Color){this.colors=[null,null,base,null,null];}else{if(dojo.isArray(base)){this.colors=dojo.map(base.slice(0),function(item){if(dojo.isString(item)){return new dojox.color.Color(item);}return item;});}else{if(dojo.isString(base)){this.colors=[null,null,new dojox.color.Color(base),null,null];}}}}};function _7bd(p,_7be,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var r=(_7be=="dr")?item.r+val:item.r,g=(_7be=="dg")?item.g+val:item.g,b=(_7be=="db")?item.b+val:item.b,a=(_7be=="da")?item.a+val:item.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function tCMY(p,_7bf,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmy(),c=(_7bf=="dc")?o.c+val:o.c,m=(_7bf=="dm")?o.m+val:o.m,y=(_7bf=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _7c0(p,_7c1,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_7c1=="dc")?o.c+val:o.c,m=(_7c1=="dm")?o.m+val:o.m,y=(_7c1=="dy")?o.y+val:o.y,k=(_7c1=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_7c2,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsl(),h=(_7c2=="dh")?o.h+val:o.h,s=(_7c2=="ds")?o.s+val:o.s,l=(_7c2=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_7c3,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsv(),h=(_7c3=="dh")?o.h+val:o.h,s=(_7c3=="ds")?o.s+val:o.s,v=(_7c3=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _7c4(val,low,high){return high-((high-val)*((high-low)/high));};dojo.extend(dxc.Palette,{transform:function(_7c5){var fn=_7bd;if(_7c5.use){var use=_7c5.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_7c0;}else{fn=tCMY;}}}}else{if("dc" in _7c5||"dm" in _7c5||"dy" in _7c5){if("dk" in _7c5){fn=_7c0;}else{fn=tCMY;}}else{if("dh" in _7c5||"ds" in _7c5){if("dv" in _7c5){fn=tHSV;}else{fn=tHSL;}}}}var _7c6=this;for(var p in _7c5){if(p=="use"){continue;}_7c6=fn(_7c6,p,_7c5[p]);}return _7c6;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_7c4(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),base,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_7c4(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,_7c7=args.da||30,hsv=base.toHsv();var _7c8=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_7c8-_7c7+360)%360,h2=(_7c8+_7c7)%360,s1=Math.max(hsv.s-10,0),s2=_7c4(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),base,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(dojo.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _7c9={},du=dojox.lang.utils,opts=Object.prototype.toString;var _7ca=function(o){if(o){switch(opts.call(o)){case "[object Array]":return o.slice(0);case "[object Object]":return dojo.delegate(o);}}return o;};dojo.mixin(du,{coerceType:function(_7cb,_7cc){switch(typeof _7cb){case "number":return Number(eval("("+_7cc+")"));case "string":return String(_7cc);case "boolean":return Boolean(eval("("+_7cc+")"));}return eval("("+_7cc+")");},updateWithObject:function(_7cd,_7ce,conv){if(!_7ce){return _7cd;}for(var x in _7cd){if(x in _7ce&&!(x in _7c9)){var t=_7cd[x];if(t&&typeof t=="object"){du.updateWithObject(t,_7ce[x],conv);}else{_7cd[x]=conv?du.coerceType(t,_7ce[x]):_7ca(_7ce[x]);}}}return _7cd;},updateWithPattern:function(_7cf,_7d0,_7d1,conv){if(!_7d0||!_7d1){return _7cf;}for(var x in _7d1){if(x in _7d0&&!(x in _7c9)){_7cf[x]=conv?du.coerceType(_7d1[x],_7d0[x]):_7ca(_7d0[x]);}}return _7cf;},merge:function(_7d2,_7d3){if(_7d3){var _7d4=opts.call(_7d2),_7d5=opts.call(_7d3),t,i,l,m;switch(_7d5){case "[object Array]":if(_7d5==_7d4){t=new Array(Math.max(_7d2.length,_7d3.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_7d2[i],_7d3[i]);}return t;}return _7d3.slice(0);case "[object Object]":if(_7d5==_7d4&&_7d2){t=dojo.delegate(_7d2);for(i in _7d3){if(i in _7d2){l=_7d2[i];m=_7d3[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=dojo.clone(_7d3[i]);}}return t;}return dojo.clone(_7d3);}}return _7d3;}});})();}if(!dojo._hasResource["dojox.gfx.gradutils"]){dojo._hasResource["dojox.gfx.gradutils"]=true;dojo.provide("dojox.gfx.gradutils");(function(){var d=dojo,m=dojox.gfx.matrix,C=d.Color;function _7d6(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var stop=c[i];if(stop.offset>=o){if(i){var prev=c[i-1];return d.blendColors(new C(prev.color),new C(stop.color),(o-prev.offset)/(stop.offset-prev.offset));}return stop.color;}}return c[len-1].color;};dojox.gfx.gradutils.getColor=function(fill,pt){var o;if(fill){switch(fill.type){case "linear":var _7d7=Math.atan2(fill.y2-fill.y1,fill.x2-fill.x1),_7d8=m.rotate(-_7d7),_7d9=m.project(fill.x2-fill.x1,fill.y2-fill.y1),p=m.multiplyPoint(_7d9,pt),pf1=m.multiplyPoint(_7d9,fill.x1,fill.y1),pf2=m.multiplyPoint(_7d9,fill.x2,fill.y2),_7da=m.multiplyPoint(_7d8,pf2.x-pf1.x,pf2.y-pf1.y).x,o=m.multiplyPoint(_7d8,p.x-pf1.x,p.y-pf1.y).x/_7da;break;case "radial":var dx=pt.x-fill.cx,dy=pt.y-fill.cy,o=Math.sqrt(dx*dx+dy*dy)/fill.r;break;}return _7d6(o,fill.colors);}return new C(fill||[0,0,0,0]);};dojox.gfx.gradutils.reverse=function(fill){if(fill){switch(fill.type){case "linear":case "radial":fill=dojo.delegate(fill);if(fill.colors){var c=fill.colors,l=c.length,i=0,stop,n=fill.colors=new Array(c.length);for(;i<l;++i){stop=c[i];n[i]={offset:1-stop.offset,color:stop.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return fill;};})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");dojo.declare("dojox.charting.Theme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_7db){_7db=_7db||{};var def=dojox.charting.Theme.defaultTheme;dojo.forEach(["chart","plotarea","axis","series","marker"],function(name){this[name]=dojo.delegate(def[name],_7db[name]);},this);if(_7db.seriesThemes&&_7db.seriesThemes.length){this.colors=null;this.seriesThemes=_7db.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_7db.colors||dojox.charting.Theme.defaultColors).slice(0);}this.markerThemes=null;if(_7db.markerThemes&&_7db.markerThemes.length){this.markerThemes=_7db.markerThemes.slice(0);}this.markers=_7db.markers?dojo.clone(_7db.markers):dojo.delegate(dojox.charting.Theme.defaultMarkers);this.noGradConv=_7db.noGradConv;this.noRadialConv=_7db.noRadialConv;if(_7db.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var _7dc=new dojox.charting.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});dojo.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(name){if(this.hasOwnProperty(name)){_7dc[name]=this[name];}},this);return _7dc;},clear:function(){this._current=0;},next:function(_7dd,_7de,_7df){var _7e0=dojox.lang.utils.merge,_7e1,_7e2;if(this.colors){_7e1=dojo.delegate(this.series);_7e2=dojo.delegate(this.marker);var _7e3=new dojo.Color(this.colors[this._current%this.colors.length]),old;if(_7e1.stroke&&_7e1.stroke.color){_7e1.stroke=dojo.delegate(_7e1.stroke);old=new dojo.Color(_7e1.stroke.color);_7e1.stroke.color=new dojo.Color(_7e3);_7e1.stroke.color.a=old.a;}else{_7e1.stroke={color:_7e3};}if(_7e2.stroke&&_7e2.stroke.color){_7e2.stroke=dojo.delegate(_7e2.stroke);old=new dojo.Color(_7e2.stroke.color);_7e2.stroke.color=new dojo.Color(_7e3);_7e2.stroke.color.a=old.a;}else{_7e2.stroke={color:_7e3};}if(!_7e1.fill||_7e1.fill.type){_7e1.fill=_7e3;}else{old=new dojo.Color(_7e1.fill);_7e1.fill=new dojo.Color(_7e3);_7e1.fill.a=old.a;}if(!_7e2.fill||_7e2.fill.type){_7e2.fill=_7e3;}else{old=new dojo.Color(_7e2.fill);_7e2.fill=new dojo.Color(_7e3);_7e2.fill.a=old.a;}}else{_7e1=this.seriesThemes?_7e0(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_7e2=this.markerThemes?_7e0(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_7e1;}var _7e4=_7e2&&_7e2.symbol||this._markers[this._current%this._markers.length];var _7e5={series:_7e1,marker:_7e2,symbol:_7e4};++this._current;if(_7de){_7e5=this.addMixin(_7e5,_7dd,_7de);}if(_7df){_7e5=this.post(_7e5,_7dd);}return _7e5;},skip:function(){++this._current;},addMixin:function(_7e6,_7e7,_7e8,_7e9){if(dojo.isArray(_7e8)){dojo.forEach(_7e8,function(m){_7e6=this.addMixin(_7e6,_7e7,m);},this);}else{var t={};if("color" in _7e8){if(_7e7=="line"||_7e7=="area"){dojo.setObject("series.stroke.color",_7e8.color,t);dojo.setObject("marker.stroke.color",_7e8.color,t);}else{dojo.setObject("series.fill",_7e8.color,t);}}dojo.forEach(["stroke","outline","shadow","fill","font","fontColor","labelWiring"],function(name){var _7ea="marker"+name.charAt(0).toUpperCase()+name.substr(1),b=_7ea in _7e8;if(name in _7e8){dojo.setObject("series."+name,_7e8[name],t);if(!b){dojo.setObject("marker."+name,_7e8[name],t);}}if(b){dojo.setObject("marker."+name,_7e8[_7ea],t);}});if("marker" in _7e8){t.symbol=_7e8.marker;}_7e6=dojox.lang.utils.merge(_7e6,t);}if(_7e9){_7e6=this.post(_7e6,_7e7);}return _7e6;},post:function(_7eb,_7ec){var fill=_7eb.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[fill.space]&&fill.type=="linear"){if(_7ec=="bar"){t={x1:fill.y1,y1:fill.x1,x2:fill.y2,y2:fill.x2};}else{if(!this.noRadialConv&&fill.space=="shape"&&(_7ec=="slice"||_7ec=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dojox.lang.utils.merge(_7eb,{series:{fill:t}});}}return _7eb;},getTick:function(name,_7ed){var tick=this.axis.tick,_7ee=name+"Tick";merge=dojox.lang.utils.merge;if(tick){if(this.axis[_7ee]){tick=merge(tick,this.axis[_7ee]);}}else{tick=this.axis[_7ee];}if(_7ed){if(tick){if(_7ed[_7ee]){tick=merge(tick,_7ed[_7ee]);}}else{tick=_7ed[_7ee];}}return tick;},inspectObjects:function(f){dojo.forEach(["chart","plotarea","axis","series","marker"],function(name){f(this[name]);},this);if(this.seriesThemes){dojo.forEach(this.seriesThemes,f);}if(this.markerThemes){dojo.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dojox.gfx.gradutils.reverse(o.fill);}});},addMarker:function(name,_7ef){this.markers[name]=_7ef;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});dojo.mixin(dojox.charting.Theme,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",titleGap:15,titleFont:"normal normal normal 11pt Tahoma",titleFontColor:"#333",titleOrientation:"axis"},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"}},defineColors:function(_7f0){_7f0=_7f0||{};var c=[],n=_7f0.num||5;if(_7f0.colors){var l=_7f0.colors.length;for(var i=0;i<n;i++){c.push(_7f0.colors[i%l]);}return c;}if(_7f0.hue){var s=_7f0.saturation||100;var st=_7f0.low||30;var end=_7f0.high||90;var l=(end+st)/2;return dojox.color.Palette.generate(dojox.color.fromHsv(_7f0.hue,s,l),"monochromatic").colors;}if(_7f0.generator){return dojox.color.Palette.generate(_7f0.base,_7f0.generator).colors;}return c;},generateGradient:function(_7f1,_7f2,_7f3){var fill=dojo.delegate(_7f1);fill.colors=[{offset:0,color:_7f2},{offset:1,color:_7f3}];return fill;},generateHslColor:function(_7f4,_7f5){_7f4=new dojox.color.Color(_7f4);var hsl=_7f4.toHsl(),_7f6=dojox.color.fromHsl(hsl.h,hsl.s,_7f5);_7f6.a=_7f4.a;return _7f6;},generateHslGradient:function(_7f7,_7f8,_7f9,_7fa){_7f7=new dojox.color.Color(_7f7);var hsl=_7f7.toHsl(),_7fb=dojox.color.fromHsl(hsl.h,hsl.s,_7f9),_7fc=dojox.color.fromHsl(hsl.h,hsl.s,_7fa);_7fb.a=_7fc.a=_7f7.a;return dojox.charting.Theme.generateGradient(_7f8,_7fb,_7fc);}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_7fd,data,_7fe){dojo.mixin(this,_7fe);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(dojo.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;var _7ff=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _800=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return dojo.marginBox(n).w;}};dojo.mixin(dojox.charting.axis2d.common,{createText:{gfx:function(_801,_802,x,y,_803,text,font,_804){return _802.createText({x:x,y:y,text:text,align:_803}).setFont(font).setFill(_804);},html:function(_805,_806,x,y,_807,text,font,_808,_809){var p=dojo.doc.createElement("div"),s=p.style,_80a;_7ff(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_808;s.position="absolute";s.left="-10000px";dojo.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_809){_80a=_800(p);}dojo.body().removeChild(p);s.position="relative";if(_809){s.width=_809+"px";switch(_807){case "middle":s.textAlign="center";s.left=(x-_809/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_809)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_807){case "middle":s.left=Math.floor(x-_80a/2)+"px";break;case "end":s.left=Math.floor(x-_80a)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=dojo.doc.createElement("div"),w=wrap.style;_7ff(w);w.width="0px";w.height="0px";wrap.appendChild(p);_805.node.insertBefore(wrap,_805.node.firstChild);return wrap;}}});})();}if(!dojo._hasResource["dojox.charting.Chart"]){dojo._hasResource["dojox.charting.Chart"]=true;dojo.provide("dojox.charting.Chart");(function(){var df=dojox.lang.functional,dc=dojox.charting,g=dojox.gfx,_80b=df.lambda("item.clear()"),_80c=df.lambda("item.purgeGroup()"),_80d=df.lambda("item.destroy()"),_80e=df.lambda("item.dirty = false"),_80f=df.lambda("item.dirty = true"),_810=df.lambda("item.name");dojo.declare("dojox.charting.Chart",null,{constructor:function(node,_811){if(!_811){_811={};}this.margins=_811.margins?_811.margins:{l:10,t:10,r:10,b:10};this.stroke=_811.stroke;this.fill=_811.fill;this.delayInMs=_811.delayInMs||200;this.title=_811.title;this.titleGap=_811.titleGap;this.titlePos=_811.titlePos;this.titleFont=_811.titleFont;this.titleFontColor=_811.titleFontColor;this.chartTitle=null;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=g.createSurface(this.node,box.w||400,box.h||300);},destroy:function(){dojo.forEach(this.series,_80d);dojo.forEach(this.stack,_80d);df.forIn(this.axes,_80d);if(this.chartTitle&&this.chartTitle.tagName){dojo.destroy(this.chartTitle);}this.surface.destroy();},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_812){this.theme=_812.clone();this.dirty=true;return this;},addAxis:function(name,_813){var axis,_814=_813&&_813.type||"Default";if(typeof _814=="string"){if(!dc.axis2d||!dc.axis2d[_814]){throw Error("Can't find axis: "+_814+" - didn't you forget to dojo"+".require() it?");}axis=new dc.axis2d[_814](this,_813);}else{axis=new _814(this,_813);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_815){var plot,_816=_815&&_815.type||"Default";if(typeof _816=="string"){if(!dc.plot2d||!dc.plot2d[_816]){throw Error("Can't find plot: "+_816+" - didn't you forget to dojo"+".require() it?");}plot=new dc.plot2d[_816](this,_815);}else{plot=new _816(this,_815);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},removePlot:function(name){if(name in this.plots){var _817=this.plots[name];delete this.plots[name];this.stack[_817].destroy();this.stack.splice(_817,1);df.forIn(this.plots,function(idx,name,_818){if(idx>_817){_818[name]=idx-1;}});var ns=dojo.filter(this.series,function(run){return run.plot!=name;});if(ns.length<this.series.length){dojo.forEach(this.series,function(run){if(run.plot==name){run.destroy();}});this.runs={};dojo.forEach(ns,function(run,_819){this.runs[run.plot]=_819;},this);this.series=ns;}this.dirty=true;}return this;},getPlotOrder:function(){return df.map(this.stack,_810);},setPlotOrder:function(_81a){var _81b={},_81c=df.filter(_81a,function(name){if(!(name in this.plots)||(name in _81b)){return false;}_81b[name]=1;return true;},this);if(_81c.length<this.stack.length){df.forEach(this.stack,function(plot){var name=plot.name;if(!(name in _81b)){_81c.push(name);}});}var _81d=df.map(_81c,function(name){return this.stack[this.plots[name]];},this);df.forEach(_81d,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_81d;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var _81e=this.plots[name];if(_81e){var _81f=this.getPlotOrder();_81f.splice(_81e,1);_81f.unshift(name);return this.setPlotOrder(_81f);}}return this;},movePlotToBack:function(name){if(name in this.plots){var _820=this.plots[name];if(_820<this.stack.length-1){var _821=this.getPlotOrder();_821.splice(_820,1);_821.push(name);return this.setPlotOrder(_821);}}return this;},addSeries:function(name,data,_822){var run=new dc.Series(this,data,_822);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},removeSeries:function(name){if(name in this.runs){var _823=this.runs[name];delete this.runs[name];this.series[_823].destroy();this.series.splice(_823,1);df.forIn(this.runs,function(idx,name,runs){if(idx>_823){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},getSeriesOrder:function(_824){return df.map(df.filter(this.series,function(run){return run.plot==_824;}),_810);},setSeriesOrder:function(_825){var _826,_827={},_828=df.filter(_825,function(name){if(!(name in this.runs)||(name in _827)){return false;}var run=this.series[this.runs[name]];if(_826){if(run.plot!=_826){return false;}}else{_826=run.plot;}_827[name]=1;return true;},this);df.forEach(this.series,function(run){var name=run.name;if(!(name in _827)&&run.plot==_826){_828.push(name);}});var _829=df.map(_828,function(name){return this.series[this.runs[name]];},this);this.series=_829.concat(df.filter(this.series,function(run){return run.plot!=_826;}));df.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var _82a=this.runs[name],_82b=this.getSeriesOrder(this.series[_82a].plot);if(name!=_82b[0]){_82b.splice(_82a,1);_82b.unshift(name);return this.setSeriesOrder(_82b);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var _82c=this.runs[name],_82d=this.getSeriesOrder(this.series[_82c].plot);if(name!=_82d[_82d.length-1]){_82d.splice(_82c,1);_82d.push(name);return this.setSeriesOrder(_82d);}}return this;},resize:function(_82e,_82f){var box;switch(arguments.length){case 1:box=dojo.mixin({},_82e);dojo.marginBox(this.node,box);break;case 2:box={w:_82e,h:_82f};dojo.marginBox(this.node,box);break;}box=dojo.marginBox(this.node);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_830,_831,zoom){var axis=this.axes[name];if(axis){axis.setWindow(_830,_831);dojo.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _832,_833,_834=axis.getScaler().bounds,s=_834.span/(_834.upper-_834.lower);if(axis.vertical){_832=sy;_833=dy/s/_832;}else{_832=sx;_833=dx/s/_832;}axis.setWindow(_832,_833);});dojo.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,_835){var axis=this.axes[name];if(axis){var _836,_837,_838=axis.getScaler().bounds;var _839=Math.min(_835[0],_835[1]);var _83a=Math.max(_835[0],_835[1]);_839=_835[0]<_838.lower?_838.lower:_839;_83a=_835[1]>_838.upper?_838.upper:_83a;_836=(_838.upper-_838.lower)/(_83a-_839);_837=_839-_838.lower;this.setAxisWindow(name,_836,_837);this.render();}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var _83b=dojo.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_83c(_83b,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_80b);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){if(!dc.plot2d||!dc.plot2d.Default){throw Error("Can't find plot: Default - didn't you forget to dojo"+".require() it?");}var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=g.normalizedLength(dim.width);dim.height=g.normalizedLength(dim.height);df.forIn(this.axes,_80b);_83c(this.stack,dim);var _83d=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_83d[i]+=o;});});if(this.title){this.titleGap=(this.titleGap==0)?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var _83e=g.normalizedLength(g.splitFontString(this.titleFont).size);_83d[this.titlePos=="top"?"t":"b"]+=(_83e+this.titleGap);}df.forIn(this.margins,function(o,i){_83d[i]+=o;});this.plotArea={width:dim.width-_83d.l-_83d.r,height:dim.height-_83d.t-_83d.b};df.forIn(this.axes,_80b);_83c(this.stack,this.plotArea);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _83f=this.offsets,dim=this.dim,rect;dojo.forEach(this.series,_80c);df.forIn(this.axes,_80c);dojo.forEach(this.stack,_80c);if(this.chartTitle&&this.chartTitle.tagName){dojo.destroy(this.chartTitle);}this.surface.clear();this.chartTitle=null;var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_840=t.plotarea&&t.plotarea.stroke,rect={x:_83f.l-1,y:_83f.t-1,width:dim.width-_83f.l-_83f.r+2,height:dim.height-_83f.t-_83f.b+2};if(fill){fill=dc.Element.prototype._shapeFill(dc.Element.prototype._plotFill(fill,dim,_83f),rect);this.surface.createRect(rect).setFill(fill);}if(_840){this.surface.createRect({x:_83f.l,y:_83f.t,width:dim.width-_83f.l-_83f.r+1,height:dim.height-_83f.t-_83f.b+1}).setStroke(_840);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_83f),0;},0);fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);_840=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){fill=dc.Element.prototype._plotFill(fill,dim,_83f);if(_83f.l){rect={width:_83f.l,height:dim.height+1};this.surface.createRect(rect).setFill(dc.Element.prototype._shapeFill(fill,rect));}if(_83f.r){rect={x:dim.width-_83f.r,width:_83f.r+1,height:dim.height+2};this.surface.createRect(rect).setFill(dc.Element.prototype._shapeFill(fill,rect));}if(_83f.t){rect={width:dim.width+1,height:_83f.t};this.surface.createRect(rect).setFill(dc.Element.prototype._shapeFill(fill,rect));}if(_83f.b){rect={y:dim.height-_83f.b,width:dim.width+1,height:_83f.b+2};this.surface.createRect(rect).setFill(dc.Element.prototype._shapeFill(fill,rect));}}if(_840){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_840);}if(this.title){var _841=(g.renderer=="canvas"),_842=_841||!dojo.isIE&&!dojo.isOpera?"html":"gfx",_843=g.normalizedLength(g.splitFontString(this.titleFont).size);this.chartTitle=dc.axis2d.common.createText[_842](this,this.surface,dim.width/2,this.titlePos=="top"?_843+this.margins.t:dim.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor);}df.forIn(this.axes,function(axis){axis.render(dim,_83f);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(dojo.hitch(this,function(){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_844,_845){return name in this.plots?this.stack[this.plots[name]].connect(_844,_845):null;},fireEvent:function(_846,_847,_848){if(_846 in this.runs){var _849=this.series[this.runs[_846]].plot;if(_849 in this.plots){var plot=this.stack[this.plots[_849]];if(plot){plot.fireEvent(_846,_847,_848);}}}return this;},_makeClean:function(){dojo.forEach(this.axes,_80e);dojo.forEach(this.stack,_80e);dojo.forEach(this.series,_80e);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_80f);dojo.forEach(this.stack,_80f);dojo.forEach(this.series,_80f);this.dirty=true;},_invalidateDependentPlots:function(_84a,_84b){if(_84a in this.plots){var plot=this.stack[this.plots[_84a]],axis,_84c=_84b?"vAxis":"hAxis";if(plot[_84c]){axis=this.axes[plot[_84c]];if(axis&&axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p[_84c]&&p[_84c]==plot[_84c]){p.dirty=true;}});}}else{plot.dirty=true;}}}});function _84d(_84e){return {min:_84e.hmin,max:_84e.hmax};};function _84f(_850){return {min:_850.vmin,max:_850.vmax};};function _851(_852,h){_852.hmin=h.min;_852.hmax=h.max;};function _853(_854,v){_854.vmin=v.min;_854.vmax=v.max;};function _855(_856,_857){if(_856&&_857){_856.min=Math.min(_856.min,_857.min);_856.max=Math.max(_856.max,_857.max);}return _856||_857;};function _83c(_858,_859){var _85a={},axes={};dojo.forEach(_858,function(plot){var _85b=_85a[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_855(axes[plot.hAxis],_84d(_85b));}if(plot.vAxis){axes[plot.vAxis]=_855(axes[plot.vAxis],_84f(_85b));}});dojo.forEach(_858,function(plot){var _85c=_85a[plot.name];if(plot.hAxis){_851(_85c,axes[plot.hAxis]);}if(plot.vAxis){_853(_85c,axes[plot.vAxis]);}plot.initializeScalers(_859,_85c);});};})();}if(!dojo._hasResource["dojox.charting.widget.Chart"]){dojo._hasResource["dojox.charting.widget.Chart"]=true;dojo.provide("dojox.charting.widget.Chart");(function(){var _85d,_85e,_85f,_860,_861,_862=function(o){return o;},df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting,d=dojo;dojo.declare("dojox.charting.widget.Chart",dijit._Widget,{theme:null,margins:null,stroke:null,fill:null,buildRendering:function(){var n=this.domNode=this.srcNodeRef;var axes=d.query("> .axis",n).map(_85e).filter(_862),_863=d.query("> .plot",n).map(_85f).filter(_862),_864=d.query("> .action",n).map(_860).filter(_862),_865=d.query("> .series",n).map(_861).filter(_862);n.innerHTML="";var c=this.chart=new dc.Chart(n,{margins:this.margins,stroke:this.stroke,fill:this.fill});if(this.theme){c.setTheme(this.theme);}axes.forEach(function(axis){c.addAxis(axis.name,axis.kwArgs);});_863.forEach(function(plot){c.addPlot(plot.name,plot.kwArgs);});this.actions=_864.map(function(_866){return new _866.action(c,_866.plot,_866.kwArgs);});var _867=df.foldl(_865,function(_868,_869){if(_869.type=="data"){c.addSeries(_869.name,_869.data,_869.kwArgs);_868=true;}else{c.addSeries(_869.name,[0],_869.kwArgs);var kw={};du.updateWithPattern(kw,_869.kwArgs,{"query":"","queryOptions":null,"start":0,"count":1},true);if(_869.kwArgs.sort){kw.sort=dojo.clone(_869.kwArgs.sort);}d.mixin(kw,{onComplete:function(data){var _86a;if("valueFn" in _869.kwArgs){var fn=_869.kwArgs.valueFn;_86a=d.map(data,function(x){return fn(_869.data.getValue(x,_869.field,0));});}else{_86a=d.map(data,function(x){return _869.data.getValue(x,_869.field,0);});}c.addSeries(_869.name,_86a,_869.kwArgs).render();}});_869.data.fetch(kw);}return _868;},false);if(_867){c.render();}},destroy:function(){this.chart.destroy();this.inherited(arguments);},resize:function(box){this.chart.resize(box);}});_85d=function(node,type,kw){var dp=eval("("+type+".prototype.defaultParams)");var x,attr;for(x in dp){if(x in kw){continue;}attr=node.getAttribute(x);kw[x]=du.coerceType(dp[x],attr==null||typeof attr=="undefined"?dp[x]:attr);}var op=eval("("+type+".prototype.optionalParams)");for(x in op){if(x in kw){continue;}attr=node.getAttribute(x);if(attr!=null){kw[x]=du.coerceType(op[x],attr);}}};_85e=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.axis2d[type]){type=dojox._scopeName+".charting.axis2d."+type;}var axis=eval("("+type+")");if(axis){kw.type=axis;}}else{type=dojox._scopeName+".charting.axis2d.Default";}_85d(node,type,kw);if(kw.font||kw.fontColor){if(!kw.tick){kw.tick={};}if(kw.font){kw.tick.font=kw.font;}if(kw.fontColor){kw.tick.fontColor=kw.fontColor;}}return o;};_85f=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.plot2d&&dc.plot2d[type]){type=dojox._scopeName+".charting.plot2d."+type;}var plot=eval("("+type+")");if(plot){kw.type=plot;}}else{type=dojox._scopeName+".charting.plot2d.Default";}_85d(node,type,kw);return o;};_860=function(node){var plot=node.getAttribute("plot"),type=node.getAttribute("type");if(!plot){plot="default";}var o={plot:plot,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.action2d[type]){type=dojox._scopeName+".charting.action2d."+type;}var _86b=eval("("+type+")");if(!_86b){return null;}o.action=_86b;}else{return null;}_85d(node,type,kw);return o;};_861=function(node){var ga=d.partial(d.attr,node);var name=ga("name");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs,t;t=ga("plot");if(t!=null){kw.plot=t;}t=ga("marker");if(t!=null){kw.marker=t;}t=ga("stroke");if(t!=null){kw.stroke=eval("("+t+")");}t=ga("outline");if(t!=null){kw.outline=eval("("+t+")");}t=ga("shadow");if(t!=null){kw.shadow=eval("("+t+")");}t=ga("fill");if(t!=null){kw.fill=eval("("+t+")");}t=ga("font");if(t!=null){kw.font=t;}t=ga("fontColor");if(t!=null){kw.fontColor=eval("("+t+")");}t=ga("legend");if(t!=null){kw.legend=t;}t=ga("data");if(t!=null){o.type="data";o.data=t?dojo.map(String(t).split(","),Number):[];return o;}t=ga("array");if(t!=null){o.type="data";o.data=eval("("+t+")");return o;}t=ga("store");if(t!=null){o.type="store";o.data=eval("("+t+")");t=ga("field");o.field=t!=null?t:"value";t=ga("query");if(!!t){kw.query=t;}t=ga("queryOptions");if(!!t){kw.queryOptions=eval("("+t+")");}t=ga("start");if(!!t){kw.start=Number(t);}t=ga("count");if(!!t){kw.count=Number(t);}t=ga("sort");if(!!t){kw.sort=eval("("+t+")");}t=ga("valueFn");if(!!t){kw.valueFn=df.lambda(t);}return o;}return null;};})();}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.getObject("fx.easing",true,dojo);dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;function _86c(_86d,end){this.start=_86d,this.end=end;};_86c.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _86e(_86f,end,_870){this.start=_86f,this.end=end;this.units=_870;};_86e.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _871(_872,end){this.start=_872,this.end=end;this.temp=new dojo.Color();};_871.prototype.getValue=function(r){return d.blendColors(this.start,this.end,r,this.temp);};function _873(_874){this.values=_874;this.length=_874.length;};_873.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _875(_876,def){this.values=_876;this.def=def?def:{};};_875.prototype.getValue=function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _877(_878,_879){this.stack=_878;this.original=_879;};_877.prototype.getValue=function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_87a=f.apply(m,val);if(_87a instanceof m.Matrix2D){ret.push(_87a);}},this);return ret;};var _87b=new d.Color(0,0,0,0);function _87c(prop,obj,name,def){if(prop.values){return new _873(prop.values);}var _87d,_87e,end;if(prop.start){_87e=g.normalizeColor(prop.start);}else{_87e=_87d=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_87d){_87d=obj?(name?obj[name]:obj):def;}end=_87d;}return new _871(_87e,end);};function _87f(prop,obj,name,def){if(prop.values){return new _873(prop.values);}var _880,_881,end;if(prop.start){_881=prop.start;}else{_881=_880=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _880!="number"){_880=obj?obj[name]:def;}end=_880;}return new _86c(_881,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_882=args.shape,_883;d.connect(anim,"beforeBegin",anim,function(){_883=_882.getStroke();var prop=args.color,_884={},_885,_886,end;if(prop){_884.color=_87c(prop,_883,"color",_87b);}prop=args.style;if(prop&&prop.values){_884.style=new _873(prop.values);}prop=args.width;if(prop){_884.width=_87f(prop,_883,"width",1);}prop=args.cap;if(prop&&prop.values){_884.cap=new _873(prop.values);}prop=args.join;if(prop){if(prop.values){_884.join=new _873(prop.values);}else{_886=prop.start?prop.start:(_883&&_883.join||0);end=prop.end?prop.end:(_883&&_883.join||0);if(typeof _886=="number"&&typeof end=="number"){_884.join=new _86c(_886,end);}}}this.curve=new _875(_884,_883);});d.connect(anim,"onAnimate",_882,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_887=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_887.getFill();var prop=args.color,_888={};if(prop){this.curve=_87c(prop,fill,"",_87b);}});d.connect(anim,"onAnimate",_887,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_889=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_889.getFont();var prop=args.style,_88a={},_88b,_88c,end;if(prop&&prop.values){_88a.style=new _873(prop.values);}prop=args.variant;if(prop&&prop.values){_88a.variant=new _873(prop.values);}prop=args.weight;if(prop&&prop.values){_88a.weight=new _873(prop.values);}prop=args.family;if(prop&&prop.values){_88a.family=new _873(prop.values);}prop=args.size;if(prop&&prop.units){_88c=parseFloat(prop.start?prop.start:(_889.font&&_889.font.size||"0"));end=parseFloat(prop.end?prop.end:(_889.font&&_889.font.size||"0"));_88a.size=new _86e(_88c,end,prop.units);}this.curve=new _875(_88a,font);});d.connect(anim,"onAnimate",_889,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args),_88d=args.shape,_88e;d.connect(anim,"beforeBegin",anim,function(){_88e=_88d.getTransform();this.curve=new _877(args.transform,_88e);});d.connect(anim,"onAnimate",_88d,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.action2d.Base"]){dojo._hasResource["dojox.charting.action2d.Base"]=true;dojo.provide("dojox.charting.action2d.Base");(function(){var _88f=400,_890=dojo.fx.easing.backOut,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.Base",null,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(_891,plot,_892){this.chart=_891;this.plot=plot||"default";this.anim={};if(!_892){_892={};}this.duration=_892.duration?_892.duration:_88f;this.easing=_892.easing?_892.easing:_890;},connect:function(){this.handle=this.chart.connectToPlot(this.plot,this,"process");},disconnect:function(){if(this.handle){dojo.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){this.disconnect();df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});})();}if(!dojo._hasResource["dojox.charting.action2d.Highlight"]){dojo._hasResource["dojox.charting.action2d.Highlight"]=true;dojo.provide("dojox.charting.action2d.Highlight");(function(){var _893=100,_894=75,_895=50,c=dojox.color,cc=function(_896){return function(){return _896;};},hl=function(_897){var a=new c.Color(_897),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_893;if(x.l<_895){x.l=_894;}else{if(x.l>_894){x.l=_895;}else{x.l=x.l-_895>_894-x.l?_895:_894;}}}return c.fromHsl(x);};dojo.declare("dojox.charting.action2d.Highlight",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut},optionalParams:{highlight:"red"},constructor:function(_898,plot,_899){var a=_899&&_899.highlight;this.colorFun=a?(dojo.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _89a=o.run.name,_89b=o.index,anim,_89c,_89d;if(_89a in this.anim){anim=this.anim[_89a][_89b];}else{this.anim[_89a]={};}if(anim){anim.action.stop(true);}else{var _89e=o.shape.getFill();if(!_89e||!(_89e instanceof dojo.Color)){return;}this.anim[_89a][_89b]=anim={start:_89e,end:this.colorFun(_89e)};}var _89f=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_89f;_89f=end;end=t;}anim.action=dojox.gfx.fx.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:_89f,end:end}});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_89a]){delete this.anim[_89a][_89b];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.charting.action2d.Magnify"]){dojo._hasResource["dojox.charting.action2d.Magnify"]=true;dojo.provide("dojox.charting.action2d.Magnify");(function(){var _8a0=2,m=dojox.gfx.matrix,gf=dojox.gfx.fx;dojo.declare("dojox.charting.action2d.Magnify",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_8a0},optionalParams:{},constructor:function(_8a1,plot,_8a2){this.scale=_8a2&&typeof _8a2.scale=="number"?_8a2.scale:_8a0;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}var _8a3=o.run.name,_8a4=o.index,_8a5=[],anim,init,_8a6;if(_8a3 in this.anim){anim=this.anim[_8a3][_8a4];}else{this.anim[_8a3]={};}if(anim){anim.action.stop(true);}else{this.anim[_8a3][_8a4]=anim={};}if(o.type=="onmouseover"){init=m.identity;_8a6=this.scale;}else{init=m.scaleAt(this.scale,o.cx,o.cy);_8a6=1/this.scale;}var _8a7={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[_8a6,o.cx,o.cy]},init]};if(o.shape){_8a5.push(gf.animateTransform(_8a7));}if(o.oultine){_8a7.shape=o.outline;_8a5.push(gf.animateTransform(_8a7));}if(o.shadow){_8a7.shape=o.shadow;_8a5.push(gf.animateTransform(_8a7));}if(!_8a5.length){delete this.anim[_8a3][_8a4];return;}anim.action=dojo.fx.combine(_8a5);if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_8a3]){delete this.anim[_8a3][_8a4];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.lang.functional.scan"]){dojo._hasResource["dojox.lang.functional.scan"]=true;dojo.provide("dojox.lang.functional.scan");(function(){var d=dojo,df=dojox.lang.functional,_8a8={};d.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,i;if(d.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(i in a){if(!(i in _8a8)){t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,z,_8a9=true;if(d.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(var i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{for(var i in a){if(!(i in _8a8)){if(_8a9){t=[z=a[i]];_8a9=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n+1),i=n;t[n]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1],i=n-1;t[i]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});})();}if(!dojo._hasResource["dojox.charting.action2d.MoveSlice"]){dojo._hasResource["dojox.charting.action2d.MoveSlice"]=true;dojo.provide("dojox.charting.action2d.MoveSlice");(function(){var _8aa=1.05,_8ab=7,m=dojox.gfx.matrix,gf=dojox.gfx.fx,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.MoveSlice",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_8aa,shift:_8ab},optionalParams:{},constructor:function(_8ac,plot,_8ad){if(!_8ad){_8ad={};}this.scale=typeof _8ad.scale=="number"?_8ad.scale:_8aa;this.shift=typeof _8ad.shift=="number"?_8ad.shift:_8ab;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){var _8ae=m._degToRad(o.plot.opt.startAngle);if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",_8ae),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",_8ae),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _8af=o.index,anim,_8b0,_8b1,_8b2,_8b3,_8b4=(this.angles[_8af]+this.angles[_8af+1])/2,_8b5=m.rotateAt(-_8b4,o.cx,o.cy),_8b6=m.rotateAt(_8b4,o.cx,o.cy);anim=this.anim[_8af];if(anim){anim.action.stop(true);}else{this.anim[_8af]=anim={};}if(o.type=="onmouseover"){_8b2=0;_8b3=this.shift;_8b0=1;_8b1=this.scale;}else{_8b2=this.shift;_8b3=0;_8b0=this.scale;_8b1=1;}anim.action=dojox.gfx.fx.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_8b6,{name:"translate",start:[_8b2,0],end:[_8b3,0]},{name:"scaleAt",start:[_8b0,o.cx,o.cy],end:[_8b1,o.cx,o.cy]},_8b5]});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){delete this.anim[_8af];});}anim.action.play();},reset:function(){delete this.angles;}});})();}if(!dojo._hasResource["dojox.charting.action2d.Shake"]){dojo._hasResource["dojox.charting.action2d.Shake"]=true;dojo.provide("dojox.charting.action2d.Shake");(function(){var _8b7=3,m=dojox.gfx.matrix,gf=dojox.gfx.fx;dojo.declare("dojox.charting.action2d.Shake",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,shiftX:_8b7,shiftY:_8b7},optionalParams:{},constructor:function(_8b8,plot,_8b9){if(!_8b9){_8b9={};}this.shiftX=typeof _8b9.shiftX=="number"?_8b9.shiftX:_8b7;this.shiftY=typeof _8b9.shiftY=="number"?_8b9.shiftY:_8b7;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _8ba=o.run.name,_8bb=o.index,_8bc=[],anim,_8bd=o.type=="onmouseover"?this.shiftX:-this.shiftX,_8be=o.type=="onmouseover"?this.shiftY:-this.shiftY;if(_8ba in this.anim){anim=this.anim[_8ba][_8bb];}else{this.anim[_8ba]={};}if(anim){anim.action.stop(true);}else{this.anim[_8ba][_8bb]=anim={};}var _8bf={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"translate",start:[this.shiftX,this.shiftY],end:[0,0]},m.identity]};if(o.shape){_8bc.push(gf.animateTransform(_8bf));}if(o.oultine){_8bf.shape=o.outline;_8bc.push(gf.animateTransform(_8bf));}if(o.shadow){_8bf.shape=o.shadow;_8bc.push(gf.animateTransform(_8bf));}if(!_8bc.length){delete this.anim[_8ba][_8bb];return;}anim.action=dojo.fx.combine(_8bc);if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_8ba]){delete this.anim[_8ba][_8bb];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.charting.action2d.Tooltip"]){dojo._hasResource["dojox.charting.action2d.Tooltip"]=true;dojo.provide("dojox.charting.action2d.Tooltip");(function(){var _8c0=function(o){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t!="number"&&(t.tooltip||t.text)){return t.tooltip||t.text;}if(o.element=="candlestick"){return "<table cellpadding=\"1\" cellspacing=\"0\" border=\"0\" style=\"font-size:0.9em;\">"+"<tr><td>Open:</td><td align=\"right\"><strong>"+o.data.open+"</strong></td></tr>"+"<tr><td>High:</td><td align=\"right\"><strong>"+o.data.high+"</strong></td></tr>"+"<tr><td>Low:</td><td align=\"right\"><strong>"+o.data.low+"</strong></td></tr>"+"<tr><td>Close:</td><td align=\"right\"><strong>"+o.data.close+"</strong></td></tr>"+(o.data.mid!==undefined?"<tr><td>Mid:</td><td align=\"right\"><strong>"+o.data.mid+"</strong></td></tr>":"")+"</table>";}return o.element=="bar"?o.x:o.y;};var df=dojox.lang.functional,m=dojox.gfx.matrix,pi4=Math.PI/4,pi2=Math.PI/2;dojo.declare("dojox.charting.action2d.Tooltip",dojox.charting.action2d.Base,{defaultParams:{text:_8c0},optionalParams:{},constructor:function(_8c1,plot,_8c2){this.text=_8c2&&_8c2.text?_8c2.text:_8c0;this.connect();},process:function(o){if(o.type==="onplotreset"||o.type==="onmouseout"){dijit.hideTooltip(this.aroundRect);this.aroundRect=null;if(o.type==="onplotreset"){delete this.angles;}return;}if(!o.shape||o.type!=="onmouseover"){return;}var _8c3={type:"rect"},_8c4=["after","before"];switch(o.element){case "marker":_8c3.x=o.cx;_8c3.y=o.cy;_8c3.width=_8c3.height=1;break;case "circle":_8c3.x=o.cx-o.cr;_8c3.y=o.cy-o.cr;_8c3.width=_8c3.height=2*o.cr;break;case "column":_8c4=["above","below"];case "bar":_8c3=dojo.clone(o.shape.getShape());break;case "candlestick":_8c3.x=o.x;_8c3.y=o.y;_8c3.width=o.width;_8c3.height=o.height;break;default:if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _8c5=m._degToRad(o.plot.opt.startAngle),_8c6=(this.angles[o.index]+this.angles[o.index+1])/2+_8c5;_8c3.x=o.cx+o.cr*Math.cos(_8c6);_8c3.y=o.cy+o.cr*Math.sin(_8c6);_8c3.width=_8c3.height=1;if(_8c6<pi4){}else{if(_8c6<pi2+pi4){_8c4=["below","above"];}else{if(_8c6<Math.PI+pi4){_8c4=["before","after"];}else{if(_8c6<2*Math.PI-pi4){_8c4=["above","below"];}}}}break;}var lt=dojo.coords(this.chart.node,true);_8c3.x+=lt.x;_8c3.y+=lt.y;_8c3.x=Math.round(_8c3.x);_8c3.y=Math.round(_8c3.y);_8c3.width=Math.ceil(_8c3.width);_8c3.height=Math.ceil(_8c3.height);this.aroundRect=_8c3;var _8c7=this.text(o);if(_8c7){dijit.showTooltip(_8c7,this.aroundRect,_8c4);}}});})();}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_8c8,_8c9,_8ca){var def="";if(dojo.number){def=(_8ca.fixed?dojo.number.format(_8c8,{places:_8c9<0?-_8c9:0}):dojo.number.format(_8c8))||"";}else{def=_8ca.fixed?_8c8.toFixed(_8c9<0?-_8c9:0):_8c8.toString();}if(_8ca.labelFunc){var r=_8ca.labelFunc(def,_8c8,_8c9);if(r){return r;}}if(_8ca.labels){var l=_8ca.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_8c8){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_8c8)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_8c8)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_8c8)){return l[lo].text;}}return def;}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _8cb=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_8cc=dcsc.findString,_8cd=dcsc.getNumericLabel;var _8ce=function(min,max,_8cf,_8d0,_8d1,_8d2,span){_8cf=dojo.delegate(_8cf);if(!_8d0){if(_8cf.fixUpper=="major"){_8cf.fixUpper="minor";}if(_8cf.fixLower=="major"){_8cf.fixLower="minor";}}if(!_8d1){if(_8cf.fixUpper=="minor"){_8cf.fixUpper="micro";}if(_8cf.fixLower=="minor"){_8cf.fixLower="micro";}}if(!_8d2){if(_8cf.fixUpper=="micro"){_8cf.fixUpper="none";}if(_8cf.fixLower=="micro"){_8cf.fixLower="none";}}var _8d3=_8cc(_8cf.fixLower,["major"])?Math.floor(_8cf.min/_8d0)*_8d0:_8cc(_8cf.fixLower,["minor"])?Math.floor(_8cf.min/_8d1)*_8d1:_8cc(_8cf.fixLower,["micro"])?Math.floor(_8cf.min/_8d2)*_8d2:_8cf.min,_8d4=_8cc(_8cf.fixUpper,["major"])?Math.ceil(_8cf.max/_8d0)*_8d0:_8cc(_8cf.fixUpper,["minor"])?Math.ceil(_8cf.max/_8d1)*_8d1:_8cc(_8cf.fixUpper,["micro"])?Math.ceil(_8cf.max/_8d2)*_8d2:_8cf.max;if(_8cf.useMin){min=_8d3;}if(_8cf.useMax){max=_8d4;}var _8d5=(!_8d0||_8cf.useMin&&_8cc(_8cf.fixLower,["major"]))?min:Math.ceil(min/_8d0)*_8d0,_8d6=(!_8d1||_8cf.useMin&&_8cc(_8cf.fixLower,["major","minor"]))?min:Math.ceil(min/_8d1)*_8d1,_8d7=(!_8d2||_8cf.useMin&&_8cc(_8cf.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_8d2)*_8d2,_8d8=!_8d0?0:(_8cf.useMax&&_8cc(_8cf.fixUpper,["major"])?Math.round((max-_8d5)/_8d0):Math.floor((max-_8d5)/_8d0))+1,_8d9=!_8d1?0:(_8cf.useMax&&_8cc(_8cf.fixUpper,["major","minor"])?Math.round((max-_8d6)/_8d1):Math.floor((max-_8d6)/_8d1))+1,_8da=!_8d2?0:(_8cf.useMax&&_8cc(_8cf.fixUpper,["major","minor","micro"])?Math.round((max-_8d7)/_8d2):Math.floor((max-_8d7)/_8d2))+1,_8db=_8d1?Math.round(_8d0/_8d1):0,_8dc=_8d2?Math.round(_8d1/_8d2):0,_8dd=_8d0?Math.floor(Math.log(_8d0)/Math.LN10):0,_8de=_8d1?Math.floor(Math.log(_8d1)/Math.LN10):0,_8df=span/(max-min);if(!isFinite(_8df)){_8df=1;}return {bounds:{lower:_8d3,upper:_8d4,from:min,to:max,scale:_8df,span:span},major:{tick:_8d0,start:_8d5,count:_8d8,prec:_8dd},minor:{tick:_8d1,start:_8d6,count:_8d9,prec:_8de},micro:{tick:_8d2,start:_8d7,count:_8da,prec:0},minorPerMajor:_8db,microPerMinor:_8dc,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,span,_8e0){var h={fixUpper:"none",fixLower:"none",natural:false};if(_8e0){if("fixUpper" in _8e0){h.fixUpper=String(_8e0.fixUpper);}if("fixLower" in _8e0){h.fixLower=String(_8e0.fixLower);}if("natural" in _8e0){h.natural=Boolean(_8e0.natural);}}if("min" in _8e0){min=_8e0.min;}if("max" in _8e0){max=_8e0.max;}if(_8e0.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _8e0){min=_8e0.from;h.useMin=false;}if("to" in _8e0){max=_8e0.to;h.useMax=false;}if(max<=min){return _8ce(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_8e1=_8e0&&("majorTickStep" in _8e0)?_8e0.majorTickStep:Math.pow(10,mag),_8e2=0,_8e3=0,_8e4;if(_8e0&&("minorTickStep" in _8e0)){_8e2=_8e0.minorTickStep;}else{do{_8e2=_8e1/10;if(!h.natural||_8e2>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,0,span);if(_8e4.bounds.scale*_8e4.minor.tick>_8cb){break;}}_8e2=_8e1/5;if(!h.natural||_8e2>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,0,span);if(_8e4.bounds.scale*_8e4.minor.tick>_8cb){break;}}_8e2=_8e1/2;if(!h.natural||_8e2>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,0,span);if(_8e4.bounds.scale*_8e4.minor.tick>_8cb){break;}}return _8ce(min,max,h,_8e1,0,0,span);}while(false);}if(_8e0&&("microTickStep" in _8e0)){_8e3=_8e0.microTickStep;_8e4=_8ce(min,max,h,_8e1,_8e2,_8e3,span);}else{do{_8e3=_8e2/10;if(!h.natural||_8e3>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,_8e3,span);if(_8e4.bounds.scale*_8e4.micro.tick>_8cb){break;}}_8e3=_8e2/5;if(!h.natural||_8e3>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,_8e3,span);if(_8e4.bounds.scale*_8e4.micro.tick>_8cb){break;}}_8e3=_8e2/2;if(!h.natural||_8e3>0.9){_8e4=_8ce(min,max,h,_8e1,_8e2,_8e3,span);if(_8e4.bounds.scale*_8e4.micro.tick>_8cb){break;}}_8e3=0;}while(false);}return _8e3?_8e4:_8ce(min,max,h,_8e1,_8e2,0,span);},buildTicks:function(_8e5,_8e6){var step,next,tick,_8e7=_8e5.major.start,_8e8=_8e5.minor.start,_8e9=_8e5.micro.start;if(_8e6.microTicks&&_8e5.micro.tick){step=_8e5.micro.tick,next=_8e9;}else{if(_8e6.minorTicks&&_8e5.minor.tick){step=_8e5.minor.tick,next=_8e8;}else{if(_8e5.major.tick){step=_8e5.major.tick,next=_8e7;}else{return null;}}}var _8ea=1/_8e5.bounds.scale;if(_8e5.bounds.to<=_8e5.bounds.from||isNaN(_8ea)||!isFinite(_8ea)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _8eb=[],_8ec=[],_8ed=[];while(next<=_8e5.bounds.to+_8ea){if(Math.abs(_8e7-next)<step/2){tick={value:_8e7};if(_8e6.majorLabels){tick.label=_8cd(_8e7,_8e5.major.prec,_8e6);}_8eb.push(tick);_8e7+=_8e5.major.tick;_8e8+=_8e5.minor.tick;_8e9+=_8e5.micro.tick;}else{if(Math.abs(_8e8-next)<step/2){if(_8e6.minorTicks){tick={value:_8e8};if(_8e6.minorLabels&&(_8e5.minMinorStep<=_8e5.minor.tick*_8e5.bounds.scale)){tick.label=_8cd(_8e8,_8e5.minor.prec,_8e6);}_8ec.push(tick);}_8e8+=_8e5.minor.tick;_8e9+=_8e5.micro.tick;}else{if(_8e6.microTicks){_8ed.push({value:_8e9});}_8e9+=_8e5.micro.tick;}}next+=step;}return {major:_8eb,minor:_8ec,micro:_8ed};},getTransformerFromModel:function(_8ee){var _8ef=_8ee.bounds.from,_8f0=_8ee.bounds.scale;return function(x){return (x-_8ef)*_8f0;};},getTransformerFromPlot:function(_8f1){var _8f2=_8f1.bounds.from,_8f3=_8f1.bounds.scale;return function(x){return x/_8f3+_8f2;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_8f4,_8f5){this.vertical=_8f5&&_8f5.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_8f6){this.dirty=false;return this;}});}if(!dojo._hasResource["dojox.charting.axis2d.Invisible"]){dojo._hasResource["dojox.charting.axis2d.Invisible"]=true;dojo.provide("dojox.charting.axis2d.Invisible");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_8f7=du.merge,_8f8=4,_8f9=45;dojo.declare("dojox.charting.axis2d.Invisible",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null},constructor:function(_8fa,_8fb){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_8fb);du.updateWithPattern(this.opt,_8fb,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_8fc,_8fd){this.scale=_8fc;this.offset=_8fd;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},_groupLabelWidth:function(_8fe,font,_8ff){if(!_8fe.length){return 0;}if(dojo.isObject(_8fe[0])){_8fe=df.map(_8fe,function(_900){return _900.text;});}if(_8ff){_8fe=df.map(_8fe,function(_901){return dojo.trim(_901).length==0?"":_901.substring(0,_8ff)+this.trailingSymbol;},this);}var s=_8fe.join("<br>");return dojox.gfx._base._getTextBox(s,{font:font}).w||0;},calculate:function(min,max,span,_902){if(this.initialized()){return this;}var o=this.opt;this.labels="labels" in o?o.labels:_902;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var ta=this.chart.theme.axis,_903=0,_904=o.rotation%360,_905=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=_905?g.normalizedLength(g.splitFontString(_905).size):0,cosr=Math.abs(Math.cos(_904*Math.PI/180)),sinr=Math.abs(Math.sin(_904*Math.PI/180));if(_904<0){_904+=360;}if(size){if(this.vertical?_904!=0&&_904!=180:_904!=90&&_904!=270){if(this.labels){_903=this._groupLabelWidth(this.labels,_905,o.maxLabelCharCount);}else{var _906=Math.ceil(Math.log(Math.max(Math.abs(tsb.from),Math.abs(tsb.to)))/Math.LN10),t=[];if(tsb.from<0||tsb.to<0){t.push("-");}t.push(dojo.string.rep("9",_906));var _907=Math.floor(Math.log(tsb.to-tsb.from)/Math.LN10);if(_907>0){t.push(".");t.push(dojo.string.rep("9",_907));}_903=dojox.gfx._base._getTextBox(t.join(""),{font:_905}).w;}_903=o.maxLabelSize?Math.min(o.maxLabelSize,_903):_903;}else{_903=size;}switch(_904){case 0:case 90:case 180:case 270:break;default:var gap1=Math.sqrt(_903*_903+size*size),gap2=this.vertical?size*cosr+_903*sinr:_903*cosr+size*sinr;_903=Math.min(gap1,gap2);break;}}this.scaler.minMinorStep=_903+_8f8;this.ticks=lin.buildTicks(this.scaler,o);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_908=4,_909=45;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Invisible,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(_90a,_90b){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_90b);du.updateWithPattern(this.opt,_90b,this.optionalParams);},getOffsets:function(){var s=this.scaler,_90c={l:0,r:0,t:0,b:0};if(!s){return _90c;}var o=this.opt,_90d=0,a,b,c,d,gl=dc.scaler.common.getNumericLabel,_90e=0,ma=s.major,mi=s.minor,ta=this.chart.theme.axis,_90f=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_910=o.titleFont||(ta.tick&&ta.tick.titleFont),_911=(o.titleGap==0)?0:o.titleGap||(ta.tick&&ta.tick.titleGap)||15,_912=this.chart.theme.getTick("major",o),_913=this.chart.theme.getTick("minor",o),size=_90f?g.normalizedLength(g.splitFontString(_90f).size):0,_914=_910?g.normalizedLength(g.splitFontString(_910).size):0,_915=o.rotation%360,_916=o.leftBottom,cosr=Math.abs(Math.cos(_915*Math.PI/180)),sinr=Math.abs(Math.sin(_915*Math.PI/180));this.trailingSymbol=(o.trailingSymbol===undefined||o.trailingSymbol===null)?this.trailingSymbol:o.trailingSymbol;if(_915<0){_915+=360;}if(size){if(this.labels){_90d=this._groupLabelWidth(this.labels,_90f,o.maxLabelCharCount);}else{_90d=this._groupLabelWidth([gl(ma.start,ma.prec,o),gl(ma.start+ma.count*ma.tick,ma.prec,o),gl(mi.start,mi.prec,o),gl(mi.start+mi.count*mi.tick,mi.prec,o)],_90f,o.maxLabelCharCount);}_90d=o.maxLabelSize?Math.min(o.maxLabelSize,_90d):_90d;if(this.vertical){var side=_916?"l":"r";switch(_915){case 0:case 180:_90c[side]=_90d;_90c.t=_90c.b=size/2;break;case 90:case 270:_90c[side]=size;_90c.t=_90c.b=_90d/2;break;default:if(_915<=_909||(180<_915&&_915<=(180+_909))){_90c[side]=size*sinr/2+_90d*cosr;_90c[_916?"t":"b"]=size*cosr/2+_90d*sinr;_90c[_916?"b":"t"]=size*cosr/2;}else{if(_915>(360-_909)||(180>_915&&_915>(180-_909))){_90c[side]=size*sinr/2+_90d*cosr;_90c[_916?"b":"t"]=size*cosr/2+_90d*sinr;_90c[_916?"t":"b"]=size*cosr/2;}else{if(_915<90||(180<_915&&_915<270)){_90c[side]=size*sinr+_90d*cosr;_90c[_916?"t":"b"]=size*cosr+_90d*sinr;}else{_90c[side]=size*sinr+_90d*cosr;_90c[_916?"b":"t"]=size*cosr+_90d*sinr;}}}break;}_90c[side]+=_908+Math.max(_912.length,_913.length)+(o.title?(_914+_911):0);}else{var side=_916?"b":"t";switch(_915){case 0:case 180:_90c[side]=size;_90c.l=_90c.r=_90d/2;break;case 90:case 270:_90c[side]=_90d;_90c.l=_90c.r=size/2;break;default:if((90-_909)<=_915&&_915<=90||(270-_909)<=_915&&_915<=270){_90c[side]=size*sinr/2+_90d*cosr;_90c[_916?"r":"l"]=size*cosr/2+_90d*sinr;_90c[_916?"l":"r"]=size*cosr/2;}else{if(90<=_915&&_915<=(90+_909)||270<=_915&&_915<=(270+_909)){_90c[side]=size*sinr/2+_90d*cosr;_90c[_916?"l":"r"]=size*cosr/2+_90d*sinr;_90c[_916?"r":"l"]=size*cosr/2;}else{if(_915<_909||(180<_915&&_915<(180-_909))){_90c[side]=size*sinr+_90d*cosr;_90c[_916?"r":"l"]=size*cosr+_90d*sinr;}else{_90c[side]=size*sinr+_90d*cosr;_90c[_916?"l":"r"]=size*cosr+_90d*sinr;}}}break;}_90c[side]+=_908+Math.max(_912.length,_913.length)+(o.title?(_914+_911):0);}}if(_90d){this._cachedLabelWidth=_90d;}return _90c;},render:function(dim,_917){if(!this.dirty){return this;}var o=this.opt,ta=this.chart.theme.axis,_918=o.leftBottom,_919=o.rotation%360,_91a,stop,_91b,_91c=0,_91d,_91e,_91f,_920,_921,_922,_923=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_924=o.titleFont||(ta.tick&&ta.tick.titleFont),_925=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_926=o.titleFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_927=(o.titleGap==0)?0:o.titleGap||(ta.tick&&ta.tick.titleGap)||15,_928=o.titleOrientation||(ta.tick&&ta.tick.titleOrientation)||"axis",_929=this.chart.theme.getTick("major",o),_92a=this.chart.theme.getTick("minor",o),_92b=this.chart.theme.getTick("micro",o),_92c=Math.max(_929.length,_92a.length,_92b.length),_92d="stroke" in o?o.stroke:ta.stroke,size=_923?g.normalizedLength(g.splitFontString(_923).size):0,cosr=Math.abs(Math.cos(_919*Math.PI/180)),sinr=Math.abs(Math.sin(_919*Math.PI/180)),_92e=_924?g.normalizedLength(g.splitFontString(_924).size):0;if(_919<0){_919+=360;}if(this.vertical){_91a={y:dim.height-_917.b};stop={y:_917.t};_91b={y:(dim.height-_917.b+_917.t)/2};_91d=size*sinr+(this._cachedLabelWidth||0)*cosr+_908+Math.max(_929.length,_92a.length)+_92e+_927;_91e={x:0,y:-1};_921={x:0,y:0};_91f={x:1,y:0};_920={x:_908,y:0};switch(_919){case 0:_922="end";_921.y=size*0.4;break;case 90:_922="middle";_921.x=-size;break;case 180:_922="start";_921.y=-size*0.4;break;case 270:_922="middle";break;default:if(_919<_909){_922="end";_921.y=size*0.4;}else{if(_919<90){_922="end";_921.y=size*0.4;}else{if(_919<(180-_909)){_922="start";}else{if(_919<(180+_909)){_922="start";_921.y=-size*0.4;}else{if(_919<270){_922="start";_921.x=_918?0:size*0.4;}else{if(_919<(360-_909)){_922="end";_921.x=_918?0:size*0.4;}else{_922="end";_921.y=size*0.4;}}}}}}}if(_918){_91a.x=stop.x=_917.l;_91c=(_928&&_928=="away")?90:270;_91b.x=_917.l-_91d+(_91c==270?_92e:0);_91f.x=-1;_920.x=-_920.x;}else{_91a.x=stop.x=dim.width-_917.r;_91c=(_928&&_928=="axis")?90:270;_91b.x=dim.width-_917.r+_91d-(_91c==270?0:_92e);switch(_922){case "start":_922="end";break;case "end":_922="start";break;case "middle":_921.x+=size;break;}}}else{_91a={x:_917.l};stop={x:dim.width-_917.r};_91b={x:(dim.width-_917.r+_917.l)/2};_91d=size*cosr+(this._cachedLabelWidth||0)*sinr+_908+Math.max(_929.length,_92a.length)+_92e+_927;_91e={x:1,y:0};_921={x:0,y:0};_91f={x:0,y:1};_920={x:0,y:_908};switch(_919){case 0:_922="middle";_921.y=size;break;case 90:_922="start";_921.x=-size*0.4;break;case 180:_922="middle";break;case 270:_922="end";_921.x=size*0.4;break;default:if(_919<(90-_909)){_922="start";_921.y=_918?size:0;}else{if(_919<(90+_909)){_922="start";_921.x=-size*0.4;}else{if(_919<180){_922="start";_921.y=_918?0:-size;}else{if(_919<(270-_909)){_922="end";_921.y=_918?0:-size;}else{if(_919<(270+_909)){_922="end";_921.y=_918?size*0.4:0;}else{_922="end";_921.y=_918?size:0;}}}}}}if(_918){_91a.y=stop.y=dim.height-_917.b;_91c=(_928&&_928=="axis")?180:0;_91b.y=dim.height-_917.b+_91d-(_91c?_92e:0);}else{_91a.y=stop.y=_917.t;_91c=(_928&&_928=="away")?180:0;_91b.y=_917.t-_91d+(_91c?0:_92e);_91f.y=-1;_920.y=-_920.y;switch(_922){case "start":_922="end";break;case "end":_922="start";break;case "middle":_921.y-=size;break;}}}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_92f,f=lin.getTransformerFromModel(this.scaler),_930=!_91c&&!_919&&this.opt.htmlLabels&&!dojo.isIE&&!dojo.isOpera?"html":"gfx",dx=_91f.x*_929.length,dy=_91f.y*_929.length;s.createLine({x1:_91a.x,y1:_91a.y,x2:stop.x,y2:stop.y}).setStroke(_92d);if(o.title){var _931=dc.axis2d.common.createText[_930](this.chart,s,_91b.x,_91b.y,"middle",o.title,_924,_926);if(_930=="html"){this.htmlElements.push(_931);}else{_931.setTransform(g.matrix.rotategAt(_91c,_91b.x,_91b.y));}}dojo.forEach(t.major,function(tick){var _932=f(tick.value),elem,x=_91a.x+_91e.x*_932,y=_91a.y+_91e.y*_932;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_929);if(tick.label){var _933=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_923,o.maxLabelCharCount):{text:tick.label,truncated:false};_933=o.maxLabelSize?this.getTextWithLimitLength(_933.text,_923,o.maxLabelSize,_933.truncated):_933;elem=dc.axis2d.common.createText[_930](this.chart,s,x+dx+_920.x+(_919?0:_921.x),y+dy+_920.y+(_919?0:_921.y),_922,_933.text,_923,_925);_933.truncated&&this.labelTooltip(elem,this.chart,tick.label,_933.text,_923,_930);if(_930=="html"){this.htmlElements.push(elem);}else{if(_919){elem.setTransform([{dx:_921.x,dy:_921.y},g.matrix.rotategAt(_919,x+dx+_920.x,y+dy+_920.y)]);}}}},this);dx=_91f.x*_92a.length;dy=_91f.y*_92a.length;_92f=c.minMinorStep<=c.minor.tick*c.bounds.scale;dojo.forEach(t.minor,function(tick){var _934=f(tick.value),elem,x=_91a.x+_91e.x*_934,y=_91a.y+_91e.y*_934;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_92a);if(_92f&&tick.label){var _935=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_923,o.maxLabelCharCount):{text:tick.label,truncated:false};_935=o.maxLabelSize?this.getTextWithLimitLength(_935.text,_923,o.maxLabelSize,_935.truncated):_935;elem=dc.axis2d.common.createText[_930](this.chart,s,x+dx+_920.x+(_919?0:_921.x),y+dy+_920.y+(_919?0:_921.y),_922,_935.text,_923,_925);_935.truncated&&this.labelTooltip(elem,this.chart,tick.label,_935.text,_923,_930);if(_930=="html"){this.htmlElements.push(elem);}else{if(_919){elem.setTransform([{dx:_921.x,dy:_921.y},g.matrix.rotategAt(_919,x+dx+_920.x,y+dy+_920.y)]);}}}},this);dx=_91f.x*_92b.length;dy=_91f.y*_92b.length;dojo.forEach(t.micro,function(tick){var _936=f(tick.value),elem,x=_91a.x+_91e.x*_936,y=_91a.y+_91e.y*_936;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_92b);},this);}catch(e){}this.dirty=false;return this;},labelTooltip:function(elem,_937,_938,_939,font,_93a){if(!dijit||!dijit.Tooltip){return;}var _93b={type:"rect"},_93c=["above","below"],_93d=dojox.gfx._base._getTextBox(_939,{font:font}).w||0;fontHeight=font?g.normalizedLength(g.splitFontString(font).size):0;if(_93a=="html"){dojo.mixin(_93b,dojo.coords(elem.firstChild,true));_93b.width=Math.ceil(_93d);_93b.height=Math.ceil(fontHeight);this._events.push({shape:dojo,handle:dojo.connect(elem.firstChild,"onmouseover",this,function(e){dijit.showTooltip(_938,_93b,_93c);})});this._events.push({shape:dojo,handle:dojo.connect(elem.firstChild,"onmouseout",this,function(e){dijit.hideTooltip(_93b);})});}else{var shp=elem.getShape(),lt=dojo.coords(_937.node,true);_93b=dojo.mixin(_93b,{x:shp.x-_93d/2,y:shp.y});_93b.x+=lt.x;_93b.y+=lt.y;_93b.x=Math.round(_93b.x);_93b.y=Math.round(_93b.y);_93b.width=Math.ceil(_93d);_93b.height=Math.ceil(fontHeight);this._events.push({shape:elem,handle:elem.connect("onmouseenter",this,function(e){dijit.showTooltip(_938,_93b,_93c);})});this._events.push({shape:elem,handle:elem.connect("onmouseleave",this,function(e){dijit.hideTooltip(_93b);})});}}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_93e){if(!_93e){return _93e;}if(typeof _93e=="string"||_93e instanceof dojo.Color){_93e={color:_93e};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_93e);},augmentColor:function(_93f,_940){var t=new dojo.Color(_93f),c=new dojo.Color(_940);c.a=t.a;return c;},augmentStroke:function(_941,_942){var s=dc.makeStroke(_941);if(s){s.color=dc.augmentColor(s.color,_942);}return s;},augmentFill:function(fill,_943){var fc,c=new dojo.Color(_943);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_943);}return fill;},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_944){var _945=dojo.delegate(dc.defaultStats);for(var i=0;i<_944.length;++i){var run=_944[i];for(var j=0;j<run.data.length;j++){if(run.data[j]!==null){if(typeof run.data[j]=="number"){var _946=_945.vmin,_947=_945.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){if(val!==null){var x=i+1,y=val;if(isNaN(y)){y=0;}_945.hmin=Math.min(_945.hmin,x);_945.hmax=Math.max(_945.hmax,x);_945.vmin=Math.min(_945.vmin,y);_945.vmax=Math.max(_945.vmax,y);}});}if("ymin" in run){_945.vmin=Math.min(_946,run.ymin);}if("ymax" in run){_945.vmax=Math.max(_947,run.ymax);}}else{var _948=_945.hmin,_949=_945.hmax,_946=_945.vmin,_947=_945.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){if(val!==null){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_945.hmin=Math.min(_945.hmin,x);_945.hmax=Math.max(_945.hmax,x);_945.vmin=Math.min(_945.vmin,y);_945.vmax=Math.max(_945.vmax,y);}});}if("xmin" in run){_945.hmin=Math.min(_948,run.xmin);}if("xmax" in run){_945.hmax=Math.max(_949,run.xmax);}if("ymin" in run){_945.vmin=Math.min(_946,run.ymin);}if("ymax" in run){_945.vmax=Math.max(_947,run.ymax);}}break;}}}return _945;},calculateBarSize:function(_94a,opt,_94b){if(!_94b){_94b=1;}var gap=opt.gap,size=(_94a-2*gap)/_94b;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_94a-size*_94b)/2;return {size:size,gap:gap};},collectStackedStats:function(_94c){var _94d=dojo.clone(dc.defaultStats);if(_94c.length){_94d.hmin=Math.min(_94d.hmin,1);_94d.hmax=df.foldl(_94c,"seed, run -> Math.max(seed, run.data.length)",_94d.hmax);for(var i=0;i<_94d.hmax;++i){var v=_94c[0].data[i];v=v&&(typeof v=="number"?v:v.y);if(isNaN(v)){v=0;}_94d.vmin=Math.min(_94d.vmin,v);for(var j=1;j<_94c.length;++j){var t=_94c[j].data[i];t=t&&(typeof t=="number"?t:t.y);if(isNaN(t)){t=0;}v+=t;}_94d.vmax=Math.max(_94d.vmax,v);}}return _94d;},curve:function(a,_94e){var arr=a.slice(0);if(_94e=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_94e)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_94e-1)*(dx/_94e))+","+dy+" "+(item.x-(dx/_94e))+","+item.y+" "+item.x+","+item.y;}else{if(_94e=="X"||_94e=="x"||_94e=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_94e=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_94e=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _94f=p0p2*f;var _950=p1p3*f;if(_94f>p1p2/2&&_950>p1p2/2){_94f=p1p2/2;_950=p1p2/2;}else{if(_94f>p1p2/2){_94f=p1p2/2;_950=p1p2/2*p1p3/p0p2;}else{if(_950>p1p2/2){_950=p1p2/2;_94f=p1p2/2*p0p2/p1p3;}}}if(_94e=="S"){if(p0==p1){_94f=0;}if(p2==p3){_950=0;}}bz1x=p1.x+_94f*(p2.x-p0.x)/p0p2;bz1y=p1.y+_94f*(p2.y-p0.y)/p0p2;bz2x=p2.x-_950*(p3.x-p1.x)/p1p3;bz2y=p2.y-_950*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");},getLabel:function(_951,_952,_953){if(dojo.number){return (_952?dojo.number.format(_951,{places:_953}):dojo.number.format(_951))||"";}return _952?_951.toFixed(_953):_951.toString();}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_954){if(min==max){min-=0.5;max+=0.5;}return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_955,_956){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_957){var _958=_957.bounds.from,_959=_957.bounds.scale;return function(x){return (x-_958)*_959;};},getTransformerFromPlot:function(_95a){var _95b=_95a.bounds.from,_95c=_95a.bounds.scale;return function(x){return x/_95c+_95b;};}};}if(!dojo._hasResource["dojox.charting.plot2d._PlotEvents"]){dojo._hasResource["dojox.charting.plot2d._PlotEvents"]=true;dojo.provide("dojox.charting.plot2d._PlotEvents");dojo.declare("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=dojo.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";dojo.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_95d,_95e){this.dirty=true;return dojo.connect(this,"plotEvent",_95d,_95e);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){if(this._shapeEvents.length){dojo.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_95f){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_95f,this,function(e){o.type=_95f;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){if(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");}},_reconnectEvents:function(_960){var a=this._eventSeries[_960];if(a){dojo.forEach(a,this._connectEvents,this);}},fireEvent:function(_961,_962,_963,_964){var s=this._eventSeries[_961];if(s&&s.length&&_963<s.length){var o=s[_963];o.type=_962;o.event=_964||null;this.raiseEvent(o);o.event=null;}}});}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",[dojox.charting.Element,dojox.charting.plot2d._PlotEvents],{constructor:function(_965,_966){this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return dojox.charting.plot2d.common.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},isDataDirty:function(){return dojo.some(this.series,function(item){return item.dirty;});},performZoom:function(dim,_967){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_968=dim.height-_967.b,_969=this._hScaler.bounds,_96a=(_969.from-_969.lower)*_969.scale,_96b=this._vScaler.bounds,_96c=(_96b.from-_96b.lower)*_96b.scale;rVScale=vs/this.lastWindow.vscale,rHScale=hs/this.lastWindow.hscale,rXOffset=(this.lastWindow.xoffset-_96a)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),rYOffset=(_96c-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.group,anim=dojox.gfx.fx.animateTransform(dojo.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_967.l*(1-rHScale),_968*(1-rVScale)]},{name:"scale",start:[1,1],end:[rHScale,rVScale]},{name:"original"},{name:"translate",start:[0,0],end:[rXOffset,rYOffset]}]},this.zoom));dojo.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_96a,yoffset:_96c});this.zoomQueue.push(anim);dojo.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},render:function(dim,_96d){return this;},getRequiredColors:function(){return this.series.length;},initializeScalers:function(dim,_96e){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_96e.hmin,_96e.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_96e.hmin,_96e.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_96e.vmin,_96e.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_96e.vmin,_96e.vmax,dim.height);}return this;}});}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_96f=df.lambda("item.purgeGroup()");var _970=1200;dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,tension:"",animate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_971,_972){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_972);du.updateWithPattern(this.opt,_972,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_973){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_973);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_96f);this._eventSeries={};this.cleanGroup();this.group.setTransform(null);var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_974,_975,_976,_977=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _978=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_979=[],_97a=[],rseg=null,_97b,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_97c=this._eventSeries[run.name]=new Array(run.data.length);for(var j=0;j<run.data.length;j++){if(run.data[j]!=null){if(!rseg){rseg=[];_97a.push(j);_979.push(rseg);}rseg.push(run.data[j]);}else{rseg=null;}}for(var seg=0;seg<_979.length;seg++){if(typeof _979[seg][0]=="number"){_97b=dojo.map(_979[seg],function(v,i){return {x:ht(i+_97a[seg]+1)+_973.l,y:dim.height-_973.b-vt(v)};},this);}else{_97b=dojo.map(_979[seg],function(v,i){return {x:ht(v.x)+_973.l,y:dim.height-_973.b-vt(v.y)};},this);}var _97d=this.opt.tension?dc.curve(_97b,this.opt.tension):"";if(this.opt.areas&&_97b.length>1){var fill=_978.series.fill;var _97e=dojo.clone(_97b);if(this.opt.tension){var _97f="L"+_97e[_97e.length-1].x+","+(dim.height-_973.b)+" L"+_97e[0].x+","+(dim.height-_973.b)+" L"+_97e[0].x+","+_97e[0].y;run.dyn.fill=s.createPath(_97d+" "+_97f).setFill(fill).getFill();}else{_97e.push({x:_97b[_97b.length-1].x,y:dim.height-_973.b});_97e.push({x:_97b[0].x,y:dim.height-_973.b});_97e.push(_97b[0]);run.dyn.fill=s.createPolyline(_97e).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_974=_978.series.stroke;if(_978.series.outline){_975=run.dyn.outline=dc.makeStroke(_978.series.outline);_975.width=2*_975.width+_974.width;}}if(this.opt.markers){run.dyn.marker=_978.symbol;}var _980=null,_981=null,_982=null;if(_974&&_978.series.shadow&&_97b.length>1){var _983=_978.series.shadow,_984=dojo.map(_97b,function(c){return {x:c.x+_983.dx,y:c.y+_983.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_984,this.opt.tension)).setStroke(_983).getStroke();}else{run.dyn.shadow=s.createPolyline(_984).setStroke(_983).getStroke();}}if(this.opt.markers&&_978.marker.shadow){_983=_978.marker.shadow;_982=dojo.map(_984,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_978.symbol).setStroke(_983).setFill(_983.color);},this);}}if(this.opt.lines&&_97b.length>1){if(_975){if(this.opt.tension){run.dyn.outline=s.createPath(_97d).setStroke(_975).getStroke();}else{run.dyn.outline=s.createPolyline(_97b).setStroke(_975).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_97d).setStroke(_974).getStroke();}else{run.dyn.stroke=s.createPolyline(_97b).setStroke(_974).getStroke();}}if(this.opt.markers){_980=new Array(_97b.length);_981=new Array(_97b.length);_975=null;if(_978.marker.outline){_975=dc.makeStroke(_978.marker.outline);_975.width=2*_975.width+(_978.marker.stroke?_978.marker.stroke.width:0);}dojo.forEach(_97b,function(c,i){var path="M"+c.x+" "+c.y+" "+_978.symbol;if(_975){_981[i]=s.createPath(path).setStroke(_975);}_980[i]=s.createPath(path).setStroke(_978.marker.stroke).setFill(_978.marker.fill);},this);run.dyn.markerFill=_978.marker.fill;run.dyn.markerStroke=_978.marker.stroke;if(_977){dojo.forEach(_980,function(s,i){var o={element:"marker",index:i+_97a[seg],run:run,shape:s,outline:_981[i]||null,shadow:_982&&_982[i]||null,cx:_97b[i].x,cy:_97b[i].y};if(typeof _979[seg][0]=="number"){o.x=i+_97a[seg]+1;o.y=_979[seg][i];}else{o.x=_979[seg][i].x;o.y=_979[seg][i].y;}this._connectEvents(o);_97c[i+_97a[seg]]=o;},this);}else{delete this._eventSeries[run.name];}}}run.dirty=false;}if(this.animate){var _985=this.group;dojox.gfx.fx.animateTransform(dojo.delegate({shape:_985,duration:_970,transform:[{name:"translate",start:[0,dim.height-_973.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_986=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_987,_988){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_988);du.updateWithPattern(this.opt,_988,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_989){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_989);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_986);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_98a=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _98b=t.next("marker",[this.opt,run]),s=run.group,_98c,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_98c=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_989.l,y:dim.height-_989.b-vt(v)};},this);}else{_98c=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_989.l,y:dim.height-_989.b-vt(v.y)};},this);}var _98d=new Array(_98c.length),_98e=new Array(_98c.length),_98f=new Array(_98c.length);dojo.forEach(_98c,function(c,i){var _990=typeof run.data[i]=="number"?t.post(_98b,"marker"):t.addMixin(_98b,"marker",run.data[i],true),path="M"+c.x+" "+c.y+" "+_990.symbol;if(_990.marker.shadow){_98d[i]=s.createPath("M"+(c.x+_990.marker.shadow.dx)+" "+(c.y+_990.marker.shadow.dy)+" "+_990.symbol).setStroke(_990.marker.shadow).setFill(_990.marker.shadow.color);if(this.animate){this._animateScatter(_98d[i],dim.height-_989.b);}}if(_990.marker.outline){var _991=dc.makeStroke(_990.marker.outline);_991.width=2*_991.width+_990.marker.stroke.width;_98f[i]=s.createPath(path).setStroke(_991);if(this.animate){this._animateScatter(_98f[i],dim.height-_989.b);}}var _992=dc.makeStroke(_990.marker.stroke),fill=this._plotFill(_990.marker.fill,dim,_989);if(fill&&(fill.type==="linear"||fill.type=="radial")){var _993=dojox.gfx.gradutils.getColor(fill,{x:c.x,y:c.y});if(_992){_992.color=_993;}_98e[i]=s.createPath(path).setStroke(_992).setFill(_993);}else{_98e[i]=s.createPath(path).setStroke(_992).setFill(fill);}if(this.animate){this._animateScatter(_98e[i],dim.height-_989.b);}},this);if(_98e.length){run.dyn.stroke=_98e[_98e.length-1].getStroke();run.dyn.fill=_98e[_98e.length-1].getFill();}if(_98a){var _994=new Array(_98e.length);dojo.forEach(_98e,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_98f&&_98f[i]||null,shadow:_98d&&_98d[i]||null,cx:_98c[i].x,cy:_98c[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(o);_994[i]=o;},this);this._eventSeries[run.name]=_994;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateScatter:function(_995,_996){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_995,duration:1200,transform:[{name:"translate",start:[0,_996],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n),i=1;t[0]=z;for(;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_997=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{getSeriesStats:function(){var _998=dc.collectStackedStats(this.series);this._maxRunLength=_998.hmax;return _998;},render:function(dim,_999){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_999);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_997);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_99a=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _99b=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_99c,_99d=dojo.map(acc,function(v,i){return {x:ht(i+1)+_999.l,y:dim.height-_999.b-vt(v)};},this);var _99e=this.opt.tension?dc.curve(_99d,this.opt.tension):"";if(this.opt.areas){var _99f=dojo.clone(_99d);if(this.opt.tension){var p=dc.curve(_99f,this.opt.tension);p+=" L"+_99d[_99d.length-1].x+","+(dim.height-_999.b)+" L"+_99d[0].x+","+(dim.height-_999.b)+" L"+_99d[0].x+","+_99d[0].y;run.dyn.fill=s.createPath(p).setFill(_99b.series.fill).getFill();}else{_99f.push({x:_99d[_99d.length-1].x,y:dim.height-_999.b});_99f.push({x:_99d[0].x,y:dim.height-_999.b});_99f.push(_99d[0]);run.dyn.fill=s.createPolyline(_99f).setFill(_99b.series.fill).getFill();}}if(this.opt.lines||this.opt.markers){if(_99b.series.outline){_99c=dc.makeStroke(_99b.series.outline);_99c.width=2*_99c.width+_99b.series.stroke.width;}}if(this.opt.markers){run.dyn.marker=_99b.symbol;}var _9a0,_9a1,_9a2;if(_99b.series.shadow&&_99b.series.stroke){var _9a3=_99b.series.shadow,_9a4=dojo.map(_99d,function(c){return {x:c.x+_9a3.dx,y:c.y+_9a3.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_9a4,this.opt.tension)).setStroke(_9a3).getStroke();}else{run.dyn.shadow=s.createPolyline(_9a4).setStroke(_9a3).getStroke();}}if(this.opt.markers){_9a3=_99b.marker.shadow;_9a2=dojo.map(_9a4,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_99b.symbol).setStroke(_9a3).setFill(_9a3.color);},this);}}if(this.opt.lines){if(_99c){if(this.opt.tension){run.dyn.outline=s.createPath(_99e).setStroke(_99c).getStroke();}else{run.dyn.outline=s.createPolyline(_99d).setStroke(_99c).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_99e).setStroke(_99b.series.stroke).getStroke();}else{run.dyn.stroke=s.createPolyline(_99d).setStroke(_99b.series.stroke).getStroke();}}if(this.opt.markers){_9a0=new Array(_99d.length);_9a1=new Array(_99d.length);_99c=null;if(_99b.marker.outline){_99c=dc.makeStroke(_99b.marker.outline);_99c.width=2*_99c.width+(_99b.marker.stroke?_99b.marker.stroke.width:0);}dojo.forEach(_99d,function(c,i){var path="M"+c.x+" "+c.y+" "+_99b.symbol;if(_99c){_9a1[i]=s.createPath(path).setStroke(_99c);}_9a0[i]=s.createPath(path).setStroke(_99b.marker.stroke).setFill(_99b.marker.fill);},this);if(_99a){var _9a5=new Array(_9a0.length);dojo.forEach(_9a0,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_9a1[i]||null,shadow:_9a2&&_9a2[i]||null,cx:_99d[i].x,cy:_99d[i].y,x:i+1,y:run.data[i]};this._connectEvents(o);_9a5[i]=o;},this);this._eventSeries[run.name]=_9a5;}else{delete this._eventSeries[run.name];}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_9a6=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_9a7,_9a8){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_9a8);du.updateWithPattern(this.opt,_9a8,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _9a9=dc.collectSimpleStats(this.series);_9a9.hmin-=0.5;_9a9.hmax+=0.5;return _9a9;},render:function(dim,_9aa){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9aa);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_9a6);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9ab,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9ac=Math.max(0,this._vScaler.bounds.lower),_9ad=vt(_9ac),_9ae=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_9ab=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9af=t.next("column",[this.opt,run]),s=run.group,_9b0=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _9b1=run.data[j];if(_9b1!==null){var v=typeof _9b1=="number"?_9b1:_9b1.y,vv=vt(v),_9b2=vv-_9ad,h=Math.abs(_9b2),_9b3=typeof _9b1!="number"?t.addMixin(_9af,"column",_9b1,true):t.post(_9af,"column");if(_9ab>=1&&h>=1){var rect={x:_9aa.l+ht(j+0.5)+gap,y:dim.height-_9aa.b-(v>_9ac?vv:_9ad),width:_9ab,height:h};var _9b4=this._plotFill(_9b3.series.fill,dim,_9aa);_9b4=this._shapeFill(_9b4,rect);var _9b5=s.createRect(rect).setFill(_9b4).setStroke(_9b3.series.stroke);run.dyn.fill=_9b5.getFill();run.dyn.stroke=_9b5.getStroke();if(_9ae){var o={element:"column",index:j,run:run,shape:_9b5,x:j+0.5,y:v};this._connectEvents(o);_9b0[j]=o;}if(this.animate){this._animateColumn(_9b5,dim.height-_9aa.b-_9ad,h);}}}}this._eventSeries[run.name]=_9b0;run.dirty=false;}this.dirty=false;return this;},_animateColumn:function(_9b6,_9b7,_9b8){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_9b6,duration:1200,transform:[{name:"translate",start:[0,_9b7-(_9b7/_9b8)],end:[0,0]},{name:"scale",start:[1,1/_9b8],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_9b9=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{getSeriesStats:function(){var _9ba=dc.collectStackedStats(this.series);this._maxRunLength=_9ba.hmax;_9ba.hmin-=0.5;_9ba.hmax+=0.5;return _9ba;},render:function(dim,_9bb){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _9bc=run.data[j];if(_9bc!==null){var v=typeof _9bc=="number"?_9bc:_9bc.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9bb);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_9b9);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9bd,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9be=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_9bd=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9bf=t.next("column",[this.opt,run]),s=run.group,_9c0=new Array(acc.length);for(var j=0;j<acc.length;++j){var _9bc=run.data[j];if(_9bc!==null){var v=acc[j],_9c1=vt(v),_9c2=typeof _9bc!="number"?t.addMixin(_9bf,"column",_9bc,true):t.post(_9bf,"column");if(_9bd>=1&&_9c1>=1){var rect={x:_9bb.l+ht(j+0.5)+gap,y:dim.height-_9bb.b-vt(v),width:_9bd,height:_9c1};var _9c3=this._plotFill(_9c2.series.fill,dim,_9bb);_9c3=this._shapeFill(_9c3,rect);var _9c4=s.createRect(rect).setFill(_9c3).setStroke(_9c2.series.stroke);run.dyn.fill=_9c4.getFill();run.dyn.stroke=_9c4.getStroke();if(_9be){var o={element:"column",index:j,run:run,shape:_9c4,x:j+0.5,y:v};this._connectEvents(o);_9c0[j]=o;}if(this.animate){this._animateColumn(_9c4,dim.height-_9bb.b,_9c1);}}}}this._eventSeries[run.name]=_9c0;run.dirty=false;for(var j=0;j<run.data.length;++j){var _9bc=run.data[j];if(_9bc!==null){var v=typeof _9bc=="number"?_9bc:_9bc.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_9c5=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_9c6){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9c6);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_9c5);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9c7,_9c8,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9c9=Math.max(0,this._vScaler.bounds.lower),_9ca=vt(_9c9),_9cb=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_9c7=_9c8=f.size;for(var i=0;i<this.series.length;++i){var run=this.series[i],_9cc=_9c8*i;if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9cd=t.next("column",[this.opt,run]),s=run.group,_9ce=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _9cf=run.data[j];if(_9cf!==null){var v=typeof _9cf=="number"?_9cf:_9cf.y,vv=vt(v),_9d0=vv-_9ca,h=Math.abs(_9d0),_9d1=typeof _9cf!="number"?t.addMixin(_9cd,"column",_9cf,true):t.post(_9cd,"column");if(_9c7>=1&&h>=1){var rect={x:_9c6.l+ht(j+0.5)+gap+_9cc,y:dim.height-_9c6.b-(v>_9c9?vv:_9ca),width:_9c7,height:h};var _9d2=this._plotFill(_9d1.series.fill,dim,_9c6);_9d2=this._shapeFill(_9d2,rect);var _9d3=s.createRect(rect).setFill(_9d2).setStroke(_9d1.series.stroke);run.dyn.fill=_9d3.getFill();run.dyn.stroke=_9d3.getStroke();if(_9cb){var o={element:"column",index:j,run:run,shape:_9d3,x:j+0.5,y:v};this._connectEvents(o);_9ce[j]=o;}if(this.animate){this._animateColumn(_9d3,dim.height-_9c6.b-_9ca,h);}}}}this._eventSeries[run.name]=_9ce;run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_9d4=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_9d5,_9d6){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_9d6);du.updateWithPattern(this.opt,_9d6,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _9d7=dc.collectSimpleStats(this.series),t;_9d7.hmin-=0.5;_9d7.hmax+=0.5;t=_9d7.hmin,_9d7.hmin=_9d7.vmin,_9d7.vmin=t;t=_9d7.hmax,_9d7.hmax=_9d7.vmax,_9d7.vmax=t;return _9d7;},render:function(dim,_9d8){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9d8);}this.dirty=this.isDirty();this.resetEvents();if(this.dirty){dojo.forEach(this.series,_9d4);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9d9,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9da=Math.max(0,this._hScaler.bounds.lower),_9db=ht(_9da),_9dc=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_9d9=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9dd=t.next("bar",[this.opt,run]),s=run.group,_9de=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _9df=run.data[j];if(_9df!==null){var v=typeof _9df=="number"?_9df:_9df.y,hv=ht(v),_9e0=hv-_9db,w=Math.abs(_9e0),_9e1=typeof _9df!="number"?t.addMixin(_9dd,"bar",_9df,true):t.post(_9dd,"bar");if(w>=1&&_9d9>=1){var rect={x:_9d8.l+(v<_9da?hv:_9db),y:dim.height-_9d8.b-vt(j+1.5)+gap,width:w,height:_9d9};var _9e2=this._plotFill(_9e1.series.fill,dim,_9d8);_9e2=this._shapeFill(_9e2,rect);var _9e3=s.createRect(rect).setFill(_9e2).setStroke(_9e1.series.stroke);run.dyn.fill=_9e3.getFill();run.dyn.stroke=_9e3.getStroke();if(_9dc){var o={element:"bar",index:j,run:run,shape:_9e3,x:v,y:j+1.5};this._connectEvents(o);_9de[j]=o;}if(this.animate){this._animateBar(_9e3,_9d8.l+_9db,-w);}}}}this._eventSeries[run.name]=_9de;run.dirty=false;}this.dirty=false;return this;},_animateBar:function(_9e4,_9e5,_9e6){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_9e4,duration:1200,transform:[{name:"translate",start:[_9e5-(_9e5/_9e6),0],end:[0,0]},{name:"scale",start:[1/_9e6,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_9e7=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{getSeriesStats:function(){var _9e8=dc.collectStackedStats(this.series),t;this._maxRunLength=_9e8.hmax;_9e8.hmin-=0.5;_9e8.hmax+=0.5;t=_9e8.hmin,_9e8.hmin=_9e8.vmin,_9e8.vmin=t;t=_9e8.hmax,_9e8.hmax=_9e8.vmax,_9e8.vmax=t;return _9e8;},render:function(dim,_9e9){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _9ea=run.data[j];if(_9ea!==null){var v=typeof _9ea=="number"?_9ea:_9ea.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9e9);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_9e7);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9eb,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9ec=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_9eb=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9ed=t.next("bar",[this.opt,run]),s=run.group,_9ee=new Array(acc.length);for(var j=0;j<acc.length;++j){var _9ea=run.data[j];if(_9ea!==null){var v=acc[j],_9ef=ht(v),_9f0=typeof _9ea!="number"?t.addMixin(_9ed,"bar",_9ea,true):t.post(_9ed,"bar");if(_9ef>=1&&_9eb>=1){var rect={x:_9e9.l,y:dim.height-_9e9.b-vt(j+1.5)+gap,width:_9ef,height:_9eb};var _9f1=this._plotFill(_9f0.series.fill,dim,_9e9);_9f1=this._shapeFill(_9f1,rect);var _9f2=s.createRect(rect).setFill(_9f1).setStroke(_9f0.series.stroke);run.dyn.fill=_9f2.getFill();run.dyn.stroke=_9f2.getStroke();if(_9ec){var o={element:"bar",index:j,run:run,shape:_9f2,x:v,y:j+1.5};this._connectEvents(o);_9ee[j]=o;}if(this.animate){this._animateBar(_9f2,_9e9.l,-_9ef);}}}}this._eventSeries[run.name]=_9ee;run.dirty=false;for(var j=0;j<run.data.length;++j){var _9ea=run.data[j];if(_9ea!==null){var v=typeof _9ea=="number"?_9ea:_9ea.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_9f3=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_9f4){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_9f4);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_9f3);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_9f5,_9f6,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_9f7=Math.max(0,this._hScaler.bounds.lower),_9f8=ht(_9f7),_9f9=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_9f5=_9f6=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_9fa=_9f6*(this.series.length-i-1);if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _9fb=t.next("bar",[this.opt,run]),s=run.group,_9fc=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _9fd=run.data[j];if(_9fd!==null){var v=typeof _9fd=="number"?_9fd:_9fd.y,hv=ht(v),_9fe=hv-_9f8,w=Math.abs(_9fe),_9ff=typeof _9fd!="number"?t.addMixin(_9fb,"bar",_9fd,true):t.post(_9fb,"bar");if(w>=1&&_9f5>=1){var rect={x:_9f4.l+(v<_9f7?hv:_9f8),y:dim.height-_9f4.b-vt(j+1.5)+gap+_9fa,width:w,height:_9f5};var _a00=this._plotFill(_9ff.series.fill,dim,_9f4);_a00=this._shapeFill(_a00,rect);var _a01=s.createRect(rect).setFill(_a00).setStroke(_9ff.series.stroke);run.dyn.fill=_a01.getFill();run.dyn.stroke=_a01.getStroke();if(_9f9){var o={element:"bar",index:j,run:run,shape:_a01,x:v,y:j+1.5};this._connectEvents(o);_9fc[j]=o;}if(this.animate){this._animateBar(_a01,_9f4.l+_9f8,-_9fe);}}}}this._eventSeries[run.name]=_9fc;run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils,dc=dojox.charting.plot2d.common;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none",animate:null},optionalParams:{},constructor:function(_a02,_a03){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a03);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;this.animate=this.opt.animate;this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},getSeriesStats:function(){return dojo.delegate(dc.defaultStats);},initializeScalers:function(){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},performZoom:function(dim,_a04){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_a05=dim.height-_a04.b,_a06=this._hAxis.getScaler().bounds,_a07=(_a06.from-_a06.lower)*_a06.scale,_a08=this._vAxis.getScaler().bounds,_a09=(_a08.from-_a08.lower)*_a08.scale;rVScale=vs/this.lastWindow.vscale,rHScale=hs/this.lastWindow.hscale,rXOffset=(this.lastWindow.xoffset-_a07)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),rYOffset=(_a09-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.group,anim=dojox.gfx.fx.animateTransform(dojo.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_a04.l*(1-rHScale),_a05*(1-rVScale)]},{name:"scale",start:[1,1],end:[rHScale,rVScale]},{name:"original"},{name:"translate",start:[0,0],end:[rXOffset,rYOffset]}]},this.zoom));dojo.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_a07,yoffset:_a09});this.zoomQueue.push(anim);dojo.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},getRequiredColors:function(){return 0;},render:function(dim,_a0a){if(this.zoom){return this.performZoom(dim,_a0a);}this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _a0b=this._vAxis.getScaler(),vt=_a0b.scaler.getTransformerFromModel(_a0b),_a0c=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_a0c.minor,function(tick){var y=dim.height-_a0a.b-vt(tick.value);var _a0d=s.createLine({x1:_a0a.l,y1:y,x2:dim.width-_a0a.r,y2:y}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_a0d,"h",_a0a.l,_a0a.r+_a0a.l-dim.width);}},this);}if(this.opt.hMajorLines){dojo.forEach(_a0c.major,function(tick){var y=dim.height-_a0a.b-vt(tick.value);var _a0e=s.createLine({x1:_a0a.l,y1:y,x2:dim.width-_a0a.r,y2:y}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_a0e,"h",_a0a.l,_a0a.r+_a0a.l-dim.width);}},this);}}catch(e){}try{var _a0f=this._hAxis.getScaler(),ht=_a0f.scaler.getTransformerFromModel(_a0f),_a0c=this._hAxis.getTicks();if(_a0c&&this.opt.vMinorLines){dojo.forEach(_a0c.minor,function(tick){var x=_a0a.l+ht(tick.value);var _a10=s.createLine({x1:x,y1:_a0a.t,x2:x,y2:dim.height-_a0a.b}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_a10,"v",dim.height-_a0a.b,dim.height-_a0a.b-_a0a.t);}},this);}if(_a0c&&this.opt.vMajorLines){dojo.forEach(_a0c.major,function(tick){var x=_a0a.l+ht(tick.value);var _a11=s.createLine({x1:x,y1:_a0a.t,x2:x,y2:dim.height-_a0a.b}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_a11,"v",dim.height-_a0a.b,dim.height-_a0a.b-_a0a.t);}},this);}}catch(e){}this.dirty=false;return this;},_animateGrid:function(_a12,type,_a13,size){var _a14=type=="h"?[_a13,0]:[0,_a13];var _a15=type=="h"?[1/size,1]:[1,1/size];dojox.gfx.fx.animateTransform(dojo.delegate({shape:_a12,duration:1200,transform:[{name:"translate",start:_a14,end:[0,0]},{name:"scale",start:_a15,end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx,m=g.matrix,_a16=0.2;dojo.declare("dojox.charting.plot2d.Pie",[dojox.charting.Element,dojox.charting.plot2d._PlotEvents],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",labelWiring:{}},constructor:function(_a17,_a18){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a18);du.updateWithPattern(this.opt,_a18,this.optionalParams);this.run=null;this.dyn=[];},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return dojo.delegate(dc.defaultStats);},initializeScalers:function(){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_a19){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_a19.l-_a19.r)/2,ry=(dim.height-_a19.t-_a19.b)/2,r=Math.min(rx,ry),_a1a="font" in this.opt?this.opt.font:t.axis.font,size=_a1a?g.normalizedLength(g.splitFontString(_a1a).size):0,_a1b="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_a1c=m._degToRad(this.opt.startAngle),_a1d=_a1c,step,_a1e,_a1f,_a20,_a21,_a22,run=this.run.data,_a23=this.events();if(typeof run[0]=="number"){_a1e=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_a1e,"<= 0")){return this;}_a1f=df.map(_a1e,"/this",df.foldl(_a1e,"+",0));if(this.opt.labels){_a20=dojo.map(_a1f,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_a1e=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_a1e,"<= 0")){return this;}_a1f=df.map(_a1e,"/this",df.foldl(_a1e,"+",0));if(this.opt.labels){_a20=dojo.map(_a1f,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}var _a24=df.map(run,function(v,i){if(v===null||typeof v=="number"){return t.next("slice",[this.opt,this.run],true);}return t.next("slice",[this.opt,this.run,v],true);},this);if(this.opt.labels){_a21=df.foldl1(df.map(_a20,function(_a25,i){var font=_a24[i].series.font;return dojox.gfx._base._getTextBox(_a25,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_a21,ry-size)+this.opt.labelOffset;}_a22=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_a22=r-this.opt.labelOffset;}var _a26={cx:_a19.l+rx,cy:_a19.t+ry,r:r};this.dyn=[];var _a27=new Array(_a1f.length);dojo.some(_a1f,function(_a28,i){if(_a28<=0){return false;}var v=run[i],_a29=_a24[i],_a2a;if(_a28>=1){_a2a=this._plotFill(_a29.series.fill,dim,_a19);_a2a=this._shapeFill(_a2a,{x:_a26.cx-_a26.r,y:_a26.cy-_a26.r,width:2*_a26.r,height:2*_a26.r});_a2a=this._pseudoRadialFill(_a2a,{x:_a26.cx,y:_a26.cy},_a26.r);var _a2b=s.createCircle(_a26).setFill(_a2a).setStroke(_a29.series.stroke);this.dyn.push({fill:_a2a,stroke:_a29.series.stroke});if(_a23){var o={element:"slice",index:i,run:this.run,shape:_a2b,x:i,y:typeof v=="number"?v:v.y,cx:_a26.cx,cy:_a26.cy,cr:r};this._connectEvents(o);_a27[i]=o;}return true;}var end=_a1d+_a28*2*Math.PI;if(i+1==_a1f.length){end=_a1c+2*Math.PI;}var step=end-_a1d,x1=_a26.cx+r*Math.cos(_a1d),y1=_a26.cy+r*Math.sin(_a1d),x2=_a26.cx+r*Math.cos(end),y2=_a26.cy+r*Math.sin(end);var _a2c=m._degToRad(this.opt.fanSize);if(_a29.series.fill&&_a29.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_a2c){var _a2d=s.createGroup(),_a2e=Math.ceil(step/_a2c),_a2f=step/_a2e;_a2a=this._shapeFill(_a29.series.fill,{x:_a26.cx-_a26.r,y:_a26.cy-_a26.r,width:2*_a26.r,height:2*_a26.r});for(var j=0;j<_a2e;++j){var _a30=j==0?x1:_a26.cx+r*Math.cos(_a1d+(j-_a16)*_a2f),_a31=j==0?y1:_a26.cy+r*Math.sin(_a1d+(j-_a16)*_a2f),_a32=j==_a2e-1?x2:_a26.cx+r*Math.cos(_a1d+(j+1+_a16)*_a2f),_a33=j==_a2e-1?y2:_a26.cy+r*Math.sin(_a1d+(j+1+_a16)*_a2f),fan=_a2d.createPath({}).moveTo(_a26.cx,_a26.cy).lineTo(_a30,_a31).arcTo(r,r,0,_a2f>Math.PI,true,_a32,_a33).lineTo(_a26.cx,_a26.cy).closePath().setFill(this._pseudoRadialFill(_a2a,{x:_a26.cx,y:_a26.cy},r,_a1d+(j+0.5)*_a2f,_a1d+(j+0.5)*_a2f));}_a2d.createPath({}).moveTo(_a26.cx,_a26.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_a26.cx,_a26.cy).closePath().setStroke(_a29.series.stroke);_a2b=_a2d;}else{_a2b=s.createPath({}).moveTo(_a26.cx,_a26.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_a26.cx,_a26.cy).closePath().setStroke(_a29.series.stroke);var _a2a=_a29.series.fill;if(_a2a&&_a2a.type==="radial"){_a2a=this._shapeFill(_a2a,{x:_a26.cx-_a26.r,y:_a26.cy-_a26.r,width:2*_a26.r,height:2*_a26.r});if(this.opt.radGrad==="linear"){_a2a=this._pseudoRadialFill(_a2a,{x:_a26.cx,y:_a26.cy},r,_a1d,end);}}else{if(_a2a&&_a2a.type==="linear"){_a2a=this._plotFill(_a2a,dim,_a19);_a2a=this._shapeFill(_a2a,_a2b.getBoundingBox());}}_a2b.setFill(_a2a);}this.dyn.push({fill:_a2a,stroke:_a29.series.stroke});if(_a23){var o={element:"slice",index:i,run:this.run,shape:_a2b,x:i,y:typeof v=="number"?v:v.y,cx:_a26.cx,cy:_a26.cy,cr:r};this._connectEvents(o);_a27[i]=o;}_a1d=end;return false;},this);if(this.opt.labels){if(this.opt.labelStyle=="default"){_a1d=_a1c;dojo.some(_a1f,function(_a34,i){if(_a34<=0){return false;}var _a35=_a24[i];if(_a34>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_a26.cx,_a26.cy+size/2,"middle",_a20[i],_a35.series.font,_a35.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_a1d+_a34*2*Math.PI,v=run[i];if(i+1==_a1f.length){end=_a1c+2*Math.PI;}var _a36=(_a1d+end)/2,x=_a26.cx+_a22*Math.cos(_a36),y=_a26.cy+_a22*Math.sin(_a36)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_a20[i],_a35.series.font,_a35.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_a1d=end;return false;},this);}else{if(this.opt.labelStyle=="columns"){_a1d=_a1c;var _a37=[];dojo.forEach(_a1f,function(_a38,i){var end=_a1d+_a38*2*Math.PI;if(i+1==_a1f.length){end=_a1c+2*Math.PI;}var _a39=(_a1d+end)/2;_a37.push({angle:_a39,left:Math.cos(_a39)<0,theme:_a24[i],index:i,omit:end-_a1d<0.001});_a1d=end;});var _a3a=dojox.gfx._base._getTextBox("a",{font:_a1a}).h;this._getProperLabelRadius(_a37,_a3a,_a26.r*1.1);dojo.forEach(_a37,function(_a3b,i){if(!_a3b.omit){var _a3c=_a26.cx-_a26.r*2,_a3d=_a26.cx+_a26.r*2,_a3e=dojox.gfx._base._getTextBox(_a20[i],{font:_a1a}).w,x=_a26.cx+_a3b.labelR*Math.cos(_a3b.angle),y=_a26.cy+_a3b.labelR*Math.sin(_a3b.angle),_a3f=(_a3b.left)?(_a3c+_a3e):(_a3d-_a3e),_a40=(_a3b.left)?_a3c:_a3f;var _a41=s.createPath().moveTo(_a26.cx+_a26.r*Math.cos(_a3b.angle),_a26.cy+_a26.r*Math.sin(_a3b.angle));if(Math.abs(_a3b.labelR*Math.cos(_a3b.angle))<_a26.r*2-_a3e){_a41.lineTo(x,y);}_a41.lineTo(_a3f,y).setStroke(_a3b.theme.series.labelWiring);var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_a40,y,"left",_a20[i],_a3b.theme.series.font,_a3b.theme.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}},this);}}}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_a27[esi++];});return this;},_getProperLabelRadius:function(_a42,_a43,_a44){var _a45={},_a46={},_a47=1,_a48=1;if(_a42.length==1){_a42[0].labelR=_a44;return;}for(var i=0;i<_a42.length;i++){var _a49=Math.abs(Math.sin(_a42[i].angle));if(_a42[i].left){if(_a47>_a49){_a47=_a49;_a45=_a42[i];}}else{if(_a48>_a49){_a48=_a49;_a46=_a42[i];}}}_a45.labelR=_a46.labelR=_a44;this._caculateLabelR(_a45,_a42,_a43);this._caculateLabelR(_a46,_a42,_a43);},_caculateLabelR:function(_a4a,_a4b,_a4c){var i=_a4a.index,_a4d=_a4b.length,_a4e=_a4a.labelR;while(!(_a4b[i%_a4d].left^_a4b[(i+1)%_a4d].left)){if(!_a4b[(i+1)%_a4d].omit){var _a4f=(Math.sin(_a4b[i%_a4d].angle)*_a4e+((_a4b[i%_a4d].left)?(-_a4c):_a4c))/Math.sin(_a4b[(i+1)%_a4d].angle);_a4e=(_a4f<_a4a.labelR)?_a4a.labelR:_a4f;_a4b[(i+1)%_a4d].labelR=_a4e;}i++;}i=_a4a.index,j=(i==0)?_a4d-1:i-1;while(!(_a4b[i].left^_a4b[j].left)){if(!_a4b[j].omit){var _a4f=(Math.sin(_a4b[i].angle)*_a4e+((_a4b[i].left)?_a4c:(-_a4c)))/Math.sin(_a4b[j].angle);_a4e=(_a4f<_a4a.labelR)?_a4a.labelR:_a4f;_a4b[j].labelR=_a4e;}i--;j--;i=(i<0)?i+_a4b.length:i;j=(j<0)?j+_a4b.length:j;}},_getLabel:function(_a50){return dc.getLabel(_a50,this.opt.fixed,this.opt.precision);}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_a51=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",animate:null},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_a52,_a53){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a53);du.updateWithPattern(this.opt,_a53,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_a54){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_a54);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_a51);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_a55=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var _a56=t.next("circle",[this.opt,run]),s=run.group,_a57=dojo.map(run.data,function(v,i){return v?{x:ht(v.x)+_a54.l,y:dim.height-_a54.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)}:null;},this);var _a58=null,_a59=null,_a5a=null;if(_a56.series.shadow){_a5a=dojo.map(_a57,function(item){if(item!==null){var _a5b=t.addMixin(_a56,"circle",item,true),_a5c=_a5b.series.shadow;var _a5d=s.createCircle({cx:item.x+_a5c.dx,cy:item.y+_a5c.dy,r:item.radius}).setStroke(_a5c).setFill(_a5c.color);if(this.animate){this._animateBubble(_a5d,dim.height-_a54.b,item.radius);}return _a5d;}return null;},this);if(_a5a.length){run.dyn.shadow=_a5a[_a5a.length-1].getStroke();}}if(_a56.series.outline){_a59=dojo.map(_a57,function(item){if(item!==null){var _a5e=t.addMixin(_a56,"circle",item,true),_a5f=dc.makeStroke(_a5e.series.outline);_a5f.width=2*_a5f.width+_a56.series.stroke.width;var _a60=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_a5f);if(this.animate){this._animateBubble(_a60,dim.height-_a54.b,item.radius);}return _a60;}return null;},this);if(_a59.length){run.dyn.outline=_a59[_a59.length-1].getStroke();}}_a58=dojo.map(_a57,function(item){if(item!==null){var _a61=t.addMixin(_a56,"circle",item,true),rect={x:item.x-item.radius,y:item.y-item.radius,width:2*item.radius,height:2*item.radius};var _a62=this._plotFill(_a61.series.fill,dim,_a54);_a62=this._shapeFill(_a62,rect);var _a63=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setFill(_a62).setStroke(_a61.series.stroke);if(this.animate){this._animateBubble(_a63,dim.height-_a54.b,item.radius);}return _a63;}return null;},this);if(_a58.length){run.dyn.fill=_a58[_a58.length-1].getFill();run.dyn.stroke=_a58[_a58.length-1].getStroke();}if(_a55){var _a64=new Array(_a58.length);dojo.forEach(_a58,function(s,i){if(s!==null){var o={element:"circle",index:i,run:run,shape:s,outline:_a59&&_a59[i]||null,shadow:_a5a&&_a5a[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_a57[i].x,cy:_a57[i].y,cr:_a57[i].radius};this._connectEvents(o);_a64[i]=o;}},this);this._eventSeries[run.name]=_a64;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateBubble:function(_a65,_a66,size){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_a65,duration:1200,transform:[{name:"translate",start:[0,_a66],end:[0,0]},{name:"scale",start:[0,1/size],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Candlesticks"]){dojo._hasResource["dojox.charting.plot2d.Candlesticks"]=true;dojo.provide("dojox.charting.plot2d.Candlesticks");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_a67=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Candlesticks",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_a68,_a69){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a69);du.updateWithPattern(this.opt,_a69,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_a6a){var _a6b=dojo.delegate(dc.defaultStats);for(var i=0;i<_a6a.length;i++){var run=_a6a[i];if(!run.data.length){continue;}var _a6c=_a6b.vmin,_a6d=_a6b.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_a6b.hmin=Math.min(_a6b.hmin,x);_a6b.hmax=Math.max(_a6b.hmax,x);_a6b.vmin=Math.min(_a6b.vmin,val.open,val.close,val.high,val.low);_a6b.vmax=Math.max(_a6b.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_a6b.vmin=Math.min(_a6c,run.ymin);}if("ymax" in run){_a6b.vmax=Math.max(_a6d,run.ymax);}}return _a6b;},getSeriesStats:function(){var _a6e=this.collectStats(this.series);_a6e.hmin-=0.5;_a6e.hmax+=0.5;return _a6e;},render:function(dim,_a6f){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_a6f);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_a67);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_a70,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_a71=Math.max(0,this._vScaler.bounds.lower),_a72=vt(_a71),_a73=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_a70=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _a74=t.next("candlestick",[this.opt,run]),s=run.group,_a75=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _a76=t.addMixin(_a74,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_a6f.l+gap,y=dim.height-_a6f.b,open=vt(v.open),_a77=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(_a70>=1){var _a78=open>_a77;var line={x1:_a70/2,x2:_a70/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,_a77),width:_a70,height:Math.max(_a78?open-_a77:_a77-open,1)};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _a79=shape.createGroup();_a79.createLine(line).setStroke(_a76.series.stroke);_a79.createRect(rect).setStroke(_a76.series.stroke).setFill(_a78?_a76.series.fill:"white");if("mid" in v){_a79.createLine({x1:(_a76.series.stroke.width||1),x2:_a70-(_a76.series.stroke.width||1),y1:y-mid,y2:y-mid}).setStroke(_a78?"white":_a76.series.stroke);}run.dyn.fill=_a76.series.fill;run.dyn.stroke=_a76.series.stroke;if(_a73){var o={element:"candlestick",index:j,run:run,shape:_a79,x:x,y:y-Math.max(open,_a77),cx:_a70/2,cy:(y-Math.max(open,_a77))+(Math.max(_a78?open-_a77:_a77-open,1)/2),width:_a70,height:Math.max(_a78?open-_a77:_a77-open,1),data:v};this._connectEvents(o);_a75[j]=o;}}if(this.animate){this._animateCandlesticks(shape,y-low,high-low);}}}this._eventSeries[run.name]=_a75;run.dirty=false;}this.dirty=false;return this;},_animateCandlesticks:function(_a7a,_a7b,_a7c){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_a7a,duration:1200,transform:[{name:"translate",start:[0,_a7b-(_a7b/_a7c)],end:[0,0]},{name:"scale",start:[1,1/_a7c],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.OHLC"]){dojo._hasResource["dojox.charting.plot2d.OHLC"]=true;dojo.provide("dojox.charting.plot2d.OHLC");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_a7d=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.OHLC",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_a7e,_a7f){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a7f);du.updateWithPattern(this.opt,_a7f,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_a80){var _a81=dojo.delegate(dc.defaultStats);for(var i=0;i<_a80.length;i++){var run=_a80[i];if(!run.data.length){continue;}var _a82=_a81.vmin,_a83=_a81.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_a81.hmin=Math.min(_a81.hmin,x);_a81.hmax=Math.max(_a81.hmax,x);_a81.vmin=Math.min(_a81.vmin,val.open,val.close,val.high,val.low);_a81.vmax=Math.max(_a81.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_a81.vmin=Math.min(_a82,run.ymin);}if("ymax" in run){_a81.vmax=Math.max(_a83,run.ymax);}}return _a81;},getSeriesStats:function(){var _a84=this.collectStats(this.series);_a84.hmin-=0.5;_a84.hmax+=0.5;return _a84;},render:function(dim,_a85){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_a85);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_a7d);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_a86,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_a87=Math.max(0,this._vScaler.bounds.lower),_a88=vt(_a87),_a89=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_a86=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _a8a=t.next("candlestick",[this.opt,run]),s=run.group,_a8b=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _a8c=t.addMixin(_a8a,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_a85.l+gap,y=dim.height-_a85.b,open=vt(v.open),_a8d=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(_a86>=1){var hl={x1:_a86/2,x2:_a86/2,y1:y-high,y2:y-low},op={x1:0,x2:((_a86/2)+((_a8c.series.stroke.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((_a86/2)-((_a8c.series.stroke.width||1)/2)),x2:_a86,y1:y-_a8d,y2:y-_a8d};shape=s.createGroup();shape.setTransform({dx:x,dy:0});var _a8e=shape.createGroup();_a8e.createLine(hl).setStroke(_a8c.series.stroke);_a8e.createLine(op).setStroke(_a8c.series.stroke);_a8e.createLine(cl).setStroke(_a8c.series.stroke);run.dyn.stroke=_a8c.series.stroke;if(_a89){var o={element:"candlestick",index:j,run:run,shape:_a8e,x:x,y:y-Math.max(open,_a8d),cx:_a86/2,cy:(y-Math.max(open,_a8d))+(Math.max(open>_a8d?open-_a8d:_a8d-open,1)/2),width:_a86,height:Math.max(open>_a8d?open-_a8d:_a8d-open,1),data:v};this._connectEvents(o);_a8b[j]=o;}}if(this.animate){this._animateOHLC(shape,y-low,high-low);}}}this._eventSeries[run.name]=_a8b;run.dirty=false;}this.dirty=false;return this;},_animateOHLC:function(_a8f,_a90,_a91){dojox.gfx.fx.animateTransform(dojo.delegate({shape:_a8f,duration:1200,transform:[{name:"translate",start:[0,_a90-(_a90/_a91)],end:[0,0]},{name:"scale",start:[1,1/_a91],end:[1,1]},{name:"original"}]},this.animate)).play();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Spider"]){dojo._hasResource["dojox.charting.plot2d.Spider"]=true;dojo.provide("dojox.charting.plot2d.Spider");dojo.experimental("dojox.charting.plot2d.Spider");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx,m=g.matrix,_a92=0.2;dojo.declare("dojox.charting.plot2d.Spider",[dojox.charting.Element,dojox.charting.plot2d._PlotEvents],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:-10,labelStyle:"default",htmlLabels:true,startAngle:-90,divisions:3,axisColor:"",axisWidth:0,spiderColor:"",spiderWidth:0,seriesWidth:0,seriesFillAlpha:0.2,spiderOrigin:0.16,markerSize:3,spiderType:"polygon",animationType:dojo.fx.easing.backOut,axisTickFont:"",axisTickFontColor:"",axisFont:"",axisFontColor:""},optionalParams:{radius:0,font:"",fontColor:""},constructor:function(_a93,_a94){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_a94);du.updateWithPattern(this.opt,_a94,this.optionalParams);this.series=[];this.dyn=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};},clear:function(){this.dirty=true;this.dyn=[];this.series=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};return this;},setAxis:function(axis){return this;},addSeries:function(run){var _a95=false;this.series.push(run);for(var key in run.data){var val=run.data[key],data=this.datas[key];if(data){data.vlist.push(val);data.min=Math.min(data.min,val);data.max=Math.max(data.max,val);}else{this.datas[key]={min:val,max:val,vlist:[val]};}}if(this.labelKey.length<=0){for(var key in run.data){this.labelKey.push(key);}}return this;},getSeriesStats:function(){return dojox.charting.plot2d.common.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},getRequiredColors:function(){return this.series.length;},initializeScalers:function(dim,_a96){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_a96.hmin,_a96.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_a96.hmin,_a96.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_a96.vmin,_a96.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_a96.vmin,_a96.vmax,dim.height);}return this;},render:function(dim,_a97){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,t=this.chart.theme;this.resetEvents();if(!this.series||!this.series.length){return this;}var o=this.opt,ta=t.axis,rx=(dim.width-_a97.l-_a97.r)/2,ry=(dim.height-_a97.t-_a97.b)/2,r=Math.min(rx,ry),_a98=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font)||"normal normal normal 7pt Tahoma",_a99=o.axisFont||(ta.tick&&ta.tick.titleFont)||"normal normal normal 11pt Tahoma",_a9a=o.axisTickFontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"silver",_a9b=o.axisFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_a9c=o.axisColor||(ta.tick&&ta.tick.axisColor)||"silver",_a9d=o.spiderColor||(ta.tick&&ta.tick.spiderColor)||"silver",_a9e=o.axisWidth||(ta.stroke&&ta.stroke.width)||2,_a9f=o.spiderWidth||(ta.stroke&&ta.stroke.width)||2,_aa0=o.seriesWidth||(ta.stroke&&ta.stroke.width)||2,_aa1=g.normalizedLength(g.splitFontString(_a99).size),_aa2=m._degToRad(o.startAngle),_aa3=_aa2,step,_aa4,_aa5,_aa6,_aa7,_aa8,_aa9,_aaa,_aab,_aac,_aad,ro=o.spiderOrigin,dv=o.divisions>=3?o.divisions:3,ms=o.markerSize,spt=o.spiderType,at=o.animationType,_aae=o.labelOffset<-10?o.labelOffset:-10,_aaf=0.2;if(o.labels){_aa6=dojo.map(this.series,function(s){return s.name;},this);_aa7=df.foldl1(df.map(_aa6,function(_ab0,i){var font=t.series.font;return dojox.gfx._base._getTextBox(_ab0,{font:font}).w;},this),"Math.max(a, b)")/2;r=Math.min(rx-2*_aa7,ry-_aa1)+_aae;_aa8=r-_aae;}if("radius" in o){r=o.radius;_aa8=r-_aae;}r/=(1+_aaf);var _ab1={cx:_a97.l+rx,cy:_a97.t+ry,r:r};for(var i=this.series.length-1;i>=0;i--){var _ab2=this.series[i];if(!this.dirty&&!_ab2.dirty){t.skip();continue;}_ab2.cleanGroup();var run=_ab2.data;if(run!==null){var len=this._getObjectLength(run);if(!_aa9||_aa9.length<=0){_aa9=[],_aaa=[],_aad=[];this._buildPoints(_aa9,len,_ab1,r,_aa3,true);this._buildPoints(_aaa,len,_ab1,r*ro,_aa3,true);this._buildPoints(_aad,len,_ab1,_aa8,_aa3);if(dv>2){_aab=[],_aac=[];for(var j=0;j<dv-2;j++){_aab[j]=[];this._buildPoints(_aab[j],len,_ab1,r*(ro+(1-ro)*(j+1)/(dv-1)),_aa3,true);_aac[j]=r*(ro+(1-ro)*(j+1)/(dv-1));}}}}}var _ab3=s.createGroup(),_ab4={color:_a9c,width:_a9e},_ab5={color:_a9d,width:_a9f};for(var j=_aa9.length-1;j>=0;--j){var _ab6=_aa9[j],st={x:_ab6.x+(_ab6.x-_ab1.cx)*_aaf,y:_ab6.y+(_ab6.y-_ab1.cy)*_aaf},nd={x:_ab6.x+(_ab6.x-_ab1.cx)*_aaf/2,y:_ab6.y+(_ab6.y-_ab1.cy)*_aaf/2};_ab3.createLine({x1:_ab1.cx,y1:_ab1.cy,x2:st.x,y2:st.y}).setStroke(_ab4);this._drawArrow(_ab3,st,nd,_ab4);}var _ab7=s.createGroup();for(var j=_aad.length-1;j>=0;--j){var _ab6=_aad[j],_ab8=dojox.gfx._base._getTextBox(this.labelKey[j],{font:_a99}).w||0,_ab9=this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx";elem=da.createText[_ab9](this.chart,_ab7,(!dojo._isBodyLtr()&&_ab9=="html")?(_ab6.x+_ab8-dim.width):_ab6.x,_ab6.y,"middle",this.labelKey[j],_a99,_a9b);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}var _aba=s.createGroup();if(spt=="polygon"){_aba.createPolyline(_aa9).setStroke(_ab5);_aba.createPolyline(_aaa).setStroke(_ab5);if(_aab.length>0){for(var j=_aab.length-1;j>=0;--j){_aba.createPolyline(_aab[j]).setStroke(_ab5);}}}else{var _abb=this._getObjectLength(this.datas);_aba.createCircle({cx:_ab1.cx,cy:_ab1.cy,r:r}).setStroke(_ab5);_aba.createCircle({cx:_ab1.cx,cy:_ab1.cy,r:r*ro}).setStroke(_ab5);if(_aac.length>0){for(var j=_aac.length-1;j>=0;--j){_aba.createCircle({cx:_ab1.cx,cy:_ab1.cy,r:_aac[j]}).setStroke(_ab5);}}}var _abc=s.createGroup(),len=this._getObjectLength(this.datas),k=0;for(var key in this.datas){var data=this.datas[key],min=data.min,max=data.max,_abd=max-min,end=_aa3+2*Math.PI*k/len;for(var i=0;i<dv;i++){var text=min+_abd*i/(dv-1),_ab6=this._getCoordinate(_ab1,r*(ro+(1-ro)*i/(dv-1)),end);text=this._getLabel(text);var _ab8=dojox.gfx._base._getTextBox(text,{font:_a98}).w||0,_ab9=this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx";if(this.opt.htmlLabels){this.htmlElements.push(da.createText[_ab9](this.chart,_abc,(!dojo._isBodyLtr()&&_ab9=="html")?(_ab6.x+_ab8-dim.width):_ab6.x,_ab6.y,"start",text,_a98,_a9a));}}k++;}this.chart.seriesShapes={};var _abe=[];for(var i=this.series.length-1;i>=0;i--){var _ab2=this.series[i],run=_ab2.data;if(run!==null){var _abf=[],k=0,_ac0=[];for(var key in run){var data=this.datas[key],min=data.min,max=data.max,_abd=max-min,_ac1=run[key],end=_aa3+2*Math.PI*k/len,_ab6=this._getCoordinate(_ab1,r*(ro+(1-ro)*(_ac1-min)/_abd),end);_abf.push(_ab6);_ac0.push({sname:_ab2.name,key:key,data:_ac1});k++;}_abf[_abf.length]=_abf[0];_ac0[_ac0.length]=_ac0[0];var _ac2=this._getBoundary(_abf),_ac3=t.next("spider",[o,_ab2]),ts=_ab2.group,f=g.normalizeColor(_ac3.series.fill),sk={color:_ac3.series.fill,width:_aa0};f.a=o.seriesFillAlpha;_ab2.dyn={fill:f,stroke:sk};var osps=this.oldSeriePoints[_ab2.name];var cs=this._createSeriesEntry(ts,(osps||_aaa),_abf,f,sk,r,ro,ms,at);this.chart.seriesShapes[_ab2.name]=cs;this.oldSeriePoints[_ab2.name]=_abf;var po={element:"spider_poly",index:i,id:"spider_poly_"+_ab2.name,run:_ab2,plot:this,shape:cs.poly,parent:ts,brect:_ac2,cx:_ab1.cx,cy:_ab1.cy,cr:r,f:f,s:s};this._connectEvents(po);var so={element:"spider_plot",index:i,id:"spider_plot_"+_ab2.name,run:_ab2,plot:this,shape:_ab2.group};this._connectEvents(so);dojo.forEach(cs.circles,function(c,i){var _ac4=c.getShape(),co={element:"spider_circle",index:i,id:"spider_circle_"+_ab2.name+i,run:_ab2,plot:this,shape:c,parent:ts,tdata:_ac0[i],cx:_abf[i].x,cy:_abf[i].y,f:f,s:s};this._connectEvents(co);},this);}}return this;},_createSeriesEntry:function(ts,osps,sps,f,sk,r,ro,ms,at){var _ac5=ts.createPolyline(osps).setFill(f).setStroke(sk),_ac6=[];for(var j=0;j<osps.length;j++){var _ac7=osps[j],cr=ms;var _ac8=ts.createCircle({cx:_ac7.x,cy:_ac7.y,r:cr}).setFill(f).setStroke(sk);_ac6.push(_ac8);}var _ac9=dojo.map(sps,function(np,j){var sp=osps[j],anim=new dojo._Animation({duration:1000,easing:at,curve:[sp.y,np.y]});var spl=_ac5,sc=_ac6[j];dojo.connect(anim,"onAnimate",function(y){var _aca=spl.getShape();_aca.points[j].y=y;spl.setShape(_aca);var _acb=sc.getShape();_acb.cy=y;sc.setShape(_acb);});return anim;});var _acc=dojo.map(sps,function(np,j){var sp=osps[j],anim=new dojo._Animation({duration:1000,easing:at,curve:[sp.x,np.x]});var spl=_ac5,sc=_ac6[j];dojo.connect(anim,"onAnimate",function(x){var _acd=spl.getShape();_acd.points[j].x=x;spl.setShape(_acd);var _ace=sc.getShape();_ace.cx=x;sc.setShape(_ace);});return anim;});var _acf=dojo.fx.combine(_ac9.concat(_acc));_acf.play();return {group:ts,poly:_ac5,circles:_ac6};},plotEvent:function(o){var _ad0=o.id?o.id:"default",a;if(_ad0 in this.animations){a=this.animations[_ad0];a.anim&&a.anim.stop(true);}else{a=this.animations[_ad0]={};}if(o.element=="spider_poly"){if(!a.color){var _ad1=o.shape.getFill();if(!_ad1||!(_ad1 instanceof dojo.Color)){return;}a.color={start:_ad1,end:_ad2(_ad1)};}var _ad3=a.color.start,end=a.color.end;if(o.type=="onmouseout"){var t=_ad3;_ad3=end;end=t;}a.anim=dojox.gfx.fx.animateFill({shape:o.shape,duration:800,easing:dojo.fx.easing.backOut,color:{start:_ad3,end:end}});a.anim.play();}else{if(o.element=="spider_circle"){var init,_ad4,_ad5=1.5;if(o.type=="onmouseover"){init=dojox.gfx.matrix.identity;_ad4=_ad5;var _ad6={type:"rect"};_ad6.x=o.cx;_ad6.y=o.cy;_ad6.width=_ad6.height=1;var lt=dojo.coords(this.chart.node,true);_ad6.x+=lt.x;_ad6.y+=lt.y;_ad6.x=Math.round(_ad6.x);_ad6.y=Math.round(_ad6.y);_ad6.width=Math.ceil(_ad6.width);_ad6.height=Math.ceil(_ad6.height);this.aroundRect=_ad6;var _ad7=["after","before"];if(dijit&&dijit.Tooltip){dijit.showTooltip(o.tdata.sname+"<br/>"+o.tdata.key+"<br/>"+o.tdata.data,this.aroundRect,_ad7);}}else{init=dojox.gfx.matrix.scaleAt(_ad5,o.cx,o.cy);_ad4=1/_ad5;if(dijit&&dijit.Tooltip){this.aroundRect&&dijit.hideTooltip(this.aroundRect);}}var cs=o.shape.getShape(),init=m.scaleAt(_ad5,cs.cx,cs.cy),_ad8={shape:o.shape,duration:200,easing:dojo.fx.easing.backOut,transform:[{name:"scaleAt",start:[1,cs.cx,cs.cy],end:[_ad4,cs.cx,cs.cy]},init]};a.anim=dojox.gfx.fx.animateTransform(_ad8);a.anim.play();}else{if(o.element=="spider_plot"){if(o.type=="onmouseover"&&!dojo.isIE){o.shape.moveToFront();}}}}},_getBoundary:function(_ad9){var xmax=_ad9[0].x,xmin=_ad9[0].x,ymax=_ad9[0].y,ymin=_ad9[0].y;for(var i=0;i<_ad9.length;i++){var _ada=_ad9[i];xmax=Math.max(_ada.x,xmax);ymax=Math.max(_ada.y,ymax);xmin=Math.min(_ada.x,xmin);ymin=Math.min(_ada.y,ymin);}return {x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin};},_drawArrow:function(s,_adb,end,_adc){var len=Math.sqrt(Math.pow(end.x-_adb.x,2)+Math.pow(end.y-_adb.y,2)),sin=(end.y-_adb.y)/len,cos=(end.x-_adb.x)/len,_add={x:end.x+(len/3)*(-sin),y:end.y+(len/3)*cos},_ade={x:end.x+(len/3)*sin,y:end.y+(len/3)*(-cos)};s.createPolyline([_adb,_add,_ade]).setFill(_adc.color).setStroke(_adc);},_buildPoints:function(_adf,_ae0,_ae1,_ae2,_ae3,_ae4){for(var i=0;i<_ae0;i++){var end=_ae3+2*Math.PI*i/_ae0;_adf.push(this._getCoordinate(_ae1,_ae2,end));}if(_ae4){_adf.push(this._getCoordinate(_ae1,_ae2,_ae3+2*Math.PI));}},_getCoordinate:function(_ae5,_ae6,_ae7){return {x:_ae5.cx+_ae6*Math.cos(_ae7),y:_ae5.cy+_ae6*Math.sin(_ae7)};},_getObjectLength:function(obj){var _ae8=0;if(dojo.isObject(obj)){for(var key in obj){_ae8++;}}return _ae8;},_getLabel:function(_ae9){return dc.getLabel(_ae9,this.opt.fixed,this.opt.precision);}});function _ad2(_aea){var a=new dojox.color.Color(_aea),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=100;if(x.l<50){x.l=75;}else{if(x.l>75){x.l=50;}else{x.l=x.l-50>75-x.l?50:75;}}}var _aea=dojox.color.fromHsl(x);_aea.a=0.7;return _aea;};})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");dojo.deprecated("dojox.charting.Chart2D","Use dojo.charting.Chart instead and require all other components explicitly","2.0");dojox.charting.Chart2D=dojox.charting.Chart;}if(!dojo._hasResource["dojox.charting.widget.Chart2D"]){dojo._hasResource["dojox.charting.widget.Chart2D"]=true;dojo.provide("dojox.charting.widget.Chart2D");dojo.deprecated("dojox.charting.widget.Chart2D","Use dojo.charting.widget.Chart instead and require all other components explicitly","2.0");dojox.charting.widget.Chart2D=dojox.charting.widget.Chart;}if(!dojo._hasResource["dojox.charting.themes.gradientGenerator"]){dojo._hasResource["dojox.charting.themes.gradientGenerator"]=true;dojo.provide("dojox.charting.themes.gradientGenerator");(function(){var gg=dojox.charting.themes.gradientGenerator;gg.generateFills=function(_aeb,_aec,_aed,_aee){var _aef=dojox.charting.Theme;return dojo.map(_aeb,function(c){return _aef.generateHslGradient(c,_aec,_aed,_aee);});};gg.updateFills=function(_af0,_af1,_af2,_af3){var _af4=dojox.charting.Theme;dojo.forEach(_af0,function(t){if(t.fill&&!t.fill.type){t.fill=_af4.generateHslGradient(t.fill,_af1,_af2,_af3);}});};gg.generateMiniTheme=function(_af5,_af6,_af7,_af8,_af9){var _afa=dojox.charting.Theme;return dojo.map(_af5,function(c){c=new dojox.color.Color(c);return {fill:_afa.generateHslGradient(c,_af6,_af7,_af8),stroke:{color:_afa.generateHslColor(c,_af9)}};});};gg.generateGradientByIntensity=function(_afb,_afc){_afb=new dojo.Color(_afb);return dojo.map(_afc,function(stop){var s=stop.i/255;return {offset:stop.o,color:new dojo.Color([_afb.r*s,_afb.g*s,_afb.b*s,_afb.a])};});};})();}if(!dojo._hasResource["dojox.charting.themes.PrimaryColors"]){dojo._hasResource["dojox.charting.themes.PrimaryColors"]=true;dojo.provide("dojox.charting.themes.PrimaryColors");(function(){var dc=dojox.charting,_afd=dc.themes,_afe=["#f00","#0f0","#00f","#ff0","#0ff","#f0f"],_aff={type:"linear",space:"plot",x1:0,y1:0,x2:0,y2:100};_afd.PrimaryColors=new dc.Theme({seriesThemes:_afd.gradientGenerator.generateMiniTheme(_afe,_aff,90,40,25)});})();}if(!dojo._hasResource["dojox.charting.themes.ThreeD"]){dojo._hasResource["dojox.charting.themes.ThreeD"]=true;dojo.provide("dojox.charting.themes.ThreeD");(function(){var dc=dojox.charting,_b00=dc.themes,_b01=dc.Theme,gi=_b00.gradientGenerator.generateGradientByIntensity,_b02=["#f00","#0f0","#00f","#ff0","#0ff","#f0f"],_b03={type:"linear",space:"shape",x1:0,y1:0,x2:100,y2:0},_b04=[{o:0,i:174},{o:0.08,i:231},{o:0.18,i:237},{o:0.3,i:231},{o:0.39,i:221},{o:0.49,i:206},{o:0.58,i:187},{o:0.68,i:165},{o:0.8,i:128},{o:0.9,i:102},{o:1,i:174}],_b05=2,_b06=100,_b07=50,_b08=dojo.map(_b02,function(c){var fill=dojo.delegate(_b03),_b02=fill.colors=_b00.gradientGenerator.generateGradientByIntensity(c,_b04),_b09=_b02[_b05].color;_b09.r+=_b06;_b09.g+=_b06;_b09.b+=_b06;_b09.sanitize();return fill;});_b00.ThreeD=_b00.PrimaryColors.clone();_b00.ThreeD.series.shadow={dx:1,dy:1,width:3,color:[0,0,0,0.15]};_b00.ThreeD.next=function(_b0a,_b0b,_b0c){if(_b0a=="bar"||_b0a=="column"){var _b0d=this._current%this.seriesThemes.length,s=this.seriesThemes[_b0d],old=s.fill;s.fill=_b08[_b0d];var _b0e=_b01.prototype.next.apply(this,arguments);s.fill=old;return _b0e;}return _b01.prototype.next.apply(this,arguments);};})();}dojo.i18n._preloadLocalizations("dojo.nls.vclViewBlockAllocations",["ROOT","en","en-gb","en-us","es","es-es","es-mx","ja","ja-jp","xx","zh","zh-cn"]);
